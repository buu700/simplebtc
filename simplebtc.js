var Wallet;

(function () {


/*** XMLHttpRequest ***/

var XMLHttpRequest	= typeof window != 'undefined' ? window.XMLHttpRequest : null;
if (!XMLHttpRequest) {
	XMLHttpRequest	= require('xmlhttprequest').XMLHttpRequest;
}


/*** BitcoinJS ***/

!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.Bitcoin=e()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){var assert=_dereq_("assert");module.exports=BigInteger;var canary=0xdeadbeefcafe;var j_lm=(canary&16777215)==15715070;function BigInteger(a,b,c){if(!(this instanceof BigInteger)){return new BigInteger(a,b,c)}if(a!=null){if("number"==typeof a)this.fromNumber(a,b,c);else if(b==null&&"string"!=typeof a)this.fromString(a,256);else this.fromString(a,b)}}var proto=BigInteger.prototype;function nbi(){return new BigInteger(null)}var dbits;function am1(i,x,w,j,c,n){while(--n>=0){var v=x*this[i++]+w[j]+c;c=Math.floor(v/67108864);w[j++]=v&67108863}return c}function am2(i,x,w,j,c,n){var xl=x&32767,xh=x>>15;while(--n>=0){var l=this[i]&32767;var h=this[i++]>>15;var m=xh*l+h*xl;l=xl*l+((m&32767)<<15)+w[j]+(c&1073741823);c=(l>>>30)+(m>>>15)+xh*h+(c>>>30);w[j++]=l&1073741823}return c}function am3(i,x,w,j,c,n){var xl=x&16383,xh=x>>14;while(--n>=0){var l=this[i]&16383;var h=this[i++]>>14;var m=xh*l+h*xl;l=xl*l+((m&16383)<<14)+w[j]+c;c=(l>>28)+(m>>14)+xh*h;w[j++]=l&268435455}return c}BigInteger.prototype.am=am1;dbits=26;BigInteger.prototype.DB=dbits;BigInteger.prototype.DM=(1<<dbits)-1;var DV=BigInteger.prototype.DV=1<<dbits;var BI_FP=52;BigInteger.prototype.FV=Math.pow(2,BI_FP);BigInteger.prototype.F1=BI_FP-dbits;BigInteger.prototype.F2=2*dbits-BI_FP;var BI_RM="0123456789abcdefghijklmnopqrstuvwxyz";var BI_RC=new Array;var rr,vv;rr="0".charCodeAt(0);for(vv=0;vv<=9;++vv)BI_RC[rr++]=vv;rr="a".charCodeAt(0);for(vv=10;vv<36;++vv)BI_RC[rr++]=vv;rr="A".charCodeAt(0);for(vv=10;vv<36;++vv)BI_RC[rr++]=vv;function int2char(n){return BI_RM.charAt(n)}function intAt(s,i){var c=BI_RC[s.charCodeAt(i)];return c==null?-1:c}function bnpCopyTo(r){for(var i=this.t-1;i>=0;--i)r[i]=this[i];r.t=this.t;r.s=this.s}function bnpFromInt(x){this.t=1;this.s=x<0?-1:0;if(x>0)this[0]=x;else if(x<-1)this[0]=x+DV;else this.t=0}function nbv(i){var r=nbi();r.fromInt(i);return r}function bnpFromString(s,b){var self=this;var k;if(b==16)k=4;else if(b==8)k=3;else if(b==256)k=8;else if(b==2)k=1;else if(b==32)k=5;else if(b==4)k=2;else{self.fromRadix(s,b);return}self.t=0;self.s=0;var i=s.length,mi=false,sh=0;while(--i>=0){var x=k==8?s[i]&255:intAt(s,i);if(x<0){if(s.charAt(i)=="-")mi=true;continue}mi=false;if(sh==0)self[self.t++]=x;else if(sh+k>self.DB){self[self.t-1]|=(x&(1<<self.DB-sh)-1)<<sh;self[self.t++]=x>>self.DB-sh}else self[self.t-1]|=x<<sh;sh+=k;if(sh>=self.DB)sh-=self.DB}if(k==8&&(s[0]&128)!=0){self.s=-1;if(sh>0)self[self.t-1]|=(1<<self.DB-sh)-1<<sh}self.clamp();if(mi)BigInteger.ZERO.subTo(self,self)}function bnpClamp(){var c=this.s&this.DM;while(this.t>0&&this[this.t-1]==c)--this.t}function bnToString(b){var self=this;if(self.s<0)return"-"+self.negate().toString(b);var k;if(b==16)k=4;else if(b==8)k=3;else if(b==2)k=1;else if(b==32)k=5;else if(b==4)k=2;else return self.toRadix(b);var km=(1<<k)-1,d,m=false,r="",i=self.t;var p=self.DB-i*self.DB%k;if(i-->0){if(p<self.DB&&(d=self[i]>>p)>0){m=true;r=int2char(d)}while(i>=0){if(p<k){d=(self[i]&(1<<p)-1)<<k-p;d|=self[--i]>>(p+=self.DB-k)}else{d=self[i]>>(p-=k)&km;if(p<=0){p+=self.DB;--i}}if(d>0)m=true;if(m)r+=int2char(d)}}return m?r:"0"}function bnNegate(){var r=nbi();BigInteger.ZERO.subTo(this,r);return r}function bnAbs(){return this.s<0?this.negate():this}function bnCompareTo(a){var r=this.s-a.s;if(r!=0)return r;var i=this.t;r=i-a.t;if(r!=0)return this.s<0?-r:r;while(--i>=0)if((r=this[i]-a[i])!=0)return r;return 0}function nbits(x){var r=1,t;if((t=x>>>16)!=0){x=t;r+=16}if((t=x>>8)!=0){x=t;r+=8}if((t=x>>4)!=0){x=t;r+=4}if((t=x>>2)!=0){x=t;r+=2}if((t=x>>1)!=0){x=t;r+=1}return r}function bnBitLength(){if(this.t<=0)return 0;return this.DB*(this.t-1)+nbits(this[this.t-1]^this.s&this.DM)}function bnpDLShiftTo(n,r){var i;for(i=this.t-1;i>=0;--i)r[i+n]=this[i];for(i=n-1;i>=0;--i)r[i]=0;r.t=this.t+n;r.s=this.s}function bnpDRShiftTo(n,r){for(var i=n;i<this.t;++i)r[i-n]=this[i];r.t=Math.max(this.t-n,0);r.s=this.s}function bnpLShiftTo(n,r){var self=this;var bs=n%self.DB;var cbs=self.DB-bs;var bm=(1<<cbs)-1;var ds=Math.floor(n/self.DB),c=self.s<<bs&self.DM,i;for(i=self.t-1;i>=0;--i){r[i+ds+1]=self[i]>>cbs|c;c=(self[i]&bm)<<bs}for(i=ds-1;i>=0;--i)r[i]=0;r[ds]=c;r.t=self.t+ds+1;r.s=self.s;r.clamp()}function bnpRShiftTo(n,r){var self=this;r.s=self.s;var ds=Math.floor(n/self.DB);if(ds>=self.t){r.t=0;return}var bs=n%self.DB;var cbs=self.DB-bs;var bm=(1<<bs)-1;r[0]=self[ds]>>bs;for(var i=ds+1;i<self.t;++i){r[i-ds-1]|=(self[i]&bm)<<cbs;r[i-ds]=self[i]>>bs}if(bs>0)r[self.t-ds-1]|=(self.s&bm)<<cbs;r.t=self.t-ds;r.clamp()}function bnpSubTo(a,r){var self=this;var i=0,c=0,m=Math.min(a.t,self.t);while(i<m){c+=self[i]-a[i];r[i++]=c&self.DM;c>>=self.DB}if(a.t<self.t){c-=a.s;while(i<self.t){c+=self[i];r[i++]=c&self.DM;c>>=self.DB}c+=self.s}else{c+=self.s;while(i<a.t){c-=a[i];r[i++]=c&self.DM;c>>=self.DB}c-=a.s}r.s=c<0?-1:0;if(c<-1)r[i++]=self.DV+c;else if(c>0)r[i++]=c;r.t=i;r.clamp()}function bnpMultiplyTo(a,r){var x=this.abs(),y=a.abs();var i=x.t;r.t=i+y.t;while(--i>=0)r[i]=0;for(i=0;i<y.t;++i)r[i+x.t]=x.am(0,y[i],r,i,0,x.t);r.s=0;r.clamp();if(this.s!=a.s)BigInteger.ZERO.subTo(r,r)}function bnpSquareTo(r){var x=this.abs();var i=r.t=2*x.t;while(--i>=0)r[i]=0;for(i=0;i<x.t-1;++i){var c=x.am(i,x[i],r,2*i,0,1);if((r[i+x.t]+=x.am(i+1,2*x[i],r,2*i+1,c,x.t-i-1))>=x.DV){r[i+x.t]-=x.DV;r[i+x.t+1]=1}}if(r.t>0)r[r.t-1]+=x.am(i,x[i],r,2*i,0,1);r.s=0;r.clamp()}function bnpDivRemTo(m,q,r){var self=this;var pm=m.abs();if(pm.t<=0)return;var pt=self.abs();if(pt.t<pm.t){if(q!=null)q.fromInt(0);if(r!=null)self.copyTo(r);return}if(r==null)r=nbi();var y=nbi(),ts=self.s,ms=m.s;var nsh=self.DB-nbits(pm[pm.t-1]);if(nsh>0){pm.lShiftTo(nsh,y);pt.lShiftTo(nsh,r)}else{pm.copyTo(y);pt.copyTo(r)}var ys=y.t;var y0=y[ys-1];if(y0==0)return;var yt=y0*(1<<self.F1)+(ys>1?y[ys-2]>>self.F2:0);var d1=self.FV/yt,d2=(1<<self.F1)/yt,e=1<<self.F2;var i=r.t,j=i-ys,t=q==null?nbi():q;y.dlShiftTo(j,t);if(r.compareTo(t)>=0){r[r.t++]=1;r.subTo(t,r)}BigInteger.ONE.dlShiftTo(ys,t);t.subTo(y,y);while(y.t<ys)y[y.t++]=0;while(--j>=0){var qd=r[--i]==y0?self.DM:Math.floor(r[i]*d1+(r[i-1]+e)*d2);if((r[i]+=y.am(0,qd,r,j,0,ys))<qd){y.dlShiftTo(j,t);r.subTo(t,r);while(r[i]<--qd)r.subTo(t,r)}}if(q!=null){r.drShiftTo(ys,q);if(ts!=ms)BigInteger.ZERO.subTo(q,q)}r.t=ys;r.clamp();if(nsh>0)r.rShiftTo(nsh,r);if(ts<0)BigInteger.ZERO.subTo(r,r)}function bnMod(a){var r=nbi();this.abs().divRemTo(a,null,r);if(this.s<0&&r.compareTo(BigInteger.ZERO)>0)a.subTo(r,r);return r}function Classic(m){this.m=m}function cConvert(x){if(x.s<0||x.compareTo(this.m)>=0)return x.mod(this.m);else return x}function cRevert(x){return x}function cReduce(x){x.divRemTo(this.m,null,x)}function cMulTo(x,y,r){x.multiplyTo(y,r);this.reduce(r)}function cSqrTo(x,r){x.squareTo(r);this.reduce(r)}Classic.prototype.convert=cConvert;Classic.prototype.revert=cRevert;Classic.prototype.reduce=cReduce;Classic.prototype.mulTo=cMulTo;Classic.prototype.sqrTo=cSqrTo;function bnpInvDigit(){if(this.t<1)return 0;var x=this[0];if((x&1)==0)return 0;var y=x&3;y=y*(2-(x&15)*y)&15;y=y*(2-(x&255)*y)&255;y=y*(2-((x&65535)*y&65535))&65535;y=y*(2-x*y%this.DV)%this.DV;return y>0?this.DV-y:-y}function Montgomery(m){this.m=m;this.mp=m.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<m.DB-15)-1;this.mt2=2*m.t}function montConvert(x){var r=nbi();x.abs().dlShiftTo(this.m.t,r);r.divRemTo(this.m,null,r);if(x.s<0&&r.compareTo(BigInteger.ZERO)>0)this.m.subTo(r,r);return r}function montRevert(x){var r=nbi();x.copyTo(r);this.reduce(r);return r}function montReduce(x){while(x.t<=this.mt2)x[x.t++]=0;for(var i=0;i<this.m.t;++i){var j=x[i]&32767;var u0=j*this.mpl+((j*this.mph+(x[i]>>15)*this.mpl&this.um)<<15)&x.DM;j=i+this.m.t;x[j]+=this.m.am(0,u0,x,i,0,this.m.t);while(x[j]>=x.DV){x[j]-=x.DV;x[++j]++}}x.clamp();x.drShiftTo(this.m.t,x);if(x.compareTo(this.m)>=0)x.subTo(this.m,x)}function montSqrTo(x,r){x.squareTo(r);this.reduce(r)}function montMulTo(x,y,r){x.multiplyTo(y,r);this.reduce(r)}Montgomery.prototype.convert=montConvert;Montgomery.prototype.revert=montRevert;Montgomery.prototype.reduce=montReduce;Montgomery.prototype.mulTo=montMulTo;Montgomery.prototype.sqrTo=montSqrTo;function bnpIsEven(){return(this.t>0?this[0]&1:this.s)==0}function bnpExp(e,z){if(e>4294967295||e<1)return BigInteger.ONE;var r=nbi(),r2=nbi(),g=z.convert(this),i=nbits(e)-1;g.copyTo(r);while(--i>=0){z.sqrTo(r,r2);if((e&1<<i)>0)z.mulTo(r2,g,r);else{var t=r;r=r2;r2=t}}return z.revert(r)}function bnModPowInt(e,m){var z;if(e<256||m.isEven())z=new Classic(m);else z=new Montgomery(m);return this.exp(e,z)}proto.copyTo=bnpCopyTo;proto.fromInt=bnpFromInt;proto.fromString=bnpFromString;proto.clamp=bnpClamp;proto.dlShiftTo=bnpDLShiftTo;proto.drShiftTo=bnpDRShiftTo;proto.lShiftTo=bnpLShiftTo;proto.rShiftTo=bnpRShiftTo;proto.subTo=bnpSubTo;proto.multiplyTo=bnpMultiplyTo;proto.squareTo=bnpSquareTo;proto.divRemTo=bnpDivRemTo;proto.invDigit=bnpInvDigit;proto.isEven=bnpIsEven;proto.exp=bnpExp;proto.toString=bnToString;proto.negate=bnNegate;proto.abs=bnAbs;proto.compareTo=bnCompareTo;proto.bitLength=bnBitLength;proto.mod=bnMod;proto.modPowInt=bnModPowInt;function nbi(){return new BigInteger(null)}function bnClone(){var r=nbi();this.copyTo(r);return r}function bnIntValue(){if(this.s<0){if(this.t==1)return this[0]-this.DV;else if(this.t==0)return-1}else if(this.t==1)return this[0];else if(this.t==0)return 0;return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function bnByteValue(){return this.t==0?this.s:this[0]<<24>>24}function bnShortValue(){return this.t==0?this.s:this[0]<<16>>16}function bnpChunkSize(r){return Math.floor(Math.LN2*this.DB/Math.log(r))}function bnSigNum(){if(this.s<0)return-1;else if(this.t<=0||this.t==1&&this[0]<=0)return 0;else return 1}function bnpToRadix(b){if(b==null)b=10;if(this.signum()==0||b<2||b>36)return"0";var cs=this.chunkSize(b);var a=Math.pow(b,cs);var d=nbv(a),y=nbi(),z=nbi(),r="";this.divRemTo(d,y,z);while(y.signum()>0){r=(a+z.intValue()).toString(b).substr(1)+r;y.divRemTo(d,y,z)}return z.intValue().toString(b)+r}function bnpFromRadix(s,b){var self=this;self.fromInt(0);if(b==null)b=10;var cs=self.chunkSize(b);var d=Math.pow(b,cs),mi=false,j=0,w=0;for(var i=0;i<s.length;++i){var x=intAt(s,i);if(x<0){if(s.charAt(i)=="-"&&self.signum()==0)mi=true;continue}w=b*w+x;if(++j>=cs){self.dMultiply(d);self.dAddOffset(w,0);j=0;w=0}}if(j>0){self.dMultiply(Math.pow(b,j));self.dAddOffset(w,0)}if(mi)BigInteger.ZERO.subTo(self,self)}function bnpFromNumber(a,b,c){var self=this;if("number"==typeof b){if(a<2)self.fromInt(1);else{self.fromNumber(a,c);if(!self.testBit(a-1))self.bitwiseTo(BigInteger.ONE.shiftLeft(a-1),op_or,self);if(self.isEven())self.dAddOffset(1,0);while(!self.isProbablePrime(b)){self.dAddOffset(2,0);if(self.bitLength()>a)self.subTo(BigInteger.ONE.shiftLeft(a-1),self)}}}else{var x=new Array,t=a&7;x.length=(a>>3)+1;b.nextBytes(x);if(t>0)x[0]&=(1<<t)-1;else x[0]=0;self.fromString(x,256)}}function bnToByteArray(){var self=this;var i=self.t,r=new Array;r[0]=self.s;var p=self.DB-i*self.DB%8,d,k=0;if(i-->0){if(p<self.DB&&(d=self[i]>>p)!=(self.s&self.DM)>>p)r[k++]=d|self.s<<self.DB-p;while(i>=0){if(p<8){d=(self[i]&(1<<p)-1)<<8-p;d|=self[--i]>>(p+=self.DB-8)}else{d=self[i]>>(p-=8)&255;if(p<=0){p+=self.DB;--i}}if((d&128)!=0)d|=-256;if(k===0&&(self.s&128)!=(d&128))++k;if(k>0||d!=self.s)r[k++]=d}}return r}function bnEquals(a){return this.compareTo(a)==0}function bnMin(a){return this.compareTo(a)<0?this:a}function bnMax(a){return this.compareTo(a)>0?this:a}function bnpBitwiseTo(a,op,r){var self=this;var i,f,m=Math.min(a.t,self.t);for(i=0;i<m;++i)r[i]=op(self[i],a[i]);if(a.t<self.t){f=a.s&self.DM;for(i=m;i<self.t;++i)r[i]=op(self[i],f);r.t=self.t}else{f=self.s&self.DM;for(i=m;i<a.t;++i)r[i]=op(f,a[i]);r.t=a.t}r.s=op(self.s,a.s);r.clamp()}function op_and(x,y){return x&y}function bnAnd(a){var r=nbi();this.bitwiseTo(a,op_and,r);return r}function op_or(x,y){return x|y}function bnOr(a){var r=nbi();this.bitwiseTo(a,op_or,r);return r}function op_xor(x,y){return x^y}function bnXor(a){var r=nbi();this.bitwiseTo(a,op_xor,r);return r}function op_andnot(x,y){return x&~y}function bnAndNot(a){var r=nbi();this.bitwiseTo(a,op_andnot,r);return r}function bnNot(){var r=nbi();for(var i=0;i<this.t;++i)r[i]=this.DM&~this[i];r.t=this.t;r.s=~this.s;return r}function bnShiftLeft(n){var r=nbi();if(n<0)this.rShiftTo(-n,r);else this.lShiftTo(n,r);return r}function bnShiftRight(n){var r=nbi();if(n<0)this.lShiftTo(-n,r);else this.rShiftTo(n,r);return r}function lbit(x){if(x==0)return-1;var r=0;if((x&65535)==0){x>>=16;r+=16}if((x&255)==0){x>>=8;r+=8}if((x&15)==0){x>>=4;r+=4}if((x&3)==0){x>>=2;r+=2}if((x&1)==0)++r;return r}function bnGetLowestSetBit(){for(var i=0;i<this.t;++i)if(this[i]!=0)return i*this.DB+lbit(this[i]);if(this.s<0)return this.t*this.DB;return-1}function cbit(x){var r=0;while(x!=0){x&=x-1;++r}return r}function bnBitCount(){var r=0,x=this.s&this.DM;for(var i=0;i<this.t;++i)r+=cbit(this[i]^x);return r}function bnTestBit(n){var j=Math.floor(n/this.DB);if(j>=this.t)return this.s!=0;return(this[j]&1<<n%this.DB)!=0}function bnpChangeBit(n,op){var r=BigInteger.ONE.shiftLeft(n);this.bitwiseTo(r,op,r);return r}function bnSetBit(n){return this.changeBit(n,op_or)}function bnClearBit(n){return this.changeBit(n,op_andnot)}function bnFlipBit(n){return this.changeBit(n,op_xor)}function bnpAddTo(a,r){var self=this;var i=0,c=0,m=Math.min(a.t,self.t);while(i<m){c+=self[i]+a[i];r[i++]=c&self.DM;c>>=self.DB}if(a.t<self.t){c+=a.s;while(i<self.t){c+=self[i];r[i++]=c&self.DM;c>>=self.DB}c+=self.s}else{c+=self.s;while(i<a.t){c+=a[i];r[i++]=c&self.DM;c>>=self.DB}c+=a.s}r.s=c<0?-1:0;if(c>0)r[i++]=c;else if(c<-1)r[i++]=self.DV+c;r.t=i;r.clamp()}function bnAdd(a){var r=nbi();this.addTo(a,r);return r}function bnSubtract(a){var r=nbi();this.subTo(a,r);return r}function bnMultiply(a){var r=nbi();this.multiplyTo(a,r);return r}function bnSquare(){var r=nbi();this.squareTo(r);return r}function bnDivide(a){var r=nbi();this.divRemTo(a,r,null);return r}function bnRemainder(a){var r=nbi();this.divRemTo(a,null,r);return r}function bnDivideAndRemainder(a){var q=nbi(),r=nbi();this.divRemTo(a,q,r);return new Array(q,r)}function bnpDMultiply(n){this[this.t]=this.am(0,n-1,this,0,0,this.t);++this.t;this.clamp()}function bnpDAddOffset(n,w){if(n==0)return;while(this.t<=w)this[this.t++]=0;this[w]+=n;while(this[w]>=this.DV){this[w]-=this.DV;if(++w>=this.t)this[this.t++]=0;++this[w]}}function NullExp(){}function nNop(x){return x}function nMulTo(x,y,r){x.multiplyTo(y,r)}function nSqrTo(x,r){x.squareTo(r)}NullExp.prototype.convert=nNop;NullExp.prototype.revert=nNop;NullExp.prototype.mulTo=nMulTo;NullExp.prototype.sqrTo=nSqrTo;function bnPow(e){return this.exp(e,new NullExp)}function bnpMultiplyLowerTo(a,n,r){var i=Math.min(this.t+a.t,n);r.s=0;r.t=i;while(i>0)r[--i]=0;var j;for(j=r.t-this.t;i<j;++i)r[i+this.t]=this.am(0,a[i],r,i,0,this.t);for(j=Math.min(a.t,n);i<j;++i)this.am(0,a[i],r,i,0,n-i);r.clamp()}function bnpMultiplyUpperTo(a,n,r){--n;var i=r.t=this.t+a.t-n;r.s=0;while(--i>=0)r[i]=0;for(i=Math.max(n-this.t,0);i<a.t;++i)r[this.t+i-n]=this.am(n-i,a[i],r,0,0,this.t+i-n);r.clamp();r.drShiftTo(1,r)}function Barrett(m){this.r2=nbi();this.q3=nbi();BigInteger.ONE.dlShiftTo(2*m.t,this.r2);this.mu=this.r2.divide(m);this.m=m}function barrettConvert(x){if(x.s<0||x.t>2*this.m.t)return x.mod(this.m);else if(x.compareTo(this.m)<0)return x;else{var r=nbi();x.copyTo(r);this.reduce(r);return r}}function barrettRevert(x){return x}function barrettReduce(x){var self=this;x.drShiftTo(self.m.t-1,self.r2);if(x.t>self.m.t+1){x.t=self.m.t+1;x.clamp()}self.mu.multiplyUpperTo(self.r2,self.m.t+1,self.q3);self.m.multiplyLowerTo(self.q3,self.m.t+1,self.r2);while(x.compareTo(self.r2)<0)x.dAddOffset(1,self.m.t+1);x.subTo(self.r2,x);while(x.compareTo(self.m)>=0)x.subTo(self.m,x)}function barrettSqrTo(x,r){x.squareTo(r);this.reduce(r)}function barrettMulTo(x,y,r){x.multiplyTo(y,r);this.reduce(r)}Barrett.prototype.convert=barrettConvert;Barrett.prototype.revert=barrettRevert;Barrett.prototype.reduce=barrettReduce;Barrett.prototype.mulTo=barrettMulTo;Barrett.prototype.sqrTo=barrettSqrTo;function bnModPow(e,m){var i=e.bitLength(),k,r=nbv(1),z;if(i<=0)return r;else if(i<18)k=1;else if(i<48)k=3;else if(i<144)k=4;else if(i<768)k=5;else k=6;if(i<8)z=new Classic(m);else if(m.isEven())z=new Barrett(m);else z=new Montgomery(m);var g=new Array,n=3,k1=k-1,km=(1<<k)-1;g[1]=z.convert(this);if(k>1){var g2=nbi();z.sqrTo(g[1],g2);while(n<=km){g[n]=nbi();z.mulTo(g2,g[n-2],g[n]);n+=2}}var j=e.t-1,w,is1=true,r2=nbi(),t;i=nbits(e[j])-1;while(j>=0){if(i>=k1)w=e[j]>>i-k1&km;else{w=(e[j]&(1<<i+1)-1)<<k1-i;if(j>0)w|=e[j-1]>>this.DB+i-k1}n=k;while((w&1)==0){w>>=1;--n}if((i-=n)<0){i+=this.DB;--j}if(is1){g[w].copyTo(r);is1=false}else{while(n>1){z.sqrTo(r,r2);z.sqrTo(r2,r);n-=2}if(n>0)z.sqrTo(r,r2);else{t=r;r=r2;r2=t}z.mulTo(r2,g[w],r)}while(j>=0&&(e[j]&1<<i)==0){z.sqrTo(r,r2);t=r;r=r2;r2=t;if(--i<0){i=this.DB-1;--j}}}return z.revert(r)}function bnGCD(a){var x=this.s<0?this.negate():this.clone();var y=a.s<0?a.negate():a.clone();if(x.compareTo(y)<0){var t=x;x=y;y=t}var i=x.getLowestSetBit(),g=y.getLowestSetBit();if(g<0)return x;if(i<g)g=i;if(g>0){x.rShiftTo(g,x);y.rShiftTo(g,y)}while(x.signum()>0){if((i=x.getLowestSetBit())>0)x.rShiftTo(i,x);if((i=y.getLowestSetBit())>0)y.rShiftTo(i,y);if(x.compareTo(y)>=0){x.subTo(y,x);x.rShiftTo(1,x)}else{y.subTo(x,y);y.rShiftTo(1,y)}}if(g>0)y.lShiftTo(g,y);return y}function bnpModInt(n){if(n<=0)return 0;var d=this.DV%n,r=this.s<0?n-1:0;if(this.t>0)if(d==0)r=this[0]%n;else for(var i=this.t-1;i>=0;--i)r=(d*r+this[i])%n;return r}function bnModInverse(m){var ac=m.isEven();if(this.isEven()&&ac||m.signum()==0)return BigInteger.ZERO;var u=m.clone(),v=this.clone();var a=nbv(1),b=nbv(0),c=nbv(0),d=nbv(1);while(u.signum()!=0){while(u.isEven()){u.rShiftTo(1,u);if(ac){if(!a.isEven()||!b.isEven()){a.addTo(this,a);b.subTo(m,b)}a.rShiftTo(1,a)}else if(!b.isEven())b.subTo(m,b);b.rShiftTo(1,b)}while(v.isEven()){v.rShiftTo(1,v);if(ac){if(!c.isEven()||!d.isEven()){c.addTo(this,c);d.subTo(m,d)}c.rShiftTo(1,c)}else if(!d.isEven())d.subTo(m,d);d.rShiftTo(1,d)}if(u.compareTo(v)>=0){u.subTo(v,u);if(ac)a.subTo(c,a);b.subTo(d,b)}else{v.subTo(u,v);if(ac)c.subTo(a,c);d.subTo(b,d)}}if(v.compareTo(BigInteger.ONE)!=0)return BigInteger.ZERO;if(d.compareTo(m)>=0)return d.subtract(m);if(d.signum()<0)d.addTo(m,d);else return d;if(d.signum()<0)return d.add(m);else return d}proto.chunkSize=bnpChunkSize;proto.toRadix=bnpToRadix;proto.fromRadix=bnpFromRadix;proto.fromNumber=bnpFromNumber;proto.bitwiseTo=bnpBitwiseTo;proto.changeBit=bnpChangeBit;proto.addTo=bnpAddTo;proto.dMultiply=bnpDMultiply;proto.dAddOffset=bnpDAddOffset;proto.multiplyLowerTo=bnpMultiplyLowerTo;proto.multiplyUpperTo=bnpMultiplyUpperTo;proto.modInt=bnpModInt;proto.clone=bnClone;proto.intValue=bnIntValue;proto.byteValue=bnByteValue;proto.shortValue=bnShortValue;proto.signum=bnSigNum;proto.toByteArray=bnToByteArray;proto.equals=bnEquals;proto.min=bnMin;proto.max=bnMax;proto.and=bnAnd;proto.or=bnOr;proto.xor=bnXor;proto.andNot=bnAndNot;proto.not=bnNot;proto.shiftLeft=bnShiftLeft;proto.shiftRight=bnShiftRight;proto.getLowestSetBit=bnGetLowestSetBit;proto.bitCount=bnBitCount;proto.testBit=bnTestBit;proto.setBit=bnSetBit;proto.clearBit=bnClearBit;proto.flipBit=bnFlipBit;proto.add=bnAdd;proto.subtract=bnSubtract;proto.multiply=bnMultiply;proto.divide=bnDivide;proto.remainder=bnRemainder;proto.divideAndRemainder=bnDivideAndRemainder;proto.modPow=bnModPow;proto.modInverse=bnModInverse;proto.pow=bnPow;proto.gcd=bnGCD;proto.square=bnSquare;BigInteger.ZERO=nbv(0);BigInteger.ONE=nbv(1);BigInteger.valueOf=nbv},{assert:76}],2:[function(_dereq_,module,exports){(function(Buffer){var assert=_dereq_("assert");var BigInteger=_dereq_("./bigi");BigInteger.fromByteArrayUnsigned=function(byteArray){if(byteArray[0]&128){return new BigInteger([0].concat(byteArray))}return new BigInteger(byteArray)};BigInteger.prototype.toByteArrayUnsigned=function(){var byteArray=this.toByteArray();return byteArray[0]===0?byteArray.slice(1):byteArray};BigInteger.fromDERInteger=function(byteArray){return new BigInteger(byteArray)};BigInteger.prototype.toDERInteger=BigInteger.prototype.toByteArray;BigInteger.fromBuffer=function(buffer){if(buffer[0]&128){var byteArray=Array.prototype.slice.call(buffer);return new BigInteger([0].concat(byteArray))}return new BigInteger(buffer)};BigInteger.fromHex=function(hex){if(hex==="")return BigInteger.ZERO;assert.equal(hex,hex.match(/^[A-Fa-f0-9]+/),"Invalid hex string");assert.equal(hex.length%2,0,"Incomplete hex");return new BigInteger(hex,16)};BigInteger.prototype.toBuffer=function(size){var byteArray=this.toByteArrayUnsigned();var zeros=[];var padding=size-byteArray.length;while(zeros.length<padding)zeros.push(0);return new Buffer(zeros.concat(byteArray))};BigInteger.prototype.toHex=function(size){return this.toBuffer(size).toString("hex")}}).call(this,_dereq_("buffer").Buffer)},{"./bigi":1,assert:76,buffer:80}],3:[function(_dereq_,module,exports){var BigInteger=_dereq_("./bigi");_dereq_("./convert");module.exports=BigInteger},{"./bigi":1,"./convert":2}],4:[function(_dereq_,module,exports){(function(Buffer){var assert=_dereq_("assert");var BigInteger=_dereq_("bigi");var ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var ALPHABET_BUF=new Buffer(ALPHABET,"ascii");var ALPHABET_MAP={};for(var i=0;i<ALPHABET.length;i++){ALPHABET_MAP[ALPHABET.charAt(i)]=BigInteger.valueOf(i)}var BASE=new BigInteger("58");function encode(buffer){var bi=BigInteger.fromBuffer(buffer);var result=new Buffer(buffer.length<<1);var i=result.length-1;while(bi.signum()>0){var remainder=bi.mod(BASE);bi=bi.divide(BASE);result[i]=ALPHABET_BUF[remainder.intValue()];i--}var j=0;while(buffer[j]===0){result[i]=ALPHABET_BUF[0];j++;i--}return result.slice(i+1,result.length).toString("ascii")}function decode(string){if(string.length===0)return new Buffer(0);var num=BigInteger.ZERO;for(var i=0;i<string.length;i++){num=num.multiply(BASE);var figure=ALPHABET_MAP[string.charAt(i)];assert.notEqual(figure,undefined,"Non-base58 character");num=num.add(figure)}var j=0;while(j<string.length&&string[j]===ALPHABET[0]){j++}var buffer=num.toBuffer();var leadingZeros=new Buffer(j);leadingZeros.fill(0);return Buffer.concat([leadingZeros,buffer])}module.exports={encode:encode,decode:decode}}).call(this,_dereq_("buffer").Buffer)},{assert:76,bigi:3,buffer:80}],5:[function(_dereq_,module,exports){(function(Buffer){var createHash=_dereq_("sha.js");var md5=toConstructor(_dereq_("./md5"));var rmd160=toConstructor(_dereq_("ripemd160"));function toConstructor(fn){return function(){var buffers=[];var m={update:function(data,enc){if(!Buffer.isBuffer(data))data=new Buffer(data,enc);buffers.push(data);return this},digest:function(enc){var buf=Buffer.concat(buffers);var r=fn(buf);buffers=null;return enc?r.toString(enc):r}};return m}}module.exports=function(alg){if("md5"===alg)return new md5;if("rmd160"===alg)return new rmd160;return createHash(alg)}}).call(this,_dereq_("buffer").Buffer)},{"./md5":9,buffer:80,ripemd160:10,"sha.js":12}],6:[function(_dereq_,module,exports){(function(Buffer){var createHash=_dereq_("./create-hash");var blocksize=64;var zeroBuffer=new Buffer(blocksize);zeroBuffer.fill(0);module.exports=Hmac;function Hmac(alg,key){if(!(this instanceof Hmac))return new Hmac(alg,key);this._opad=opad;this._alg=alg;key=this._key=!Buffer.isBuffer(key)?new Buffer(key):key;if(key.length>blocksize){key=createHash(alg).update(key).digest()}else if(key.length<blocksize){key=Buffer.concat([key,zeroBuffer],blocksize)}var ipad=this._ipad=new Buffer(blocksize);var opad=this._opad=new Buffer(blocksize);for(var i=0;i<blocksize;i++){ipad[i]=key[i]^54;opad[i]=key[i]^92}this._hash=createHash(alg).update(ipad)}Hmac.prototype.update=function(data,enc){this._hash.update(data,enc);return this};Hmac.prototype.digest=function(enc){var h=this._hash.digest();return createHash(this._alg).update(this._opad).update(h).digest(enc)}}).call(this,_dereq_("buffer").Buffer)},{"./create-hash":5,buffer:80}],7:[function(_dereq_,module,exports){(function(Buffer){var intSize=4;var zeroBuffer=new Buffer(intSize);zeroBuffer.fill(0);var chrsz=8;function toArray(buf,bigEndian){if(buf.length%intSize!==0){var len=buf.length+(intSize-buf.length%intSize);buf=Buffer.concat([buf,zeroBuffer],len)}var arr=[];var fn=bigEndian?buf.readInt32BE:buf.readInt32LE;for(var i=0;i<buf.length;i+=intSize){arr.push(fn.call(buf,i))}return arr}function toBuffer(arr,size,bigEndian){var buf=new Buffer(size);var fn=bigEndian?buf.writeInt32BE:buf.writeInt32LE;for(var i=0;i<arr.length;i++){fn.call(buf,arr[i],i*4,true)}return buf}function hash(buf,fn,hashSize,bigEndian){if(!Buffer.isBuffer(buf))buf=new Buffer(buf);var arr=fn(toArray(buf,bigEndian),buf.length*chrsz);return toBuffer(arr,hashSize,bigEndian)}module.exports={hash:hash}}).call(this,_dereq_("buffer").Buffer)},{buffer:80}],8:[function(_dereq_,module,exports){(function(Buffer){var rng=_dereq_("./rng");function error(){var m=[].slice.call(arguments).join(" ");throw new Error([m,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}exports.createHash=_dereq_("./create-hash");exports.createHmac=_dereq_("./create-hmac");exports.randomBytes=function(size,callback){if(callback&&callback.call){try{callback.call(this,undefined,new Buffer(rng(size)))}catch(err){callback(err)}}else{return new Buffer(rng(size))}};function each(a,f){for(var i in a)f(a[i],i)}exports.getHashes=function(){return["sha1","sha256","md5","rmd160"]};var p=_dereq_("./pbkdf2")(exports.createHmac);exports.pbkdf2=p.pbkdf2;exports.pbkdf2Sync=p.pbkdf2Sync;each(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman"],function(name){exports[name]=function(){error("sorry,",name,"is not implemented yet")}})}).call(this,_dereq_("buffer").Buffer)},{"./create-hash":5,"./create-hmac":6,"./pbkdf2":16,"./rng":17,buffer:80}],9:[function(_dereq_,module,exports){var helpers=_dereq_("./helpers");function core_md5(x,len){x[len>>5]|=128<<len%32;x[(len+64>>>9<<4)+14]=len;var a=1732584193;var b=-271733879;var c=-1732584194;var d=271733878;for(var i=0;i<x.length;i+=16){var olda=a;var oldb=b;var oldc=c;var oldd=d;a=md5_ff(a,b,c,d,x[i+0],7,-680876936);d=md5_ff(d,a,b,c,x[i+1],12,-389564586);c=md5_ff(c,d,a,b,x[i+2],17,606105819);b=md5_ff(b,c,d,a,x[i+3],22,-1044525330);a=md5_ff(a,b,c,d,x[i+4],7,-176418897);d=md5_ff(d,a,b,c,x[i+5],12,1200080426);c=md5_ff(c,d,a,b,x[i+6],17,-1473231341);b=md5_ff(b,c,d,a,x[i+7],22,-45705983);a=md5_ff(a,b,c,d,x[i+8],7,1770035416);d=md5_ff(d,a,b,c,x[i+9],12,-1958414417);c=md5_ff(c,d,a,b,x[i+10],17,-42063);b=md5_ff(b,c,d,a,x[i+11],22,-1990404162);a=md5_ff(a,b,c,d,x[i+12],7,1804603682);d=md5_ff(d,a,b,c,x[i+13],12,-40341101);c=md5_ff(c,d,a,b,x[i+14],17,-1502002290);b=md5_ff(b,c,d,a,x[i+15],22,1236535329);a=md5_gg(a,b,c,d,x[i+1],5,-165796510);d=md5_gg(d,a,b,c,x[i+6],9,-1069501632);c=md5_gg(c,d,a,b,x[i+11],14,643717713);b=md5_gg(b,c,d,a,x[i+0],20,-373897302);a=md5_gg(a,b,c,d,x[i+5],5,-701558691);d=md5_gg(d,a,b,c,x[i+10],9,38016083);c=md5_gg(c,d,a,b,x[i+15],14,-660478335);b=md5_gg(b,c,d,a,x[i+4],20,-405537848);a=md5_gg(a,b,c,d,x[i+9],5,568446438);d=md5_gg(d,a,b,c,x[i+14],9,-1019803690);c=md5_gg(c,d,a,b,x[i+3],14,-187363961);b=md5_gg(b,c,d,a,x[i+8],20,1163531501);a=md5_gg(a,b,c,d,x[i+13],5,-1444681467);d=md5_gg(d,a,b,c,x[i+2],9,-51403784);c=md5_gg(c,d,a,b,x[i+7],14,1735328473);b=md5_gg(b,c,d,a,x[i+12],20,-1926607734);a=md5_hh(a,b,c,d,x[i+5],4,-378558);d=md5_hh(d,a,b,c,x[i+8],11,-2022574463);c=md5_hh(c,d,a,b,x[i+11],16,1839030562);b=md5_hh(b,c,d,a,x[i+14],23,-35309556);a=md5_hh(a,b,c,d,x[i+1],4,-1530992060);d=md5_hh(d,a,b,c,x[i+4],11,1272893353);c=md5_hh(c,d,a,b,x[i+7],16,-155497632);b=md5_hh(b,c,d,a,x[i+10],23,-1094730640);a=md5_hh(a,b,c,d,x[i+13],4,681279174);d=md5_hh(d,a,b,c,x[i+0],11,-358537222);c=md5_hh(c,d,a,b,x[i+3],16,-722521979);b=md5_hh(b,c,d,a,x[i+6],23,76029189);a=md5_hh(a,b,c,d,x[i+9],4,-640364487);d=md5_hh(d,a,b,c,x[i+12],11,-421815835);c=md5_hh(c,d,a,b,x[i+15],16,530742520);b=md5_hh(b,c,d,a,x[i+2],23,-995338651);a=md5_ii(a,b,c,d,x[i+0],6,-198630844);d=md5_ii(d,a,b,c,x[i+7],10,1126891415);c=md5_ii(c,d,a,b,x[i+14],15,-1416354905);b=md5_ii(b,c,d,a,x[i+5],21,-57434055);a=md5_ii(a,b,c,d,x[i+12],6,1700485571);d=md5_ii(d,a,b,c,x[i+3],10,-1894986606);c=md5_ii(c,d,a,b,x[i+10],15,-1051523);b=md5_ii(b,c,d,a,x[i+1],21,-2054922799);a=md5_ii(a,b,c,d,x[i+8],6,1873313359);d=md5_ii(d,a,b,c,x[i+15],10,-30611744);c=md5_ii(c,d,a,b,x[i+6],15,-1560198380);b=md5_ii(b,c,d,a,x[i+13],21,1309151649);a=md5_ii(a,b,c,d,x[i+4],6,-145523070);d=md5_ii(d,a,b,c,x[i+11],10,-1120210379);c=md5_ii(c,d,a,b,x[i+2],15,718787259);b=md5_ii(b,c,d,a,x[i+9],21,-343485551);a=safe_add(a,olda);b=safe_add(b,oldb);c=safe_add(c,oldc);d=safe_add(d,oldd)}return Array(a,b,c,d)}function md5_cmn(q,a,b,x,s,t){return safe_add(bit_rol(safe_add(safe_add(a,q),safe_add(x,t)),s),b)}function md5_ff(a,b,c,d,x,s,t){return md5_cmn(b&c|~b&d,a,b,x,s,t)}function md5_gg(a,b,c,d,x,s,t){return md5_cmn(b&d|c&~d,a,b,x,s,t)}function md5_hh(a,b,c,d,x,s,t){return md5_cmn(b^c^d,a,b,x,s,t)}function md5_ii(a,b,c,d,x,s,t){return md5_cmn(c^(b|~d),a,b,x,s,t)}function safe_add(x,y){var lsw=(x&65535)+(y&65535);var msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|lsw&65535}function bit_rol(num,cnt){return num<<cnt|num>>>32-cnt}module.exports=function md5(buf){return helpers.hash(buf,core_md5,16)}},{"./helpers":7}],10:[function(_dereq_,module,exports){(function(Buffer){module.exports=ripemd160;var zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13];var zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11];var sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6];var sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];var hl=[0,1518500249,1859775393,2400959708,2840853838];var hr=[1352829926,1548603684,1836072691,2053994217,0];var bytesToWords=function(bytes){var words=[];for(var i=0,b=0;i<bytes.length;i++,b+=8){words[b>>>5]|=bytes[i]<<24-b%32}return words};var wordsToBytes=function(words){var bytes=[];for(var b=0;b<words.length*32;b+=8){bytes.push(words[b>>>5]>>>24-b%32&255)}return bytes};var processBlock=function(H,M,offset){for(var i=0;i<16;i++){var offset_i=offset+i;var M_offset_i=M[offset_i];M[offset_i]=(M_offset_i<<8|M_offset_i>>>24)&16711935|(M_offset_i<<24|M_offset_i>>>8)&4278255360}var al,bl,cl,dl,el;var ar,br,cr,dr,er;ar=al=H[0];br=bl=H[1];cr=cl=H[2];dr=dl=H[3];er=el=H[4];var t;for(var i=0;i<80;i+=1){t=al+M[offset+zl[i]]|0;if(i<16){t+=f1(bl,cl,dl)+hl[0]}else if(i<32){t+=f2(bl,cl,dl)+hl[1]}else if(i<48){t+=f3(bl,cl,dl)+hl[2]}else if(i<64){t+=f4(bl,cl,dl)+hl[3]}else{t+=f5(bl,cl,dl)+hl[4]}t=t|0;t=rotl(t,sl[i]);t=t+el|0;al=el;el=dl;dl=rotl(cl,10);cl=bl;bl=t;
t=ar+M[offset+zr[i]]|0;if(i<16){t+=f5(br,cr,dr)+hr[0]}else if(i<32){t+=f4(br,cr,dr)+hr[1]}else if(i<48){t+=f3(br,cr,dr)+hr[2]}else if(i<64){t+=f2(br,cr,dr)+hr[3]}else{t+=f1(br,cr,dr)+hr[4]}t=t|0;t=rotl(t,sr[i]);t=t+er|0;ar=er;er=dr;dr=rotl(cr,10);cr=br;br=t}t=H[1]+cl+dr|0;H[1]=H[2]+dl+er|0;H[2]=H[3]+el+ar|0;H[3]=H[4]+al+br|0;H[4]=H[0]+bl+cr|0;H[0]=t};function f1(x,y,z){return x^y^z}function f2(x,y,z){return x&y|~x&z}function f3(x,y,z){return(x|~y)^z}function f4(x,y,z){return x&z|y&~z}function f5(x,y,z){return x^(y|~z)}function rotl(x,n){return x<<n|x>>>32-n}function ripemd160(message){var H=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof message=="string")message=new Buffer(message,"utf8");var m=bytesToWords(message);var nBitsLeft=message.length*8;var nBitsTotal=message.length*8;m[nBitsLeft>>>5]|=128<<24-nBitsLeft%32;m[(nBitsLeft+64>>>9<<4)+14]=(nBitsTotal<<8|nBitsTotal>>>24)&16711935|(nBitsTotal<<24|nBitsTotal>>>8)&4278255360;for(var i=0;i<m.length;i+=16){processBlock(H,m,i)}for(var i=0;i<5;i++){var H_i=H[i];H[i]=(H_i<<8|H_i>>>24)&16711935|(H_i<<24|H_i>>>8)&4278255360}var digestbytes=wordsToBytes(H);return new Buffer(digestbytes)}}).call(this,_dereq_("buffer").Buffer)},{buffer:80}],11:[function(_dereq_,module,exports){var u=_dereq_("./util");var write=u.write;var fill=u.zeroFill;module.exports=function(Buffer){function Hash(blockSize,finalSize){this._block=new Buffer(blockSize);this._finalSize=finalSize;this._blockSize=blockSize;this._len=0;this._s=0}Hash.prototype.init=function(){this._s=0;this._len=0};function lengthOf(data,enc){if(enc==null)return data.byteLength||data.length;if(enc=="ascii"||enc=="binary")return data.length;if(enc=="hex")return data.length/2;if(enc=="base64")return data.length/3}Hash.prototype.update=function(data,enc){var bl=this._blockSize;var length;if(!enc&&"string"===typeof data)enc="utf8";if(enc){if(enc==="utf-8")enc="utf8";if(enc==="base64"||enc==="utf8")data=new Buffer(data,enc),enc=null;length=lengthOf(data,enc)}else length=data.byteLength||data.length;var l=this._len+=length;var s=this._s=this._s||0;var f=0;var buffer=this._block;while(s<l){var t=Math.min(length,f+bl);write(buffer,data,enc,s%bl,f,t);var ch=t-f;s+=ch;f+=ch;if(!(s%bl))this._update(buffer)}this._s=s;return this};Hash.prototype.digest=function(enc){var bl=this._blockSize;var fl=this._finalSize;var len=this._len*8;var x=this._block;var bits=len%(bl*8);x[this._len%bl]=128;fill(this._block,this._len%bl+1);if(bits>=fl*8){this._update(this._block);u.zeroFill(this._block,0)}x.writeInt32BE(len,fl+4);var hash=this._update(this._block)||this._hash();if(enc==null)return hash;return hash.toString(enc)};Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")};return Hash}},{"./util":15}],12:[function(_dereq_,module,exports){var exports=module.exports=function(alg){var Alg=exports[alg];if(!Alg)throw new Error(alg+" is not supported (we accept pull requests)");return new Alg};var Buffer=_dereq_("buffer").Buffer;var Hash=_dereq_("./hash")(Buffer);exports.sha=exports.sha1=_dereq_("./sha1")(Buffer,Hash);exports.sha256=_dereq_("./sha256")(Buffer,Hash)},{"./hash":11,"./sha1":13,"./sha256":14,buffer:80}],13:[function(_dereq_,module,exports){module.exports=function(Buffer,Hash){var inherits=_dereq_("util").inherits;inherits(Sha1,Hash);var A=0|0;var B=4|0;var C=8|0;var D=12|0;var E=16|0;var BE=false;var LE=true;var W=new Int32Array(80);var POOL=[];function Sha1(){if(POOL.length)return POOL.pop().init();if(!(this instanceof Sha1))return new Sha1;this._w=W;Hash.call(this,16*4,14*4);this._h=null;this.init()}Sha1.prototype.init=function(){this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520;Hash.prototype.init.call(this);return this};Sha1.prototype._POOL=POOL;var isDV=new Buffer(1)instanceof DataView;function readInt32BE(X,i){return isDV?X.getInt32(i,false):X.readInt32BE(i)}Sha1.prototype._update=function(array){var X=this._block;var h=this._h;var a,b,c,d,e,_a,_b,_c,_d,_e;a=_a=this._a;b=_b=this._b;c=_c=this._c;d=_d=this._d;e=_e=this._e;var w=this._w;for(var j=0;j<80;j++){var W=w[j]=j<16?X.readInt32BE(j*4):rol(w[j-3]^w[j-8]^w[j-14]^w[j-16],1);var t=add(add(rol(a,5),sha1_ft(j,b,c,d)),add(add(e,W),sha1_kt(j)));e=d;d=c;c=rol(b,30);b=a;a=t}this._a=add(a,_a);this._b=add(b,_b);this._c=add(c,_c);this._d=add(d,_d);this._e=add(e,_e)};Sha1.prototype._hash=function(){if(POOL.length<100)POOL.push(this);var H=new Buffer(20);H.writeInt32BE(this._a|0,A);H.writeInt32BE(this._b|0,B);H.writeInt32BE(this._c|0,C);H.writeInt32BE(this._d|0,D);H.writeInt32BE(this._e|0,E);return H};function sha1_ft(t,b,c,d){if(t<20)return b&c|~b&d;if(t<40)return b^c^d;if(t<60)return b&c|b&d|c&d;return b^c^d}function sha1_kt(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}function add(x,y){return x+y|0}function rol(num,cnt){return num<<cnt|num>>>32-cnt}return Sha1}},{util:86}],14:[function(_dereq_,module,exports){var inherits=_dereq_("util").inherits;var BE=false;var LE=true;var u=_dereq_("./util");module.exports=function(Buffer,Hash){var K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];inherits(Sha256,Hash);var W=new Array(64);var POOL=[];function Sha256(){if(POOL.length){}this.init();this._w=W;Hash.call(this,16*4,14*4)}Sha256.prototype.init=function(){this._a=1779033703|0;this._b=3144134277|0;this._c=1013904242|0;this._d=2773480762|0;this._e=1359893119|0;this._f=2600822924|0;this._g=528734635|0;this._h=1541459225|0;this._len=this._s=0;return this};var safe_add=function(x,y){var lsw=(x&65535)+(y&65535);var msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|lsw&65535};function S(X,n){return X>>>n|X<<32-n}function R(X,n){return X>>>n}function Ch(x,y,z){return x&y^~x&z}function Maj(x,y,z){return x&y^x&z^y&z}function Sigma0256(x){return S(x,2)^S(x,13)^S(x,22)}function Sigma1256(x){return S(x,6)^S(x,11)^S(x,25)}function Gamma0256(x){return S(x,7)^S(x,18)^R(x,3)}function Gamma1256(x){return S(x,17)^S(x,19)^R(x,10)}Sha256.prototype._update=function(m){var M=this._block;var W=this._w;var a,b,c,d,e,f,g,h;var T1,T2;a=this._a|0;b=this._b|0;c=this._c|0;d=this._d|0;e=this._e|0;f=this._f|0;g=this._g|0;h=this._h|0;for(var j=0;j<64;j++){var w=W[j]=j<16?M.readInt32BE(j*4):Gamma1256(W[j-2])+W[j-7]+Gamma0256(W[j-15])+W[j-16];T1=h+Sigma1256(e)+Ch(e,f,g)+K[j]+w;T2=Sigma0256(a)+Maj(a,b,c);h=g;g=f;f=e;e=d+T1;d=c;c=b;b=a;a=T1+T2}this._a=a+this._a|0;this._b=b+this._b|0;this._c=c+this._c|0;this._d=d+this._d|0;this._e=e+this._e|0;this._f=f+this._f|0;this._g=g+this._g|0;this._h=h+this._h|0};Sha256.prototype._hash=function(){if(POOL.length<10)POOL.push(this);var H=new Buffer(32);H.writeInt32BE(this._a,0);H.writeInt32BE(this._b,4);H.writeInt32BE(this._c,8);H.writeInt32BE(this._d,12);H.writeInt32BE(this._e,16);H.writeInt32BE(this._f,20);H.writeInt32BE(this._g,24);H.writeInt32BE(this._h,28);return H};return Sha256}},{"./util":15,util:86}],15:[function(_dereq_,module,exports){exports.write=write;exports.zeroFill=zeroFill;exports.toString=toString;function write(buffer,string,enc,start,from,to,LE){var l=to-from;if(enc==="ascii"||enc==="binary"){for(var i=0;i<l;i++){buffer[start+i]=string.charCodeAt(i+from)}}else if(enc==null){for(var i=0;i<l;i++){buffer[start+i]=string[i+from]}}else if(enc==="hex"){for(var i=0;i<l;i++){var j=from+i;buffer[start+i]=parseInt(string[j*2]+string[j*2+1],16)}}else if(enc==="base64"){throw new Error("base64 encoding not yet supported")}else throw new Error(enc+" encoding not yet supported")}function zeroFill(buf,from){for(var i=from;i<buf.length;i++)buf[i]=0}},{}],16:[function(_dereq_,module,exports){(function(Buffer){var blocksize=64;var zeroBuffer=new Buffer(blocksize);zeroBuffer.fill(0);module.exports=function(createHmac,exports){exports=exports||{};exports.pbkdf2=function(password,salt,iterations,keylen,cb){if("function"!==typeof cb)throw new Error("No callback provided to pbkdf2");setTimeout(function(){cb(null,exports.pbkdf2Sync(password,salt,iterations,keylen))})};exports.pbkdf2Sync=function(key,salt,iterations,keylen){if("number"!==typeof iterations)throw new TypeError("Iterations not a number");if(iterations<0)throw new TypeError("Bad iterations");if("number"!==typeof keylen)throw new TypeError("Key length not a number");if(keylen<0)throw new TypeError("Bad key length");var key=!Buffer.isBuffer(key)?new Buffer(key):key;if(key.length>blocksize){key=createHash(alg).update(key).digest()}else if(key.length<blocksize){key=Buffer.concat([key,zeroBuffer],blocksize)}var HMAC;var cplen,p=0,i=1,itmp=new Buffer(4),digtmp;var out=new Buffer(keylen);out.fill(0);while(keylen){if(keylen>20)cplen=20;else cplen=keylen;itmp[0]=i>>24&255;itmp[1]=i>>16&255;itmp[2]=i>>8&255;itmp[3]=i&255;HMAC=createHmac("sha1",key);HMAC.update(salt);HMAC.update(itmp);digtmp=HMAC.digest();digtmp.copy(out,p,0,cplen);for(var j=1;j<iterations;j++){HMAC=createHmac("sha1",key);HMAC.update(digtmp);digtmp=HMAC.digest();for(var k=0;k<cplen;k++){out[k]^=digtmp[k]}}keylen-=cplen;i++;p+=cplen}return out};return exports}}).call(this,_dereq_("buffer").Buffer)},{buffer:80}],17:[function(_dereq_,module,exports){(function(Buffer){(function(){var _global=this;var mathRNG,whatwgRNG;mathRNG=function(size){var bytes=new Buffer(size);var r;for(var i=0,r;i<size;i++){if((i&3)==0)r=Math.random()*4294967296;bytes[i]=r>>>((i&3)<<3)&255}return bytes};if(_global.crypto&&crypto.getRandomValues){whatwgRNG=function(size){var bytes=new Buffer(size);crypto.getRandomValues(bytes);return bytes}}module.exports=whatwgRNG||mathRNG})()}).call(this,_dereq_("buffer").Buffer)},{buffer:80}],18:[function(_dereq_,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"),_dereq_("./enc-base64"),_dereq_("./md5"),_dereq_("./evpkdf"),_dereq_("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var BlockCipher=C_lib.BlockCipher;var C_algo=C.algo;var SBOX=[];var INV_SBOX=[];var SUB_MIX_0=[];var SUB_MIX_1=[];var SUB_MIX_2=[];var SUB_MIX_3=[];var INV_SUB_MIX_0=[];var INV_SUB_MIX_1=[];var INV_SUB_MIX_2=[];var INV_SUB_MIX_3=[];(function(){var d=[];for(var i=0;i<256;i++){if(i<128){d[i]=i<<1}else{d[i]=i<<1^283}}var x=0;var xi=0;for(var i=0;i<256;i++){var sx=xi^xi<<1^xi<<2^xi<<3^xi<<4;sx=sx>>>8^sx&255^99;SBOX[x]=sx;INV_SBOX[sx]=x;var x2=d[x];var x4=d[x2];var x8=d[x4];var t=d[sx]*257^sx*16843008;SUB_MIX_0[x]=t<<24|t>>>8;SUB_MIX_1[x]=t<<16|t>>>16;SUB_MIX_2[x]=t<<8|t>>>24;SUB_MIX_3[x]=t;var t=x8*16843009^x4*65537^x2*257^x*16843008;INV_SUB_MIX_0[sx]=t<<24|t>>>8;INV_SUB_MIX_1[sx]=t<<16|t>>>16;INV_SUB_MIX_2[sx]=t<<8|t>>>24;INV_SUB_MIX_3[sx]=t;if(!x){x=xi=1}else{x=x2^d[d[d[x8^x2]]];xi^=d[d[xi]]}}})();var RCON=[0,1,2,4,8,16,32,64,128,27,54];var AES=C_algo.AES=BlockCipher.extend({_doReset:function(){var key=this._key;var keyWords=key.words;var keySize=key.sigBytes/4;var nRounds=this._nRounds=keySize+6;var ksRows=(nRounds+1)*4;var keySchedule=this._keySchedule=[];for(var ksRow=0;ksRow<ksRows;ksRow++){if(ksRow<keySize){keySchedule[ksRow]=keyWords[ksRow]}else{var t=keySchedule[ksRow-1];if(!(ksRow%keySize)){t=t<<8|t>>>24;t=SBOX[t>>>24]<<24|SBOX[t>>>16&255]<<16|SBOX[t>>>8&255]<<8|SBOX[t&255];t^=RCON[ksRow/keySize|0]<<24}else if(keySize>6&&ksRow%keySize==4){t=SBOX[t>>>24]<<24|SBOX[t>>>16&255]<<16|SBOX[t>>>8&255]<<8|SBOX[t&255]}keySchedule[ksRow]=keySchedule[ksRow-keySize]^t}}var invKeySchedule=this._invKeySchedule=[];for(var invKsRow=0;invKsRow<ksRows;invKsRow++){var ksRow=ksRows-invKsRow;if(invKsRow%4){var t=keySchedule[ksRow]}else{var t=keySchedule[ksRow-4]}if(invKsRow<4||ksRow<=4){invKeySchedule[invKsRow]=t}else{invKeySchedule[invKsRow]=INV_SUB_MIX_0[SBOX[t>>>24]]^INV_SUB_MIX_1[SBOX[t>>>16&255]]^INV_SUB_MIX_2[SBOX[t>>>8&255]]^INV_SUB_MIX_3[SBOX[t&255]]}}},encryptBlock:function(M,offset){this._doCryptBlock(M,offset,this._keySchedule,SUB_MIX_0,SUB_MIX_1,SUB_MIX_2,SUB_MIX_3,SBOX)},decryptBlock:function(M,offset){var t=M[offset+1];M[offset+1]=M[offset+3];M[offset+3]=t;this._doCryptBlock(M,offset,this._invKeySchedule,INV_SUB_MIX_0,INV_SUB_MIX_1,INV_SUB_MIX_2,INV_SUB_MIX_3,INV_SBOX);var t=M[offset+1];M[offset+1]=M[offset+3];M[offset+3]=t},_doCryptBlock:function(M,offset,keySchedule,SUB_MIX_0,SUB_MIX_1,SUB_MIX_2,SUB_MIX_3,SBOX){var nRounds=this._nRounds;var s0=M[offset]^keySchedule[0];var s1=M[offset+1]^keySchedule[1];var s2=M[offset+2]^keySchedule[2];var s3=M[offset+3]^keySchedule[3];var ksRow=4;for(var round=1;round<nRounds;round++){var t0=SUB_MIX_0[s0>>>24]^SUB_MIX_1[s1>>>16&255]^SUB_MIX_2[s2>>>8&255]^SUB_MIX_3[s3&255]^keySchedule[ksRow++];var t1=SUB_MIX_0[s1>>>24]^SUB_MIX_1[s2>>>16&255]^SUB_MIX_2[s3>>>8&255]^SUB_MIX_3[s0&255]^keySchedule[ksRow++];var t2=SUB_MIX_0[s2>>>24]^SUB_MIX_1[s3>>>16&255]^SUB_MIX_2[s0>>>8&255]^SUB_MIX_3[s1&255]^keySchedule[ksRow++];var t3=SUB_MIX_0[s3>>>24]^SUB_MIX_1[s0>>>16&255]^SUB_MIX_2[s1>>>8&255]^SUB_MIX_3[s2&255]^keySchedule[ksRow++];s0=t0;s1=t1;s2=t2;s3=t3}var t0=(SBOX[s0>>>24]<<24|SBOX[s1>>>16&255]<<16|SBOX[s2>>>8&255]<<8|SBOX[s3&255])^keySchedule[ksRow++];var t1=(SBOX[s1>>>24]<<24|SBOX[s2>>>16&255]<<16|SBOX[s3>>>8&255]<<8|SBOX[s0&255])^keySchedule[ksRow++];var t2=(SBOX[s2>>>24]<<24|SBOX[s3>>>16&255]<<16|SBOX[s0>>>8&255]<<8|SBOX[s1&255])^keySchedule[ksRow++];var t3=(SBOX[s3>>>24]<<24|SBOX[s0>>>16&255]<<16|SBOX[s1>>>8&255]<<8|SBOX[s2&255])^keySchedule[ksRow++];M[offset]=t0;M[offset+1]=t1;M[offset+2]=t2;M[offset+3]=t3},keySize:256/32});C.AES=BlockCipher._createHelper(AES)})();return CryptoJS.AES})},{"./cipher-core":19,"./core":20,"./enc-base64":21,"./evpkdf":23,"./md5":28}],19:[function(_dereq_,module,exports){(function(root,factory){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"))}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){CryptoJS.lib.Cipher||function(undefined){var C=CryptoJS;var C_lib=C.lib;var Base=C_lib.Base;var WordArray=C_lib.WordArray;var BufferedBlockAlgorithm=C_lib.BufferedBlockAlgorithm;var C_enc=C.enc;var Utf8=C_enc.Utf8;var Base64=C_enc.Base64;var C_algo=C.algo;var EvpKDF=C_algo.EvpKDF;var Cipher=C_lib.Cipher=BufferedBlockAlgorithm.extend({cfg:Base.extend(),createEncryptor:function(key,cfg){return this.create(this._ENC_XFORM_MODE,key,cfg)},createDecryptor:function(key,cfg){return this.create(this._DEC_XFORM_MODE,key,cfg)},init:function(xformMode,key,cfg){this.cfg=this.cfg.extend(cfg);this._xformMode=xformMode;this._key=key;this.reset()},reset:function(){BufferedBlockAlgorithm.reset.call(this);this._doReset()},process:function(dataUpdate){this._append(dataUpdate);return this._process()},finalize:function(dataUpdate){if(dataUpdate){this._append(dataUpdate)}var finalProcessedData=this._doFinalize();return finalProcessedData},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function selectCipherStrategy(key){if(typeof key=="string"){return PasswordBasedCipher}else{return SerializableCipher}}return function(cipher){return{encrypt:function(message,key,cfg){return selectCipherStrategy(key).encrypt(cipher,message,key,cfg)},decrypt:function(ciphertext,key,cfg){return selectCipherStrategy(key).decrypt(cipher,ciphertext,key,cfg)}}}}()});var StreamCipher=C_lib.StreamCipher=Cipher.extend({_doFinalize:function(){var finalProcessedBlocks=this._process(!!"flush");return finalProcessedBlocks},blockSize:1});var C_mode=C.mode={};var BlockCipherMode=C_lib.BlockCipherMode=Base.extend({createEncryptor:function(cipher,iv){return this.Encryptor.create(cipher,iv)},createDecryptor:function(cipher,iv){return this.Decryptor.create(cipher,iv)},init:function(cipher,iv){this._cipher=cipher;this._iv=iv}});var CBC=C_mode.CBC=function(){var CBC=BlockCipherMode.extend();CBC.Encryptor=CBC.extend({processBlock:function(words,offset){var cipher=this._cipher;var blockSize=cipher.blockSize;xorBlock.call(this,words,offset,blockSize);cipher.encryptBlock(words,offset);this._prevBlock=words.slice(offset,offset+blockSize)}});CBC.Decryptor=CBC.extend({processBlock:function(words,offset){var cipher=this._cipher;var blockSize=cipher.blockSize;var thisBlock=words.slice(offset,offset+blockSize);cipher.decryptBlock(words,offset);xorBlock.call(this,words,offset,blockSize);this._prevBlock=thisBlock}});function xorBlock(words,offset,blockSize){var iv=this._iv;if(iv){var block=iv;this._iv=undefined}else{var block=this._prevBlock}for(var i=0;i<blockSize;i++){words[offset+i]^=block[i]}}return CBC}();var C_pad=C.pad={};var Pkcs7=C_pad.Pkcs7={pad:function(data,blockSize){var blockSizeBytes=blockSize*4;var nPaddingBytes=blockSizeBytes-data.sigBytes%blockSizeBytes;var paddingWord=nPaddingBytes<<24|nPaddingBytes<<16|nPaddingBytes<<8|nPaddingBytes;var paddingWords=[];for(var i=0;i<nPaddingBytes;i+=4){paddingWords.push(paddingWord)}var padding=WordArray.create(paddingWords,nPaddingBytes);data.concat(padding)},unpad:function(data){var nPaddingBytes=data.words[data.sigBytes-1>>>2]&255;data.sigBytes-=nPaddingBytes}};var BlockCipher=C_lib.BlockCipher=Cipher.extend({cfg:Cipher.cfg.extend({mode:CBC,padding:Pkcs7}),reset:function(){Cipher.reset.call(this);var cfg=this.cfg;var iv=cfg.iv;var mode=cfg.mode;if(this._xformMode==this._ENC_XFORM_MODE){var modeCreator=mode.createEncryptor}else{var modeCreator=mode.createDecryptor;this._minBufferSize=1}this._mode=modeCreator.call(mode,this,iv&&iv.words)},_doProcessBlock:function(words,offset){this._mode.processBlock(words,offset)},_doFinalize:function(){var padding=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){padding.pad(this._data,this.blockSize);var finalProcessedBlocks=this._process(!!"flush")}else{var finalProcessedBlocks=this._process(!!"flush");padding.unpad(finalProcessedBlocks)}return finalProcessedBlocks},blockSize:128/32});var CipherParams=C_lib.CipherParams=Base.extend({init:function(cipherParams){this.mixIn(cipherParams)},toString:function(formatter){return(formatter||this.formatter).stringify(this)}});var C_format=C.format={};var OpenSSLFormatter=C_format.OpenSSL={stringify:function(cipherParams){var ciphertext=cipherParams.ciphertext;var salt=cipherParams.salt;if(salt){var wordArray=WordArray.create([1398893684,1701076831]).concat(salt).concat(ciphertext)}else{var wordArray=ciphertext}return wordArray.toString(Base64)},parse:function(openSSLStr){var ciphertext=Base64.parse(openSSLStr);var ciphertextWords=ciphertext.words;if(ciphertextWords[0]==1398893684&&ciphertextWords[1]==1701076831){var salt=WordArray.create(ciphertextWords.slice(2,4));ciphertextWords.splice(0,4);ciphertext.sigBytes-=16}return CipherParams.create({ciphertext:ciphertext,salt:salt})}};var SerializableCipher=C_lib.SerializableCipher=Base.extend({cfg:Base.extend({format:OpenSSLFormatter}),encrypt:function(cipher,message,key,cfg){cfg=this.cfg.extend(cfg);var encryptor=cipher.createEncryptor(key,cfg);var ciphertext=encryptor.finalize(message);var cipherCfg=encryptor.cfg;return CipherParams.create({ciphertext:ciphertext,key:key,iv:cipherCfg.iv,algorithm:cipher,mode:cipherCfg.mode,padding:cipherCfg.padding,blockSize:cipher.blockSize,formatter:cfg.format})},decrypt:function(cipher,ciphertext,key,cfg){cfg=this.cfg.extend(cfg);ciphertext=this._parse(ciphertext,cfg.format);var plaintext=cipher.createDecryptor(key,cfg).finalize(ciphertext.ciphertext);return plaintext},_parse:function(ciphertext,format){if(typeof ciphertext=="string"){return format.parse(ciphertext,this)}else{return ciphertext}}});var C_kdf=C.kdf={};var OpenSSLKdf=C_kdf.OpenSSL={execute:function(password,keySize,ivSize,salt){if(!salt){salt=WordArray.random(64/8)}var key=EvpKDF.create({keySize:keySize+ivSize}).compute(password,salt);var iv=WordArray.create(key.words.slice(keySize),ivSize*4);key.sigBytes=keySize*4;return CipherParams.create({key:key,iv:iv,salt:salt})}};var PasswordBasedCipher=C_lib.PasswordBasedCipher=SerializableCipher.extend({cfg:SerializableCipher.cfg.extend({kdf:OpenSSLKdf}),encrypt:function(cipher,message,password,cfg){cfg=this.cfg.extend(cfg);var derivedParams=cfg.kdf.execute(password,cipher.keySize,cipher.ivSize);cfg.iv=derivedParams.iv;var ciphertext=SerializableCipher.encrypt.call(this,cipher,message,derivedParams.key,cfg);ciphertext.mixIn(derivedParams);return ciphertext},decrypt:function(cipher,ciphertext,password,cfg){cfg=this.cfg.extend(cfg);ciphertext=this._parse(ciphertext,cfg.format);var derivedParams=cfg.kdf.execute(password,cipher.keySize,cipher.ivSize,ciphertext.salt);cfg.iv=derivedParams.iv;var plaintext=SerializableCipher.decrypt.call(this,cipher,ciphertext,derivedParams.key,cfg);return plaintext}})}()})},{"./core":20}],20:[function(_dereq_,module,exports){(function(root,factory){if(typeof exports==="object"){module.exports=exports=factory()}else if(typeof define==="function"&&define.amd){define([],factory)}else{root.CryptoJS=factory()}})(this,function(){var CryptoJS=CryptoJS||function(Math,undefined){var C={};var C_lib=C.lib={};var Base=C_lib.Base=function(){function F(){}return{extend:function(overrides){F.prototype=this;var subtype=new F;if(overrides){subtype.mixIn(overrides)}if(!subtype.hasOwnProperty("init")){subtype.init=function(){subtype.$super.init.apply(this,arguments)}}subtype.init.prototype=subtype;subtype.$super=this;return subtype},create:function(){var instance=this.extend();instance.init.apply(instance,arguments);return instance},init:function(){},mixIn:function(properties){for(var propertyName in properties){if(properties.hasOwnProperty(propertyName)){this[propertyName]=properties[propertyName]}}if(properties.hasOwnProperty("toString")){this.toString=properties.toString}},clone:function(){return this.init.prototype.extend(this)}}}();var WordArray=C_lib.WordArray=Base.extend({init:function(words,sigBytes){words=this.words=words||[];if(sigBytes!=undefined){this.sigBytes=sigBytes}else{this.sigBytes=words.length*4}},toString:function(encoder){return(encoder||Hex).stringify(this)},concat:function(wordArray){var thisWords=this.words;var thatWords=wordArray.words;var thisSigBytes=this.sigBytes;var thatSigBytes=wordArray.sigBytes;this.clamp();if(thisSigBytes%4){for(var i=0;i<thatSigBytes;i++){var thatByte=thatWords[i>>>2]>>>24-i%4*8&255;thisWords[thisSigBytes+i>>>2]|=thatByte<<24-(thisSigBytes+i)%4*8}}else if(thatWords.length>65535){for(var i=0;i<thatSigBytes;i+=4){thisWords[thisSigBytes+i>>>2]=thatWords[i>>>2]}}else{thisWords.push.apply(thisWords,thatWords)}this.sigBytes+=thatSigBytes;return this},clamp:function(){var words=this.words;var sigBytes=this.sigBytes;words[sigBytes>>>2]&=4294967295<<32-sigBytes%4*8;words.length=Math.ceil(sigBytes/4)},clone:function(){var clone=Base.clone.call(this);clone.words=this.words.slice(0);return clone},random:function(nBytes){var words=[];for(var i=0;i<nBytes;i+=4){words.push(Math.random()*4294967296|0)}return new WordArray.init(words,nBytes)}});var C_enc=C.enc={};var Hex=C_enc.Hex={stringify:function(wordArray){var words=wordArray.words;var sigBytes=wordArray.sigBytes;var hexChars=[];for(var i=0;i<sigBytes;i++){var bite=words[i>>>2]>>>24-i%4*8&255;hexChars.push((bite>>>4).toString(16));hexChars.push((bite&15).toString(16))}return hexChars.join("")},parse:function(hexStr){var hexStrLength=hexStr.length;var words=[];for(var i=0;i<hexStrLength;i+=2){words[i>>>3]|=parseInt(hexStr.substr(i,2),16)<<24-i%8*4}return new WordArray.init(words,hexStrLength/2)}};var Latin1=C_enc.Latin1={stringify:function(wordArray){var words=wordArray.words;var sigBytes=wordArray.sigBytes;var latin1Chars=[];for(var i=0;i<sigBytes;i++){var bite=words[i>>>2]>>>24-i%4*8&255;latin1Chars.push(String.fromCharCode(bite))}return latin1Chars.join("")},parse:function(latin1Str){var latin1StrLength=latin1Str.length;var words=[];for(var i=0;i<latin1StrLength;i++){words[i>>>2]|=(latin1Str.charCodeAt(i)&255)<<24-i%4*8}return new WordArray.init(words,latin1StrLength)}};var Utf8=C_enc.Utf8={stringify:function(wordArray){try{return decodeURIComponent(escape(Latin1.stringify(wordArray)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(utf8Str){return Latin1.parse(unescape(encodeURIComponent(utf8Str)))}};var BufferedBlockAlgorithm=C_lib.BufferedBlockAlgorithm=Base.extend({reset:function(){this._data=new WordArray.init;this._nDataBytes=0},_append:function(data){if(typeof data=="string"){data=Utf8.parse(data)}this._data.concat(data);this._nDataBytes+=data.sigBytes},_process:function(doFlush){var data=this._data;var dataWords=data.words;var dataSigBytes=data.sigBytes;var blockSize=this.blockSize;var blockSizeBytes=blockSize*4;var nBlocksReady=dataSigBytes/blockSizeBytes;if(doFlush){nBlocksReady=Math.ceil(nBlocksReady)}else{nBlocksReady=Math.max((nBlocksReady|0)-this._minBufferSize,0)}var nWordsReady=nBlocksReady*blockSize;var nBytesReady=Math.min(nWordsReady*4,dataSigBytes);if(nWordsReady){for(var offset=0;offset<nWordsReady;offset+=blockSize){this._doProcessBlock(dataWords,offset)}var processedWords=dataWords.splice(0,nWordsReady);data.sigBytes-=nBytesReady}return new WordArray.init(processedWords,nBytesReady)},clone:function(){var clone=Base.clone.call(this);clone._data=this._data.clone();return clone},_minBufferSize:0});var Hasher=C_lib.Hasher=BufferedBlockAlgorithm.extend({cfg:Base.extend(),init:function(cfg){this.cfg=this.cfg.extend(cfg);this.reset()},reset:function(){BufferedBlockAlgorithm.reset.call(this);this._doReset()},update:function(messageUpdate){this._append(messageUpdate);this._process();return this},finalize:function(messageUpdate){if(messageUpdate){this._append(messageUpdate)}var hash=this._doFinalize();return hash},blockSize:512/32,_createHelper:function(hasher){return function(message,cfg){return new hasher.init(cfg).finalize(message)}},_createHmacHelper:function(hasher){return function(message,key){return new C_algo.HMAC.init(hasher,key).finalize(message)}}});var C_algo=C.algo={};return C}(Math);return CryptoJS})},{}],21:[function(_dereq_,module,exports){(function(root,factory){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"))}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var WordArray=C_lib.WordArray;var C_enc=C.enc;var Base64=C_enc.Base64={stringify:function(wordArray){var words=wordArray.words;var sigBytes=wordArray.sigBytes;var map=this._map;wordArray.clamp();var base64Chars=[];for(var i=0;i<sigBytes;i+=3){var byte1=words[i>>>2]>>>24-i%4*8&255;var byte2=words[i+1>>>2]>>>24-(i+1)%4*8&255;var byte3=words[i+2>>>2]>>>24-(i+2)%4*8&255;var triplet=byte1<<16|byte2<<8|byte3;for(var j=0;j<4&&i+j*.75<sigBytes;j++){base64Chars.push(map.charAt(triplet>>>6*(3-j)&63))}}var paddingChar=map.charAt(64);if(paddingChar){while(base64Chars.length%4){base64Chars.push(paddingChar)}}return base64Chars.join("")},parse:function(base64Str){var base64StrLength=base64Str.length;var map=this._map;var paddingChar=map.charAt(64);if(paddingChar){var paddingIndex=base64Str.indexOf(paddingChar);if(paddingIndex!=-1){base64StrLength=paddingIndex}}var words=[];var nBytes=0;for(var i=0;i<base64StrLength;i++){if(i%4){var bits1=map.indexOf(base64Str.charAt(i-1))<<i%4*2;var bits2=map.indexOf(base64Str.charAt(i))>>>6-i%4*2;words[nBytes>>>2]|=(bits1|bits2)<<24-nBytes%4*8;nBytes++}}return WordArray.create(words,nBytes)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();return CryptoJS.enc.Base64})},{"./core":20}],22:[function(_dereq_,module,exports){(function(root,factory){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"))}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var WordArray=C_lib.WordArray;var C_enc=C.enc;var Utf16BE=C_enc.Utf16=C_enc.Utf16BE={stringify:function(wordArray){var words=wordArray.words;var sigBytes=wordArray.sigBytes;var utf16Chars=[];for(var i=0;i<sigBytes;i+=2){var codePoint=words[i>>>2]>>>16-i%4*8&65535;utf16Chars.push(String.fromCharCode(codePoint))}return utf16Chars.join("")},parse:function(utf16Str){var utf16StrLength=utf16Str.length;var words=[];for(var i=0;i<utf16StrLength;i++){words[i>>>1]|=utf16Str.charCodeAt(i)<<16-i%2*16}return WordArray.create(words,utf16StrLength*2)}};C_enc.Utf16LE={stringify:function(wordArray){var words=wordArray.words;var sigBytes=wordArray.sigBytes;var utf16Chars=[];for(var i=0;i<sigBytes;i+=2){var codePoint=swapEndian(words[i>>>2]>>>16-i%4*8&65535);utf16Chars.push(String.fromCharCode(codePoint))}return utf16Chars.join("")},parse:function(utf16Str){var utf16StrLength=utf16Str.length;var words=[];for(var i=0;i<utf16StrLength;i++){words[i>>>1]|=swapEndian(utf16Str.charCodeAt(i)<<16-i%2*16)}return WordArray.create(words,utf16StrLength*2)}};function swapEndian(word){return word<<8&4278255360|word>>>8&16711935}})();return CryptoJS.enc.Utf16})},{"./core":20}],23:[function(_dereq_,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"),_dereq_("./sha1"),_dereq_("./hmac"))}else if(typeof define==="function"&&define.amd){define(["./core","./sha1","./hmac"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var Base=C_lib.Base;var WordArray=C_lib.WordArray;var C_algo=C.algo;var MD5=C_algo.MD5;var EvpKDF=C_algo.EvpKDF=Base.extend({cfg:Base.extend({keySize:128/32,hasher:MD5,iterations:1}),init:function(cfg){this.cfg=this.cfg.extend(cfg)},compute:function(password,salt){var cfg=this.cfg;var hasher=cfg.hasher.create();var derivedKey=WordArray.create();var derivedKeyWords=derivedKey.words;var keySize=cfg.keySize;var iterations=cfg.iterations;while(derivedKeyWords.length<keySize){if(block){hasher.update(block)}var block=hasher.update(password).finalize(salt);hasher.reset();for(var i=1;i<iterations;i++){block=hasher.finalize(block);hasher.reset()}derivedKey.concat(block)}derivedKey.sigBytes=keySize*4;return derivedKey}});C.EvpKDF=function(password,salt,cfg){return EvpKDF.create(cfg).compute(password,salt)}})();return CryptoJS.EvpKDF})},{"./core":20,"./hmac":25,"./sha1":44}],24:[function(_dereq_,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"),_dereq_("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(undefined){var C=CryptoJS;var C_lib=C.lib;var CipherParams=C_lib.CipherParams;var C_enc=C.enc;var Hex=C_enc.Hex;var C_format=C.format;var HexFormatter=C_format.Hex={stringify:function(cipherParams){return cipherParams.ciphertext.toString(Hex)},parse:function(input){var ciphertext=Hex.parse(input);return CipherParams.create({ciphertext:ciphertext})}}})();return CryptoJS.format.Hex})},{"./cipher-core":19,"./core":20}],25:[function(_dereq_,module,exports){(function(root,factory){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"))}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var Base=C_lib.Base;var C_enc=C.enc;var Utf8=C_enc.Utf8;var C_algo=C.algo;var HMAC=C_algo.HMAC=Base.extend({init:function(hasher,key){hasher=this._hasher=new hasher.init;
if(typeof key=="string"){key=Utf8.parse(key)}var hasherBlockSize=hasher.blockSize;var hasherBlockSizeBytes=hasherBlockSize*4;if(key.sigBytes>hasherBlockSizeBytes){key=hasher.finalize(key)}key.clamp();var oKey=this._oKey=key.clone();var iKey=this._iKey=key.clone();var oKeyWords=oKey.words;var iKeyWords=iKey.words;for(var i=0;i<hasherBlockSize;i++){oKeyWords[i]^=1549556828;iKeyWords[i]^=909522486}oKey.sigBytes=iKey.sigBytes=hasherBlockSizeBytes;this.reset()},reset:function(){var hasher=this._hasher;hasher.reset();hasher.update(this._iKey)},update:function(messageUpdate){this._hasher.update(messageUpdate);return this},finalize:function(messageUpdate){var hasher=this._hasher;var innerHash=hasher.finalize(messageUpdate);hasher.reset();var hmac=hasher.finalize(this._oKey.clone().concat(innerHash));return hmac}})})()})},{"./core":20}],26:[function(_dereq_,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"),_dereq_("./x64-core"),_dereq_("./lib-typedarrays"),_dereq_("./enc-utf16"),_dereq_("./enc-base64"),_dereq_("./md5"),_dereq_("./sha1"),_dereq_("./sha256"),_dereq_("./sha224"),_dereq_("./sha512"),_dereq_("./sha384"),_dereq_("./sha3"),_dereq_("./ripemd160"),_dereq_("./hmac"),_dereq_("./pbkdf2"),_dereq_("./evpkdf"),_dereq_("./cipher-core"),_dereq_("./mode-cfb"),_dereq_("./mode-ctr"),_dereq_("./mode-ctr-gladman"),_dereq_("./mode-ofb"),_dereq_("./mode-ecb"),_dereq_("./pad-ansix923"),_dereq_("./pad-iso10126"),_dereq_("./pad-iso97971"),_dereq_("./pad-zeropadding"),_dereq_("./pad-nopadding"),_dereq_("./format-hex"),_dereq_("./aes"),_dereq_("./tripledes"),_dereq_("./rc4"),_dereq_("./rabbit"),_dereq_("./rabbit-legacy"))}else if(typeof define==="function"&&define.amd){define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){return CryptoJS})},{"./aes":18,"./cipher-core":19,"./core":20,"./enc-base64":21,"./enc-utf16":22,"./evpkdf":23,"./format-hex":24,"./hmac":25,"./lib-typedarrays":27,"./md5":28,"./mode-cfb":29,"./mode-ctr":31,"./mode-ctr-gladman":30,"./mode-ecb":32,"./mode-ofb":33,"./pad-ansix923":34,"./pad-iso10126":35,"./pad-iso97971":36,"./pad-nopadding":37,"./pad-zeropadding":38,"./pbkdf2":39,"./rabbit":41,"./rabbit-legacy":40,"./rc4":42,"./ripemd160":43,"./sha1":44,"./sha224":45,"./sha256":46,"./sha3":47,"./sha384":48,"./sha512":49,"./tripledes":50,"./x64-core":51}],27:[function(_dereq_,module,exports){(function(root,factory){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"))}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){if(typeof ArrayBuffer!="function"){return}var C=CryptoJS;var C_lib=C.lib;var WordArray=C_lib.WordArray;var superInit=WordArray.init;var subInit=WordArray.init=function(typedArray){if(typedArray instanceof ArrayBuffer){typedArray=new Uint8Array(typedArray)}if(typedArray instanceof Int8Array||typedArray instanceof Uint8ClampedArray||typedArray instanceof Int16Array||typedArray instanceof Uint16Array||typedArray instanceof Int32Array||typedArray instanceof Uint32Array||typedArray instanceof Float32Array||typedArray instanceof Float64Array){typedArray=new Uint8Array(typedArray.buffer,typedArray.byteOffset,typedArray.byteLength)}if(typedArray instanceof Uint8Array){var typedArrayByteLength=typedArray.byteLength;var words=[];for(var i=0;i<typedArrayByteLength;i++){words[i>>>2]|=typedArray[i]<<24-i%4*8}superInit.call(this,words,typedArrayByteLength)}else{superInit.apply(this,arguments)}};subInit.prototype=WordArray})();return CryptoJS.lib.WordArray})},{"./core":20}],28:[function(_dereq_,module,exports){(function(root,factory){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"))}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(Math){var C=CryptoJS;var C_lib=C.lib;var WordArray=C_lib.WordArray;var Hasher=C_lib.Hasher;var C_algo=C.algo;var T=[];(function(){for(var i=0;i<64;i++){T[i]=Math.abs(Math.sin(i+1))*4294967296|0}})();var MD5=C_algo.MD5=Hasher.extend({_doReset:function(){this._hash=new WordArray.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(M,offset){for(var i=0;i<16;i++){var offset_i=offset+i;var M_offset_i=M[offset_i];M[offset_i]=(M_offset_i<<8|M_offset_i>>>24)&16711935|(M_offset_i<<24|M_offset_i>>>8)&4278255360}var H=this._hash.words;var M_offset_0=M[offset+0];var M_offset_1=M[offset+1];var M_offset_2=M[offset+2];var M_offset_3=M[offset+3];var M_offset_4=M[offset+4];var M_offset_5=M[offset+5];var M_offset_6=M[offset+6];var M_offset_7=M[offset+7];var M_offset_8=M[offset+8];var M_offset_9=M[offset+9];var M_offset_10=M[offset+10];var M_offset_11=M[offset+11];var M_offset_12=M[offset+12];var M_offset_13=M[offset+13];var M_offset_14=M[offset+14];var M_offset_15=M[offset+15];var a=H[0];var b=H[1];var c=H[2];var d=H[3];a=FF(a,b,c,d,M_offset_0,7,T[0]);d=FF(d,a,b,c,M_offset_1,12,T[1]);c=FF(c,d,a,b,M_offset_2,17,T[2]);b=FF(b,c,d,a,M_offset_3,22,T[3]);a=FF(a,b,c,d,M_offset_4,7,T[4]);d=FF(d,a,b,c,M_offset_5,12,T[5]);c=FF(c,d,a,b,M_offset_6,17,T[6]);b=FF(b,c,d,a,M_offset_7,22,T[7]);a=FF(a,b,c,d,M_offset_8,7,T[8]);d=FF(d,a,b,c,M_offset_9,12,T[9]);c=FF(c,d,a,b,M_offset_10,17,T[10]);b=FF(b,c,d,a,M_offset_11,22,T[11]);a=FF(a,b,c,d,M_offset_12,7,T[12]);d=FF(d,a,b,c,M_offset_13,12,T[13]);c=FF(c,d,a,b,M_offset_14,17,T[14]);b=FF(b,c,d,a,M_offset_15,22,T[15]);a=GG(a,b,c,d,M_offset_1,5,T[16]);d=GG(d,a,b,c,M_offset_6,9,T[17]);c=GG(c,d,a,b,M_offset_11,14,T[18]);b=GG(b,c,d,a,M_offset_0,20,T[19]);a=GG(a,b,c,d,M_offset_5,5,T[20]);d=GG(d,a,b,c,M_offset_10,9,T[21]);c=GG(c,d,a,b,M_offset_15,14,T[22]);b=GG(b,c,d,a,M_offset_4,20,T[23]);a=GG(a,b,c,d,M_offset_9,5,T[24]);d=GG(d,a,b,c,M_offset_14,9,T[25]);c=GG(c,d,a,b,M_offset_3,14,T[26]);b=GG(b,c,d,a,M_offset_8,20,T[27]);a=GG(a,b,c,d,M_offset_13,5,T[28]);d=GG(d,a,b,c,M_offset_2,9,T[29]);c=GG(c,d,a,b,M_offset_7,14,T[30]);b=GG(b,c,d,a,M_offset_12,20,T[31]);a=HH(a,b,c,d,M_offset_5,4,T[32]);d=HH(d,a,b,c,M_offset_8,11,T[33]);c=HH(c,d,a,b,M_offset_11,16,T[34]);b=HH(b,c,d,a,M_offset_14,23,T[35]);a=HH(a,b,c,d,M_offset_1,4,T[36]);d=HH(d,a,b,c,M_offset_4,11,T[37]);c=HH(c,d,a,b,M_offset_7,16,T[38]);b=HH(b,c,d,a,M_offset_10,23,T[39]);a=HH(a,b,c,d,M_offset_13,4,T[40]);d=HH(d,a,b,c,M_offset_0,11,T[41]);c=HH(c,d,a,b,M_offset_3,16,T[42]);b=HH(b,c,d,a,M_offset_6,23,T[43]);a=HH(a,b,c,d,M_offset_9,4,T[44]);d=HH(d,a,b,c,M_offset_12,11,T[45]);c=HH(c,d,a,b,M_offset_15,16,T[46]);b=HH(b,c,d,a,M_offset_2,23,T[47]);a=II(a,b,c,d,M_offset_0,6,T[48]);d=II(d,a,b,c,M_offset_7,10,T[49]);c=II(c,d,a,b,M_offset_14,15,T[50]);b=II(b,c,d,a,M_offset_5,21,T[51]);a=II(a,b,c,d,M_offset_12,6,T[52]);d=II(d,a,b,c,M_offset_3,10,T[53]);c=II(c,d,a,b,M_offset_10,15,T[54]);b=II(b,c,d,a,M_offset_1,21,T[55]);a=II(a,b,c,d,M_offset_8,6,T[56]);d=II(d,a,b,c,M_offset_15,10,T[57]);c=II(c,d,a,b,M_offset_6,15,T[58]);b=II(b,c,d,a,M_offset_13,21,T[59]);a=II(a,b,c,d,M_offset_4,6,T[60]);d=II(d,a,b,c,M_offset_11,10,T[61]);c=II(c,d,a,b,M_offset_2,15,T[62]);b=II(b,c,d,a,M_offset_9,21,T[63]);H[0]=H[0]+a|0;H[1]=H[1]+b|0;H[2]=H[2]+c|0;H[3]=H[3]+d|0},_doFinalize:function(){var data=this._data;var dataWords=data.words;var nBitsTotal=this._nDataBytes*8;var nBitsLeft=data.sigBytes*8;dataWords[nBitsLeft>>>5]|=128<<24-nBitsLeft%32;var nBitsTotalH=Math.floor(nBitsTotal/4294967296);var nBitsTotalL=nBitsTotal;dataWords[(nBitsLeft+64>>>9<<4)+15]=(nBitsTotalH<<8|nBitsTotalH>>>24)&16711935|(nBitsTotalH<<24|nBitsTotalH>>>8)&4278255360;dataWords[(nBitsLeft+64>>>9<<4)+14]=(nBitsTotalL<<8|nBitsTotalL>>>24)&16711935|(nBitsTotalL<<24|nBitsTotalL>>>8)&4278255360;data.sigBytes=(dataWords.length+1)*4;this._process();var hash=this._hash;var H=hash.words;for(var i=0;i<4;i++){var H_i=H[i];H[i]=(H_i<<8|H_i>>>24)&16711935|(H_i<<24|H_i>>>8)&4278255360}return hash},clone:function(){var clone=Hasher.clone.call(this);clone._hash=this._hash.clone();return clone}});function FF(a,b,c,d,x,s,t){var n=a+(b&c|~b&d)+x+t;return(n<<s|n>>>32-s)+b}function GG(a,b,c,d,x,s,t){var n=a+(b&d|c&~d)+x+t;return(n<<s|n>>>32-s)+b}function HH(a,b,c,d,x,s,t){var n=a+(b^c^d)+x+t;return(n<<s|n>>>32-s)+b}function II(a,b,c,d,x,s,t){var n=a+(c^(b|~d))+x+t;return(n<<s|n>>>32-s)+b}C.MD5=Hasher._createHelper(MD5);C.HmacMD5=Hasher._createHmacHelper(MD5)})(Math);return CryptoJS.MD5})},{"./core":20}],29:[function(_dereq_,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"),_dereq_("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){CryptoJS.mode.CFB=function(){var CFB=CryptoJS.lib.BlockCipherMode.extend();CFB.Encryptor=CFB.extend({processBlock:function(words,offset){var cipher=this._cipher;var blockSize=cipher.blockSize;generateKeystreamAndEncrypt.call(this,words,offset,blockSize,cipher);this._prevBlock=words.slice(offset,offset+blockSize)}});CFB.Decryptor=CFB.extend({processBlock:function(words,offset){var cipher=this._cipher;var blockSize=cipher.blockSize;var thisBlock=words.slice(offset,offset+blockSize);generateKeystreamAndEncrypt.call(this,words,offset,blockSize,cipher);this._prevBlock=thisBlock}});function generateKeystreamAndEncrypt(words,offset,blockSize,cipher){var iv=this._iv;if(iv){var keystream=iv.slice(0);this._iv=undefined}else{var keystream=this._prevBlock}cipher.encryptBlock(keystream,0);for(var i=0;i<blockSize;i++){words[offset+i]^=keystream[i]}}return CFB}();return CryptoJS.mode.CFB})},{"./cipher-core":19,"./core":20}],30:[function(_dereq_,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"),_dereq_("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){CryptoJS.mode.CTRGladman=function(){var CTRGladman=CryptoJS.lib.BlockCipherMode.extend();function incWord(word){if((word>>24&255)===255){var b1=word>>16&255;var b2=word>>8&255;var b3=word&255;if(b1===255){b1=0;if(b2===255){b2=0;if(b3===255){b3=0}else{++b3}}else{++b2}}else{++b1}word=0;word+=b1<<16;word+=b2<<8;word+=b3}else{word+=1<<24}return word}function incCounter(counter){if((counter[0]=incWord(counter[0]))===0){counter[1]=incWord(counter[1])}return counter}var Encryptor=CTRGladman.Encryptor=CTRGladman.extend({processBlock:function(words,offset){var cipher=this._cipher;var blockSize=cipher.blockSize;var iv=this._iv;var counter=this._counter;if(iv){counter=this._counter=iv.slice(0);this._iv=undefined}incCounter(counter);var keystream=counter.slice(0);cipher.encryptBlock(keystream,0);for(var i=0;i<blockSize;i++){words[offset+i]^=keystream[i]}}});CTRGladman.Decryptor=Encryptor;return CTRGladman}();return CryptoJS.mode.CTRGladman})},{"./cipher-core":19,"./core":20}],31:[function(_dereq_,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"),_dereq_("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){CryptoJS.mode.CTR=function(){var CTR=CryptoJS.lib.BlockCipherMode.extend();var Encryptor=CTR.Encryptor=CTR.extend({processBlock:function(words,offset){var cipher=this._cipher;var blockSize=cipher.blockSize;var iv=this._iv;var counter=this._counter;if(iv){counter=this._counter=iv.slice(0);this._iv=undefined}var keystream=counter.slice(0);cipher.encryptBlock(keystream,0);counter[blockSize-1]=counter[blockSize-1]+1|0;for(var i=0;i<blockSize;i++){words[offset+i]^=keystream[i]}}});CTR.Decryptor=Encryptor;return CTR}();return CryptoJS.mode.CTR})},{"./cipher-core":19,"./core":20}],32:[function(_dereq_,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"),_dereq_("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){CryptoJS.mode.ECB=function(){var ECB=CryptoJS.lib.BlockCipherMode.extend();ECB.Encryptor=ECB.extend({processBlock:function(words,offset){this._cipher.encryptBlock(words,offset)}});ECB.Decryptor=ECB.extend({processBlock:function(words,offset){this._cipher.decryptBlock(words,offset)}});return ECB}();return CryptoJS.mode.ECB})},{"./cipher-core":19,"./core":20}],33:[function(_dereq_,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"),_dereq_("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){CryptoJS.mode.OFB=function(){var OFB=CryptoJS.lib.BlockCipherMode.extend();var Encryptor=OFB.Encryptor=OFB.extend({processBlock:function(words,offset){var cipher=this._cipher;var blockSize=cipher.blockSize;var iv=this._iv;var keystream=this._keystream;if(iv){keystream=this._keystream=iv.slice(0);this._iv=undefined}cipher.encryptBlock(keystream,0);for(var i=0;i<blockSize;i++){words[offset+i]^=keystream[i]}}});OFB.Decryptor=Encryptor;return OFB}();return CryptoJS.mode.OFB})},{"./cipher-core":19,"./core":20}],34:[function(_dereq_,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"),_dereq_("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){CryptoJS.pad.AnsiX923={pad:function(data,blockSize){var dataSigBytes=data.sigBytes;var blockSizeBytes=blockSize*4;var nPaddingBytes=blockSizeBytes-dataSigBytes%blockSizeBytes;var lastBytePos=dataSigBytes+nPaddingBytes-1;data.clamp();data.words[lastBytePos>>>2]|=nPaddingBytes<<24-lastBytePos%4*8;data.sigBytes+=nPaddingBytes},unpad:function(data){var nPaddingBytes=data.words[data.sigBytes-1>>>2]&255;data.sigBytes-=nPaddingBytes}};return CryptoJS.pad.Ansix923})},{"./cipher-core":19,"./core":20}],35:[function(_dereq_,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"),_dereq_("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){CryptoJS.pad.Iso10126={pad:function(data,blockSize){var blockSizeBytes=blockSize*4;var nPaddingBytes=blockSizeBytes-data.sigBytes%blockSizeBytes;data.concat(CryptoJS.lib.WordArray.random(nPaddingBytes-1)).concat(CryptoJS.lib.WordArray.create([nPaddingBytes<<24],1))},unpad:function(data){var nPaddingBytes=data.words[data.sigBytes-1>>>2]&255;data.sigBytes-=nPaddingBytes}};return CryptoJS.pad.Iso10126})},{"./cipher-core":19,"./core":20}],36:[function(_dereq_,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"),_dereq_("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){CryptoJS.pad.Iso97971={pad:function(data,blockSize){data.concat(CryptoJS.lib.WordArray.create([2147483648],1));CryptoJS.pad.ZeroPadding.pad(data,blockSize)},unpad:function(data){CryptoJS.pad.ZeroPadding.unpad(data);data.sigBytes--}};return CryptoJS.pad.Iso97971})},{"./cipher-core":19,"./core":20}],37:[function(_dereq_,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"),_dereq_("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){CryptoJS.pad.NoPadding={pad:function(){},unpad:function(){}};return CryptoJS.pad.NoPadding})},{"./cipher-core":19,"./core":20}],38:[function(_dereq_,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"),_dereq_("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){CryptoJS.pad.ZeroPadding={pad:function(data,blockSize){var blockSizeBytes=blockSize*4;data.clamp();data.sigBytes+=blockSizeBytes-(data.sigBytes%blockSizeBytes||blockSizeBytes)},unpad:function(data){var dataWords=data.words;var i=data.sigBytes-1;while(!(dataWords[i>>>2]>>>24-i%4*8&255)){i--}data.sigBytes=i+1}};return CryptoJS.pad.ZeroPadding})},{"./cipher-core":19,"./core":20}],39:[function(_dereq_,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"),_dereq_("./sha1"),_dereq_("./hmac"))}else if(typeof define==="function"&&define.amd){define(["./core","./sha1","./hmac"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var Base=C_lib.Base;var WordArray=C_lib.WordArray;var C_algo=C.algo;var SHA1=C_algo.SHA1;var HMAC=C_algo.HMAC;var PBKDF2=C_algo.PBKDF2=Base.extend({cfg:Base.extend({keySize:128/32,hasher:SHA1,iterations:1}),init:function(cfg){this.cfg=this.cfg.extend(cfg)},compute:function(password,salt){var cfg=this.cfg;var hmac=HMAC.create(cfg.hasher,password);var derivedKey=WordArray.create();var blockIndex=WordArray.create([1]);var derivedKeyWords=derivedKey.words;var blockIndexWords=blockIndex.words;var keySize=cfg.keySize;var iterations=cfg.iterations;while(derivedKeyWords.length<keySize){var block=hmac.update(salt).finalize(blockIndex);hmac.reset();var blockWords=block.words;var blockWordsLength=blockWords.length;var intermediate=block;for(var i=1;i<iterations;i++){intermediate=hmac.finalize(intermediate);hmac.reset();var intermediateWords=intermediate.words;for(var j=0;j<blockWordsLength;j++){blockWords[j]^=intermediateWords[j]}}derivedKey.concat(block);blockIndexWords[0]++}derivedKey.sigBytes=keySize*4;return derivedKey}});C.PBKDF2=function(password,salt,cfg){return PBKDF2.create(cfg).compute(password,salt)}})();return CryptoJS.PBKDF2})},{"./core":20,"./hmac":25,"./sha1":44}],40:[function(_dereq_,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"),_dereq_("./enc-base64"),_dereq_("./md5"),_dereq_("./evpkdf"),_dereq_("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var StreamCipher=C_lib.StreamCipher;var C_algo=C.algo;var S=[];var C_=[];var G=[];var RabbitLegacy=C_algo.RabbitLegacy=StreamCipher.extend({_doReset:function(){var K=this._key.words;var iv=this.cfg.iv;var X=this._X=[K[0],K[3]<<16|K[2]>>>16,K[1],K[0]<<16|K[3]>>>16,K[2],K[1]<<16|K[0]>>>16,K[3],K[2]<<16|K[1]>>>16];var C=this._C=[K[2]<<16|K[2]>>>16,K[0]&4294901760|K[1]&65535,K[3]<<16|K[3]>>>16,K[1]&4294901760|K[2]&65535,K[0]<<16|K[0]>>>16,K[2]&4294901760|K[3]&65535,K[1]<<16|K[1]>>>16,K[3]&4294901760|K[0]&65535];this._b=0;for(var i=0;i<4;i++){nextState.call(this)}for(var i=0;i<8;i++){C[i]^=X[i+4&7]}if(iv){var IV=iv.words;var IV_0=IV[0];var IV_1=IV[1];var i0=(IV_0<<8|IV_0>>>24)&16711935|(IV_0<<24|IV_0>>>8)&4278255360;var i2=(IV_1<<8|IV_1>>>24)&16711935|(IV_1<<24|IV_1>>>8)&4278255360;var i1=i0>>>16|i2&4294901760;var i3=i2<<16|i0&65535;C[0]^=i0;C[1]^=i1;C[2]^=i2;C[3]^=i3;C[4]^=i0;C[5]^=i1;C[6]^=i2;C[7]^=i3;for(var i=0;i<4;i++){nextState.call(this)}}},_doProcessBlock:function(M,offset){var X=this._X;nextState.call(this);S[0]=X[0]^X[5]>>>16^X[3]<<16;S[1]=X[2]^X[7]>>>16^X[5]<<16;S[2]=X[4]^X[1]>>>16^X[7]<<16;S[3]=X[6]^X[3]>>>16^X[1]<<16;for(var i=0;i<4;i++){S[i]=(S[i]<<8|S[i]>>>24)&16711935|(S[i]<<24|S[i]>>>8)&4278255360;M[offset+i]^=S[i]}},blockSize:128/32,ivSize:64/32});function nextState(){var X=this._X;var C=this._C;for(var i=0;i<8;i++){C_[i]=C[i]}C[0]=C[0]+1295307597+this._b|0;C[1]=C[1]+3545052371+(C[0]>>>0<C_[0]>>>0?1:0)|0;C[2]=C[2]+886263092+(C[1]>>>0<C_[1]>>>0?1:0)|0;C[3]=C[3]+1295307597+(C[2]>>>0<C_[2]>>>0?1:0)|0;C[4]=C[4]+3545052371+(C[3]>>>0<C_[3]>>>0?1:0)|0;C[5]=C[5]+886263092+(C[4]>>>0<C_[4]>>>0?1:0)|0;C[6]=C[6]+1295307597+(C[5]>>>0<C_[5]>>>0?1:0)|0;C[7]=C[7]+3545052371+(C[6]>>>0<C_[6]>>>0?1:0)|0;this._b=C[7]>>>0<C_[7]>>>0?1:0;for(var i=0;i<8;i++){var gx=X[i]+C[i];var ga=gx&65535;var gb=gx>>>16;var gh=((ga*ga>>>17)+ga*gb>>>15)+gb*gb;var gl=((gx&4294901760)*gx|0)+((gx&65535)*gx|0);G[i]=gh^gl}X[0]=G[0]+(G[7]<<16|G[7]>>>16)+(G[6]<<16|G[6]>>>16)|0;X[1]=G[1]+(G[0]<<8|G[0]>>>24)+G[7]|0;X[2]=G[2]+(G[1]<<16|G[1]>>>16)+(G[0]<<16|G[0]>>>16)|0;X[3]=G[3]+(G[2]<<8|G[2]>>>24)+G[1]|0;X[4]=G[4]+(G[3]<<16|G[3]>>>16)+(G[2]<<16|G[2]>>>16)|0;X[5]=G[5]+(G[4]<<8|G[4]>>>24)+G[3]|0;X[6]=G[6]+(G[5]<<16|G[5]>>>16)+(G[4]<<16|G[4]>>>16)|0;X[7]=G[7]+(G[6]<<8|G[6]>>>24)+G[5]|0}C.RabbitLegacy=StreamCipher._createHelper(RabbitLegacy)})();return CryptoJS.RabbitLegacy})},{"./cipher-core":19,"./core":20,"./enc-base64":21,"./evpkdf":23,"./md5":28}],41:[function(_dereq_,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"),_dereq_("./enc-base64"),_dereq_("./md5"),_dereq_("./evpkdf"),_dereq_("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var StreamCipher=C_lib.StreamCipher;var C_algo=C.algo;var S=[];var C_=[];var G=[];var Rabbit=C_algo.Rabbit=StreamCipher.extend({_doReset:function(){var K=this._key.words;var iv=this.cfg.iv;for(var i=0;i<4;i++){K[i]=(K[i]<<8|K[i]>>>24)&16711935|(K[i]<<24|K[i]>>>8)&4278255360}var X=this._X=[K[0],K[3]<<16|K[2]>>>16,K[1],K[0]<<16|K[3]>>>16,K[2],K[1]<<16|K[0]>>>16,K[3],K[2]<<16|K[1]>>>16];var C=this._C=[K[2]<<16|K[2]>>>16,K[0]&4294901760|K[1]&65535,K[3]<<16|K[3]>>>16,K[1]&4294901760|K[2]&65535,K[0]<<16|K[0]>>>16,K[2]&4294901760|K[3]&65535,K[1]<<16|K[1]>>>16,K[3]&4294901760|K[0]&65535];this._b=0;for(var i=0;i<4;i++){nextState.call(this)}for(var i=0;i<8;i++){C[i]^=X[i+4&7]}if(iv){var IV=iv.words;var IV_0=IV[0];var IV_1=IV[1];var i0=(IV_0<<8|IV_0>>>24)&16711935|(IV_0<<24|IV_0>>>8)&4278255360;var i2=(IV_1<<8|IV_1>>>24)&16711935|(IV_1<<24|IV_1>>>8)&4278255360;var i1=i0>>>16|i2&4294901760;var i3=i2<<16|i0&65535;C[0]^=i0;C[1]^=i1;C[2]^=i2;C[3]^=i3;C[4]^=i0;C[5]^=i1;C[6]^=i2;C[7]^=i3;for(var i=0;i<4;i++){nextState.call(this)}}},_doProcessBlock:function(M,offset){var X=this._X;nextState.call(this);S[0]=X[0]^X[5]>>>16^X[3]<<16;S[1]=X[2]^X[7]>>>16^X[5]<<16;S[2]=X[4]^X[1]>>>16^X[7]<<16;S[3]=X[6]^X[3]>>>16^X[1]<<16;for(var i=0;i<4;i++){S[i]=(S[i]<<8|S[i]>>>24)&16711935|(S[i]<<24|S[i]>>>8)&4278255360;M[offset+i]^=S[i]}},blockSize:128/32,ivSize:64/32});function nextState(){var X=this._X;var C=this._C;for(var i=0;i<8;i++){C_[i]=C[i]}C[0]=C[0]+1295307597+this._b|0;C[1]=C[1]+3545052371+(C[0]>>>0<C_[0]>>>0?1:0)|0;C[2]=C[2]+886263092+(C[1]>>>0<C_[1]>>>0?1:0)|0;C[3]=C[3]+1295307597+(C[2]>>>0<C_[2]>>>0?1:0)|0;C[4]=C[4]+3545052371+(C[3]>>>0<C_[3]>>>0?1:0)|0;C[5]=C[5]+886263092+(C[4]>>>0<C_[4]>>>0?1:0)|0;C[6]=C[6]+1295307597+(C[5]>>>0<C_[5]>>>0?1:0)|0;C[7]=C[7]+3545052371+(C[6]>>>0<C_[6]>>>0?1:0)|0;this._b=C[7]>>>0<C_[7]>>>0?1:0;for(var i=0;i<8;i++){var gx=X[i]+C[i];var ga=gx&65535;var gb=gx>>>16;var gh=((ga*ga>>>17)+ga*gb>>>15)+gb*gb;var gl=((gx&4294901760)*gx|0)+((gx&65535)*gx|0);G[i]=gh^gl}X[0]=G[0]+(G[7]<<16|G[7]>>>16)+(G[6]<<16|G[6]>>>16)|0;X[1]=G[1]+(G[0]<<8|G[0]>>>24)+G[7]|0;X[2]=G[2]+(G[1]<<16|G[1]>>>16)+(G[0]<<16|G[0]>>>16)|0;X[3]=G[3]+(G[2]<<8|G[2]>>>24)+G[1]|0;X[4]=G[4]+(G[3]<<16|G[3]>>>16)+(G[2]<<16|G[2]>>>16)|0;X[5]=G[5]+(G[4]<<8|G[4]>>>24)+G[3]|0;X[6]=G[6]+(G[5]<<16|G[5]>>>16)+(G[4]<<16|G[4]>>>16)|0;X[7]=G[7]+(G[6]<<8|G[6]>>>24)+G[5]|0}C.Rabbit=StreamCipher._createHelper(Rabbit)})();return CryptoJS.Rabbit})},{"./cipher-core":19,"./core":20,"./enc-base64":21,"./evpkdf":23,"./md5":28}],42:[function(_dereq_,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"),_dereq_("./enc-base64"),_dereq_("./md5"),_dereq_("./evpkdf"),_dereq_("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var StreamCipher=C_lib.StreamCipher;var C_algo=C.algo;var RC4=C_algo.RC4=StreamCipher.extend({_doReset:function(){var key=this._key;var keyWords=key.words;var keySigBytes=key.sigBytes;var S=this._S=[];for(var i=0;i<256;i++){S[i]=i}for(var i=0,j=0;i<256;i++){var keyByteIndex=i%keySigBytes;var keyByte=keyWords[keyByteIndex>>>2]>>>24-keyByteIndex%4*8&255;j=(j+S[i]+keyByte)%256;var t=S[i];S[i]=S[j];S[j]=t}this._i=this._j=0},_doProcessBlock:function(M,offset){M[offset]^=generateKeystreamWord.call(this)},keySize:256/32,ivSize:0});function generateKeystreamWord(){var S=this._S;var i=this._i;var j=this._j;var keystreamWord=0;for(var n=0;n<4;n++){i=(i+1)%256;j=(j+S[i])%256;var t=S[i];S[i]=S[j];S[j]=t;keystreamWord|=S[(S[i]+S[j])%256]<<24-n*8}this._i=i;this._j=j;return keystreamWord}C.RC4=StreamCipher._createHelper(RC4);var RC4Drop=C_algo.RC4Drop=RC4.extend({cfg:RC4.cfg.extend({drop:192}),_doReset:function(){RC4._doReset.call(this);for(var i=this.cfg.drop;i>0;i--){generateKeystreamWord.call(this)}}});C.RC4Drop=StreamCipher._createHelper(RC4Drop)})();return CryptoJS.RC4})},{"./cipher-core":19,"./core":20,"./enc-base64":21,"./evpkdf":23,"./md5":28}],43:[function(_dereq_,module,exports){(function(root,factory){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"))}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(Math){var C=CryptoJS;var C_lib=C.lib;var WordArray=C_lib.WordArray;var Hasher=C_lib.Hasher;var C_algo=C.algo;var _zl=WordArray.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]);var _zr=WordArray.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]);var _sl=WordArray.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]);var _sr=WordArray.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]);var _hl=WordArray.create([0,1518500249,1859775393,2400959708,2840853838]);var _hr=WordArray.create([1352829926,1548603684,1836072691,2053994217,0]);var RIPEMD160=C_algo.RIPEMD160=Hasher.extend({_doReset:function(){this._hash=WordArray.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(M,offset){for(var i=0;i<16;i++){var offset_i=offset+i;var M_offset_i=M[offset_i];M[offset_i]=(M_offset_i<<8|M_offset_i>>>24)&16711935|(M_offset_i<<24|M_offset_i>>>8)&4278255360}var H=this._hash.words;var hl=_hl.words;var hr=_hr.words;var zl=_zl.words;var zr=_zr.words;var sl=_sl.words;var sr=_sr.words;var al,bl,cl,dl,el;var ar,br,cr,dr,er;ar=al=H[0];br=bl=H[1];cr=cl=H[2];dr=dl=H[3];er=el=H[4];var t;for(var i=0;i<80;i+=1){t=al+M[offset+zl[i]]|0;if(i<16){t+=f1(bl,cl,dl)+hl[0]}else if(i<32){t+=f2(bl,cl,dl)+hl[1]}else if(i<48){t+=f3(bl,cl,dl)+hl[2]}else if(i<64){t+=f4(bl,cl,dl)+hl[3]}else{t+=f5(bl,cl,dl)+hl[4]}t=t|0;t=rotl(t,sl[i]);t=t+el|0;al=el;el=dl;dl=rotl(cl,10);cl=bl;bl=t;t=ar+M[offset+zr[i]]|0;if(i<16){t+=f5(br,cr,dr)+hr[0]}else if(i<32){t+=f4(br,cr,dr)+hr[1]}else if(i<48){t+=f3(br,cr,dr)+hr[2]}else if(i<64){t+=f2(br,cr,dr)+hr[3]}else{t+=f1(br,cr,dr)+hr[4]}t=t|0;t=rotl(t,sr[i]);t=t+er|0;ar=er;er=dr;dr=rotl(cr,10);cr=br;br=t}t=H[1]+cl+dr|0;H[1]=H[2]+dl+er|0;H[2]=H[3]+el+ar|0;H[3]=H[4]+al+br|0;H[4]=H[0]+bl+cr|0;H[0]=t},_doFinalize:function(){var data=this._data;var dataWords=data.words;var nBitsTotal=this._nDataBytes*8;var nBitsLeft=data.sigBytes*8;dataWords[nBitsLeft>>>5]|=128<<24-nBitsLeft%32;dataWords[(nBitsLeft+64>>>9<<4)+14]=(nBitsTotal<<8|nBitsTotal>>>24)&16711935|(nBitsTotal<<24|nBitsTotal>>>8)&4278255360;data.sigBytes=(dataWords.length+1)*4;this._process();var hash=this._hash;var H=hash.words;for(var i=0;i<5;i++){var H_i=H[i];H[i]=(H_i<<8|H_i>>>24)&16711935|(H_i<<24|H_i>>>8)&4278255360}return hash},clone:function(){var clone=Hasher.clone.call(this);clone._hash=this._hash.clone();return clone}});function f1(x,y,z){return x^y^z}function f2(x,y,z){return x&y|~x&z}function f3(x,y,z){return(x|~y)^z}function f4(x,y,z){return x&z|y&~z}function f5(x,y,z){return x^(y|~z)}function rotl(x,n){return x<<n|x>>>32-n}C.RIPEMD160=Hasher._createHelper(RIPEMD160);C.HmacRIPEMD160=Hasher._createHmacHelper(RIPEMD160)})(Math);return CryptoJS.RIPEMD160})},{"./core":20}],44:[function(_dereq_,module,exports){(function(root,factory){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"))}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var WordArray=C_lib.WordArray;var Hasher=C_lib.Hasher;var C_algo=C.algo;var W=[];var SHA1=C_algo.SHA1=Hasher.extend({_doReset:function(){this._hash=new WordArray.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(M,offset){var H=this._hash.words;var a=H[0];var b=H[1];var c=H[2];var d=H[3];var e=H[4];for(var i=0;i<80;i++){if(i<16){W[i]=M[offset+i]|0}else{var n=W[i-3]^W[i-8]^W[i-14]^W[i-16];W[i]=n<<1|n>>>31}var t=(a<<5|a>>>27)+e+W[i];if(i<20){t+=(b&c|~b&d)+1518500249}else if(i<40){t+=(b^c^d)+1859775393}else if(i<60){t+=(b&c|b&d|c&d)-1894007588}else{t+=(b^c^d)-899497514}e=d;d=c;c=b<<30|b>>>2;b=a;a=t}H[0]=H[0]+a|0;H[1]=H[1]+b|0;H[2]=H[2]+c|0;H[3]=H[3]+d|0;H[4]=H[4]+e|0},_doFinalize:function(){var data=this._data;var dataWords=data.words;var nBitsTotal=this._nDataBytes*8;var nBitsLeft=data.sigBytes*8;dataWords[nBitsLeft>>>5]|=128<<24-nBitsLeft%32;dataWords[(nBitsLeft+64>>>9<<4)+14]=Math.floor(nBitsTotal/4294967296);dataWords[(nBitsLeft+64>>>9<<4)+15]=nBitsTotal;data.sigBytes=dataWords.length*4;this._process();return this._hash},clone:function(){var clone=Hasher.clone.call(this);clone._hash=this._hash.clone();return clone}});C.SHA1=Hasher._createHelper(SHA1);C.HmacSHA1=Hasher._createHmacHelper(SHA1)})();return CryptoJS.SHA1})},{"./core":20}],45:[function(_dereq_,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"),_dereq_("./sha256"))}else if(typeof define==="function"&&define.amd){define(["./core","./sha256"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var WordArray=C_lib.WordArray;var C_algo=C.algo;var SHA256=C_algo.SHA256;var SHA224=C_algo.SHA224=SHA256.extend({_doReset:function(){this._hash=new WordArray.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var hash=SHA256._doFinalize.call(this);
hash.sigBytes-=4;return hash}});C.SHA224=SHA256._createHelper(SHA224);C.HmacSHA224=SHA256._createHmacHelper(SHA224)})();return CryptoJS.SHA224})},{"./core":20,"./sha256":46}],46:[function(_dereq_,module,exports){(function(root,factory){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"))}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(Math){var C=CryptoJS;var C_lib=C.lib;var WordArray=C_lib.WordArray;var Hasher=C_lib.Hasher;var C_algo=C.algo;var H=[];var K=[];(function(){function isPrime(n){var sqrtN=Math.sqrt(n);for(var factor=2;factor<=sqrtN;factor++){if(!(n%factor)){return false}}return true}function getFractionalBits(n){return(n-(n|0))*4294967296|0}var n=2;var nPrime=0;while(nPrime<64){if(isPrime(n)){if(nPrime<8){H[nPrime]=getFractionalBits(Math.pow(n,1/2))}K[nPrime]=getFractionalBits(Math.pow(n,1/3));nPrime++}n++}})();var W=[];var SHA256=C_algo.SHA256=Hasher.extend({_doReset:function(){this._hash=new WordArray.init(H.slice(0))},_doProcessBlock:function(M,offset){var H=this._hash.words;var a=H[0];var b=H[1];var c=H[2];var d=H[3];var e=H[4];var f=H[5];var g=H[6];var h=H[7];for(var i=0;i<64;i++){if(i<16){W[i]=M[offset+i]|0}else{var gamma0x=W[i-15];var gamma0=(gamma0x<<25|gamma0x>>>7)^(gamma0x<<14|gamma0x>>>18)^gamma0x>>>3;var gamma1x=W[i-2];var gamma1=(gamma1x<<15|gamma1x>>>17)^(gamma1x<<13|gamma1x>>>19)^gamma1x>>>10;W[i]=gamma0+W[i-7]+gamma1+W[i-16]}var ch=e&f^~e&g;var maj=a&b^a&c^b&c;var sigma0=(a<<30|a>>>2)^(a<<19|a>>>13)^(a<<10|a>>>22);var sigma1=(e<<26|e>>>6)^(e<<21|e>>>11)^(e<<7|e>>>25);var t1=h+sigma1+ch+K[i]+W[i];var t2=sigma0+maj;h=g;g=f;f=e;e=d+t1|0;d=c;c=b;b=a;a=t1+t2|0}H[0]=H[0]+a|0;H[1]=H[1]+b|0;H[2]=H[2]+c|0;H[3]=H[3]+d|0;H[4]=H[4]+e|0;H[5]=H[5]+f|0;H[6]=H[6]+g|0;H[7]=H[7]+h|0},_doFinalize:function(){var data=this._data;var dataWords=data.words;var nBitsTotal=this._nDataBytes*8;var nBitsLeft=data.sigBytes*8;dataWords[nBitsLeft>>>5]|=128<<24-nBitsLeft%32;dataWords[(nBitsLeft+64>>>9<<4)+14]=Math.floor(nBitsTotal/4294967296);dataWords[(nBitsLeft+64>>>9<<4)+15]=nBitsTotal;data.sigBytes=dataWords.length*4;this._process();return this._hash},clone:function(){var clone=Hasher.clone.call(this);clone._hash=this._hash.clone();return clone}});C.SHA256=Hasher._createHelper(SHA256);C.HmacSHA256=Hasher._createHmacHelper(SHA256)})(Math);return CryptoJS.SHA256})},{"./core":20}],47:[function(_dereq_,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"),_dereq_("./x64-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./x64-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(Math){var C=CryptoJS;var C_lib=C.lib;var WordArray=C_lib.WordArray;var Hasher=C_lib.Hasher;var C_x64=C.x64;var X64Word=C_x64.Word;var C_algo=C.algo;var RHO_OFFSETS=[];var PI_INDEXES=[];var ROUND_CONSTANTS=[];(function(){var x=1,y=0;for(var t=0;t<24;t++){RHO_OFFSETS[x+5*y]=(t+1)*(t+2)/2%64;var newX=y%5;var newY=(2*x+3*y)%5;x=newX;y=newY}for(var x=0;x<5;x++){for(var y=0;y<5;y++){PI_INDEXES[x+5*y]=y+(2*x+3*y)%5*5}}var LFSR=1;for(var i=0;i<24;i++){var roundConstantMsw=0;var roundConstantLsw=0;for(var j=0;j<7;j++){if(LFSR&1){var bitPosition=(1<<j)-1;if(bitPosition<32){roundConstantLsw^=1<<bitPosition}else{roundConstantMsw^=1<<bitPosition-32}}if(LFSR&128){LFSR=LFSR<<1^113}else{LFSR<<=1}}ROUND_CONSTANTS[i]=X64Word.create(roundConstantMsw,roundConstantLsw)}})();var T=[];(function(){for(var i=0;i<25;i++){T[i]=X64Word.create()}})();var SHA3=C_algo.SHA3=Hasher.extend({cfg:Hasher.cfg.extend({outputLength:512}),_doReset:function(){var state=this._state=[];for(var i=0;i<25;i++){state[i]=new X64Word.init}this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(M,offset){var state=this._state;var nBlockSizeLanes=this.blockSize/2;for(var i=0;i<nBlockSizeLanes;i++){var M2i=M[offset+2*i];var M2i1=M[offset+2*i+1];M2i=(M2i<<8|M2i>>>24)&16711935|(M2i<<24|M2i>>>8)&4278255360;M2i1=(M2i1<<8|M2i1>>>24)&16711935|(M2i1<<24|M2i1>>>8)&4278255360;var lane=state[i];lane.high^=M2i1;lane.low^=M2i}for(var round=0;round<24;round++){for(var x=0;x<5;x++){var tMsw=0,tLsw=0;for(var y=0;y<5;y++){var lane=state[x+5*y];tMsw^=lane.high;tLsw^=lane.low}var Tx=T[x];Tx.high=tMsw;Tx.low=tLsw}for(var x=0;x<5;x++){var Tx4=T[(x+4)%5];var Tx1=T[(x+1)%5];var Tx1Msw=Tx1.high;var Tx1Lsw=Tx1.low;var tMsw=Tx4.high^(Tx1Msw<<1|Tx1Lsw>>>31);var tLsw=Tx4.low^(Tx1Lsw<<1|Tx1Msw>>>31);for(var y=0;y<5;y++){var lane=state[x+5*y];lane.high^=tMsw;lane.low^=tLsw}}for(var laneIndex=1;laneIndex<25;laneIndex++){var lane=state[laneIndex];var laneMsw=lane.high;var laneLsw=lane.low;var rhoOffset=RHO_OFFSETS[laneIndex];if(rhoOffset<32){var tMsw=laneMsw<<rhoOffset|laneLsw>>>32-rhoOffset;var tLsw=laneLsw<<rhoOffset|laneMsw>>>32-rhoOffset}else{var tMsw=laneLsw<<rhoOffset-32|laneMsw>>>64-rhoOffset;var tLsw=laneMsw<<rhoOffset-32|laneLsw>>>64-rhoOffset}var TPiLane=T[PI_INDEXES[laneIndex]];TPiLane.high=tMsw;TPiLane.low=tLsw}var T0=T[0];var state0=state[0];T0.high=state0.high;T0.low=state0.low;for(var x=0;x<5;x++){for(var y=0;y<5;y++){var laneIndex=x+5*y;var lane=state[laneIndex];var TLane=T[laneIndex];var Tx1Lane=T[(x+1)%5+5*y];var Tx2Lane=T[(x+2)%5+5*y];lane.high=TLane.high^~Tx1Lane.high&Tx2Lane.high;lane.low=TLane.low^~Tx1Lane.low&Tx2Lane.low}}var lane=state[0];var roundConstant=ROUND_CONSTANTS[round];lane.high^=roundConstant.high;lane.low^=roundConstant.low}},_doFinalize:function(){var data=this._data;var dataWords=data.words;var nBitsTotal=this._nDataBytes*8;var nBitsLeft=data.sigBytes*8;var blockSizeBits=this.blockSize*32;dataWords[nBitsLeft>>>5]|=1<<24-nBitsLeft%32;dataWords[(Math.ceil((nBitsLeft+1)/blockSizeBits)*blockSizeBits>>>5)-1]|=128;data.sigBytes=dataWords.length*4;this._process();var state=this._state;var outputLengthBytes=this.cfg.outputLength/8;var outputLengthLanes=outputLengthBytes/8;var hashWords=[];for(var i=0;i<outputLengthLanes;i++){var lane=state[i];var laneMsw=lane.high;var laneLsw=lane.low;laneMsw=(laneMsw<<8|laneMsw>>>24)&16711935|(laneMsw<<24|laneMsw>>>8)&4278255360;laneLsw=(laneLsw<<8|laneLsw>>>24)&16711935|(laneLsw<<24|laneLsw>>>8)&4278255360;hashWords.push(laneLsw);hashWords.push(laneMsw)}return new WordArray.init(hashWords,outputLengthBytes)},clone:function(){var clone=Hasher.clone.call(this);var state=clone._state=this._state.slice(0);for(var i=0;i<25;i++){state[i]=state[i].clone()}return clone}});C.SHA3=Hasher._createHelper(SHA3);C.HmacSHA3=Hasher._createHmacHelper(SHA3)})(Math);return CryptoJS.SHA3})},{"./core":20,"./x64-core":51}],48:[function(_dereq_,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"),_dereq_("./x64-core"),_dereq_("./sha512"))}else if(typeof define==="function"&&define.amd){define(["./core","./x64-core","./sha512"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_x64=C.x64;var X64Word=C_x64.Word;var X64WordArray=C_x64.WordArray;var C_algo=C.algo;var SHA512=C_algo.SHA512;var SHA384=C_algo.SHA384=SHA512.extend({_doReset:function(){this._hash=new X64WordArray.init([new X64Word.init(3418070365,3238371032),new X64Word.init(1654270250,914150663),new X64Word.init(2438529370,812702999),new X64Word.init(355462360,4144912697),new X64Word.init(1731405415,4290775857),new X64Word.init(2394180231,1750603025),new X64Word.init(3675008525,1694076839),new X64Word.init(1203062813,3204075428)])},_doFinalize:function(){var hash=SHA512._doFinalize.call(this);hash.sigBytes-=16;return hash}});C.SHA384=SHA512._createHelper(SHA384);C.HmacSHA384=SHA512._createHmacHelper(SHA384)})();return CryptoJS.SHA384})},{"./core":20,"./sha512":49,"./x64-core":51}],49:[function(_dereq_,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"),_dereq_("./x64-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./x64-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var Hasher=C_lib.Hasher;var C_x64=C.x64;var X64Word=C_x64.Word;var X64WordArray=C_x64.WordArray;var C_algo=C.algo;function X64Word_create(){return X64Word.create.apply(X64Word,arguments)}var K=[X64Word_create(1116352408,3609767458),X64Word_create(1899447441,602891725),X64Word_create(3049323471,3964484399),X64Word_create(3921009573,2173295548),X64Word_create(961987163,4081628472),X64Word_create(1508970993,3053834265),X64Word_create(2453635748,2937671579),X64Word_create(2870763221,3664609560),X64Word_create(3624381080,2734883394),X64Word_create(310598401,1164996542),X64Word_create(607225278,1323610764),X64Word_create(1426881987,3590304994),X64Word_create(1925078388,4068182383),X64Word_create(2162078206,991336113),X64Word_create(2614888103,633803317),X64Word_create(3248222580,3479774868),X64Word_create(3835390401,2666613458),X64Word_create(4022224774,944711139),X64Word_create(264347078,2341262773),X64Word_create(604807628,2007800933),X64Word_create(770255983,1495990901),X64Word_create(1249150122,1856431235),X64Word_create(1555081692,3175218132),X64Word_create(1996064986,2198950837),X64Word_create(2554220882,3999719339),X64Word_create(2821834349,766784016),X64Word_create(2952996808,2566594879),X64Word_create(3210313671,3203337956),X64Word_create(3336571891,1034457026),X64Word_create(3584528711,2466948901),X64Word_create(113926993,3758326383),X64Word_create(338241895,168717936),X64Word_create(666307205,1188179964),X64Word_create(773529912,1546045734),X64Word_create(1294757372,1522805485),X64Word_create(1396182291,2643833823),X64Word_create(1695183700,2343527390),X64Word_create(1986661051,1014477480),X64Word_create(2177026350,1206759142),X64Word_create(2456956037,344077627),X64Word_create(2730485921,1290863460),X64Word_create(2820302411,3158454273),X64Word_create(3259730800,3505952657),X64Word_create(3345764771,106217008),X64Word_create(3516065817,3606008344),X64Word_create(3600352804,1432725776),X64Word_create(4094571909,1467031594),X64Word_create(275423344,851169720),X64Word_create(430227734,3100823752),X64Word_create(506948616,1363258195),X64Word_create(659060556,3750685593),X64Word_create(883997877,3785050280),X64Word_create(958139571,3318307427),X64Word_create(1322822218,3812723403),X64Word_create(1537002063,2003034995),X64Word_create(1747873779,3602036899),X64Word_create(1955562222,1575990012),X64Word_create(2024104815,1125592928),X64Word_create(2227730452,2716904306),X64Word_create(2361852424,442776044),X64Word_create(2428436474,593698344),X64Word_create(2756734187,3733110249),X64Word_create(3204031479,2999351573),X64Word_create(3329325298,3815920427),X64Word_create(3391569614,3928383900),X64Word_create(3515267271,566280711),X64Word_create(3940187606,3454069534),X64Word_create(4118630271,4000239992),X64Word_create(116418474,1914138554),X64Word_create(174292421,2731055270),X64Word_create(289380356,3203993006),X64Word_create(460393269,320620315),X64Word_create(685471733,587496836),X64Word_create(852142971,1086792851),X64Word_create(1017036298,365543100),X64Word_create(1126000580,2618297676),X64Word_create(1288033470,3409855158),X64Word_create(1501505948,4234509866),X64Word_create(1607167915,987167468),X64Word_create(1816402316,1246189591)];var W=[];(function(){for(var i=0;i<80;i++){W[i]=X64Word_create()}})();var SHA512=C_algo.SHA512=Hasher.extend({_doReset:function(){this._hash=new X64WordArray.init([new X64Word.init(1779033703,4089235720),new X64Word.init(3144134277,2227873595),new X64Word.init(1013904242,4271175723),new X64Word.init(2773480762,1595750129),new X64Word.init(1359893119,2917565137),new X64Word.init(2600822924,725511199),new X64Word.init(528734635,4215389547),new X64Word.init(1541459225,327033209)])},_doProcessBlock:function(M,offset){var H=this._hash.words;var H0=H[0];var H1=H[1];var H2=H[2];var H3=H[3];var H4=H[4];var H5=H[5];var H6=H[6];var H7=H[7];var H0h=H0.high;var H0l=H0.low;var H1h=H1.high;var H1l=H1.low;var H2h=H2.high;var H2l=H2.low;var H3h=H3.high;var H3l=H3.low;var H4h=H4.high;var H4l=H4.low;var H5h=H5.high;var H5l=H5.low;var H6h=H6.high;var H6l=H6.low;var H7h=H7.high;var H7l=H7.low;var ah=H0h;var al=H0l;var bh=H1h;var bl=H1l;var ch=H2h;var cl=H2l;var dh=H3h;var dl=H3l;var eh=H4h;var el=H4l;var fh=H5h;var fl=H5l;var gh=H6h;var gl=H6l;var hh=H7h;var hl=H7l;for(var i=0;i<80;i++){var Wi=W[i];if(i<16){var Wih=Wi.high=M[offset+i*2]|0;var Wil=Wi.low=M[offset+i*2+1]|0}else{var gamma0x=W[i-15];var gamma0xh=gamma0x.high;var gamma0xl=gamma0x.low;var gamma0h=(gamma0xh>>>1|gamma0xl<<31)^(gamma0xh>>>8|gamma0xl<<24)^gamma0xh>>>7;var gamma0l=(gamma0xl>>>1|gamma0xh<<31)^(gamma0xl>>>8|gamma0xh<<24)^(gamma0xl>>>7|gamma0xh<<25);var gamma1x=W[i-2];var gamma1xh=gamma1x.high;var gamma1xl=gamma1x.low;var gamma1h=(gamma1xh>>>19|gamma1xl<<13)^(gamma1xh<<3|gamma1xl>>>29)^gamma1xh>>>6;var gamma1l=(gamma1xl>>>19|gamma1xh<<13)^(gamma1xl<<3|gamma1xh>>>29)^(gamma1xl>>>6|gamma1xh<<26);var Wi7=W[i-7];var Wi7h=Wi7.high;var Wi7l=Wi7.low;var Wi16=W[i-16];var Wi16h=Wi16.high;var Wi16l=Wi16.low;var Wil=gamma0l+Wi7l;var Wih=gamma0h+Wi7h+(Wil>>>0<gamma0l>>>0?1:0);var Wil=Wil+gamma1l;var Wih=Wih+gamma1h+(Wil>>>0<gamma1l>>>0?1:0);var Wil=Wil+Wi16l;var Wih=Wih+Wi16h+(Wil>>>0<Wi16l>>>0?1:0);Wi.high=Wih;Wi.low=Wil}var chh=eh&fh^~eh&gh;var chl=el&fl^~el&gl;var majh=ah&bh^ah&ch^bh&ch;var majl=al&bl^al&cl^bl&cl;var sigma0h=(ah>>>28|al<<4)^(ah<<30|al>>>2)^(ah<<25|al>>>7);var sigma0l=(al>>>28|ah<<4)^(al<<30|ah>>>2)^(al<<25|ah>>>7);var sigma1h=(eh>>>14|el<<18)^(eh>>>18|el<<14)^(eh<<23|el>>>9);var sigma1l=(el>>>14|eh<<18)^(el>>>18|eh<<14)^(el<<23|eh>>>9);var Ki=K[i];var Kih=Ki.high;var Kil=Ki.low;var t1l=hl+sigma1l;var t1h=hh+sigma1h+(t1l>>>0<hl>>>0?1:0);var t1l=t1l+chl;var t1h=t1h+chh+(t1l>>>0<chl>>>0?1:0);var t1l=t1l+Kil;var t1h=t1h+Kih+(t1l>>>0<Kil>>>0?1:0);var t1l=t1l+Wil;var t1h=t1h+Wih+(t1l>>>0<Wil>>>0?1:0);var t2l=sigma0l+majl;var t2h=sigma0h+majh+(t2l>>>0<sigma0l>>>0?1:0);hh=gh;hl=gl;gh=fh;gl=fl;fh=eh;fl=el;el=dl+t1l|0;eh=dh+t1h+(el>>>0<dl>>>0?1:0)|0;dh=ch;dl=cl;ch=bh;cl=bl;bh=ah;bl=al;al=t1l+t2l|0;ah=t1h+t2h+(al>>>0<t1l>>>0?1:0)|0}H0l=H0.low=H0l+al;H0.high=H0h+ah+(H0l>>>0<al>>>0?1:0);H1l=H1.low=H1l+bl;H1.high=H1h+bh+(H1l>>>0<bl>>>0?1:0);H2l=H2.low=H2l+cl;H2.high=H2h+ch+(H2l>>>0<cl>>>0?1:0);H3l=H3.low=H3l+dl;H3.high=H3h+dh+(H3l>>>0<dl>>>0?1:0);H4l=H4.low=H4l+el;H4.high=H4h+eh+(H4l>>>0<el>>>0?1:0);H5l=H5.low=H5l+fl;H5.high=H5h+fh+(H5l>>>0<fl>>>0?1:0);H6l=H6.low=H6l+gl;H6.high=H6h+gh+(H6l>>>0<gl>>>0?1:0);H7l=H7.low=H7l+hl;H7.high=H7h+hh+(H7l>>>0<hl>>>0?1:0)},_doFinalize:function(){var data=this._data;var dataWords=data.words;var nBitsTotal=this._nDataBytes*8;var nBitsLeft=data.sigBytes*8;dataWords[nBitsLeft>>>5]|=128<<24-nBitsLeft%32;dataWords[(nBitsLeft+128>>>10<<5)+30]=Math.floor(nBitsTotal/4294967296);dataWords[(nBitsLeft+128>>>10<<5)+31]=nBitsTotal;data.sigBytes=dataWords.length*4;this._process();var hash=this._hash.toX32();return hash},clone:function(){var clone=Hasher.clone.call(this);clone._hash=this._hash.clone();return clone},blockSize:1024/32});C.SHA512=Hasher._createHelper(SHA512);C.HmacSHA512=Hasher._createHmacHelper(SHA512)})();return CryptoJS.SHA512})},{"./core":20,"./x64-core":51}],50:[function(_dereq_,module,exports){(function(root,factory,undef){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"),_dereq_("./enc-base64"),_dereq_("./md5"),_dereq_("./evpkdf"),_dereq_("./cipher-core"))}else if(typeof define==="function"&&define.amd){define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(){var C=CryptoJS;var C_lib=C.lib;var WordArray=C_lib.WordArray;var BlockCipher=C_lib.BlockCipher;var C_algo=C.algo;var PC1=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4];var PC2=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32];var BIT_SHIFTS=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28];var SBOX_P=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}];var SBOX_MASK=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679];var DES=C_algo.DES=BlockCipher.extend({_doReset:function(){var key=this._key;var keyWords=key.words;var keyBits=[];for(var i=0;i<56;i++){var keyBitPos=PC1[i]-1;keyBits[i]=keyWords[keyBitPos>>>5]>>>31-keyBitPos%32&1}var subKeys=this._subKeys=[];for(var nSubKey=0;nSubKey<16;nSubKey++){var subKey=subKeys[nSubKey]=[];var bitShift=BIT_SHIFTS[nSubKey];for(var i=0;i<24;i++){subKey[i/6|0]|=keyBits[(PC2[i]-1+bitShift)%28]<<31-i%6;subKey[4+(i/6|0)]|=keyBits[28+(PC2[i+24]-1+bitShift)%28]<<31-i%6}subKey[0]=subKey[0]<<1|subKey[0]>>>31;for(var i=1;i<7;i++){subKey[i]=subKey[i]>>>(i-1)*4+3}subKey[7]=subKey[7]<<5|subKey[7]>>>27}var invSubKeys=this._invSubKeys=[];for(var i=0;i<16;i++){invSubKeys[i]=subKeys[15-i]}},encryptBlock:function(M,offset){this._doCryptBlock(M,offset,this._subKeys)},decryptBlock:function(M,offset){this._doCryptBlock(M,offset,this._invSubKeys)},_doCryptBlock:function(M,offset,subKeys){this._lBlock=M[offset];this._rBlock=M[offset+1];exchangeLR.call(this,4,252645135);exchangeLR.call(this,16,65535);exchangeRL.call(this,2,858993459);exchangeRL.call(this,8,16711935);exchangeLR.call(this,1,1431655765);for(var round=0;round<16;round++){var subKey=subKeys[round];var lBlock=this._lBlock;var rBlock=this._rBlock;var f=0;for(var i=0;i<8;i++){f|=SBOX_P[i][((rBlock^subKey[i])&SBOX_MASK[i])>>>0]}this._lBlock=rBlock;this._rBlock=lBlock^f}var t=this._lBlock;this._lBlock=this._rBlock;this._rBlock=t;exchangeLR.call(this,1,1431655765);exchangeRL.call(this,8,16711935);exchangeRL.call(this,2,858993459);exchangeLR.call(this,16,65535);exchangeLR.call(this,4,252645135);M[offset]=this._lBlock;M[offset+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function exchangeLR(offset,mask){var t=(this._lBlock>>>offset^this._rBlock)&mask;this._rBlock^=t;this._lBlock^=t<<offset}function exchangeRL(offset,mask){var t=(this._rBlock>>>offset^this._lBlock)&mask;this._lBlock^=t;this._rBlock^=t<<offset}C.DES=BlockCipher._createHelper(DES);var TripleDES=C_algo.TripleDES=BlockCipher.extend({_doReset:function(){var key=this._key;var keyWords=key.words;this._des1=DES.createEncryptor(WordArray.create(keyWords.slice(0,2)));this._des2=DES.createEncryptor(WordArray.create(keyWords.slice(2,4)));this._des3=DES.createEncryptor(WordArray.create(keyWords.slice(4,6)))},encryptBlock:function(M,offset){this._des1.encryptBlock(M,offset);this._des2.decryptBlock(M,offset);this._des3.encryptBlock(M,offset)},decryptBlock:function(M,offset){this._des3.decryptBlock(M,offset);this._des2.encryptBlock(M,offset);this._des1.decryptBlock(M,offset)},keySize:192/32,ivSize:64/32,blockSize:64/32});C.TripleDES=BlockCipher._createHelper(TripleDES)})();return CryptoJS.TripleDES})},{"./cipher-core":19,"./core":20,"./enc-base64":21,"./evpkdf":23,"./md5":28}],51:[function(_dereq_,module,exports){(function(root,factory){if(typeof exports==="object"){module.exports=exports=factory(_dereq_("./core"))}else if(typeof define==="function"&&define.amd){define(["./core"],factory)}else{factory(root.CryptoJS)}})(this,function(CryptoJS){(function(undefined){var C=CryptoJS;var C_lib=C.lib;var Base=C_lib.Base;var X32WordArray=C_lib.WordArray;var C_x64=C.x64={};var X64Word=C_x64.Word=Base.extend({init:function(high,low){this.high=high;this.low=low}});var X64WordArray=C_x64.WordArray=Base.extend({init:function(words,sigBytes){words=this.words=words||[];if(sigBytes!=undefined){this.sigBytes=sigBytes}else{this.sigBytes=words.length*8}},toX32:function(){var x64Words=this.words;var x64WordsLength=x64Words.length;var x32Words=[];for(var i=0;i<x64WordsLength;i++){var x64Word=x64Words[i];x32Words.push(x64Word.high);x32Words.push(x64Word.low)}return X32WordArray.create(x32Words,this.sigBytes)},clone:function(){var clone=Base.clone.call(this);var words=clone.words=this.words.slice(0);var wordsLength=words.length;for(var i=0;i<wordsLength;i++){words[i]=words[i].clone()}return clone}})})();return CryptoJS})},{"./core":20}],52:[function(_dereq_,module,exports){var assert=_dereq_("assert");var BigInteger=_dereq_("bigi");var Point=_dereq_("./point");function Curve(p,a,b,Gx,Gy,n,h){this.p=p;this.a=a;this.b=b;this.G=Point.fromAffine(this,Gx,Gy);this.n=n;this.h=h;this.infinity=new Point(this,null,null,BigInteger.ZERO);this.pOverFour=p.add(BigInteger.ONE).shiftRight(2)}Curve.prototype.pointFromX=function(isOdd,x){var alpha=x.pow(3).add(this.a.multiply(x)).add(this.b).mod(this.p);var beta=alpha.modPow(this.pOverFour,this.p);var y=beta;if(beta.isEven()^!isOdd){y=this.p.subtract(y)}return Point.fromAffine(this,x,y)};Curve.prototype.isInfinity=function(Q){if(Q===this.infinity)return true;return Q.z.signum()===0&&Q.y.signum()!==0};Curve.prototype.isOnCurve=function(Q){if(this.isInfinity(Q))return true;var x=Q.affineX;var y=Q.affineY;var a=this.a;var b=this.b;var p=this.p;if(x.signum()<0||x.compareTo(p)>=0)return false;if(y.signum()<0||y.compareTo(p)>=0)return false;var lhs=y.square().mod(p);var rhs=x.pow(3).add(a.multiply(x)).add(b).mod(p);return lhs.equals(rhs)};Curve.prototype.validate=function(Q){assert(!this.isInfinity(Q),"Point is at infinity");assert(this.isOnCurve(Q),"Point is not on the curve");var nQ=Q.multiply(this.n);assert(this.isInfinity(nQ),"Point is not a scalar multiple of G");return true};module.exports=Curve},{"./point":56,assert:76,bigi:3}],53:[function(_dereq_,module,exports){module.exports={secp128r1:{p:"fffffffdffffffffffffffffffffffff",a:"fffffffdfffffffffffffffffffffffc",b:"e87579c11079f43dd824993c2cee5ed3",n:"fffffffe0000000075a30d1b9038a115",h:"01",Gx:"161ff7528b899b2d0c28607ca52c5b86",Gy:"cf5ac8395bafeb13c02da292dded7a83"},secp160k1:{p:"fffffffffffffffffffffffffffffffeffffac73",a:"00",b:"07",n:"0100000000000000000001b8fa16dfab9aca16b6b3",h:"01",Gx:"3b4c382ce37aa192a4019e763036f4f5dd4d7ebb",Gy:"938cf935318fdced6bc28286531733c3f03c4fee"},secp160r1:{p:"ffffffffffffffffffffffffffffffff7fffffff",a:"ffffffffffffffffffffffffffffffff7ffffffc",b:"1c97befc54bd7a8b65acf89f81d4d4adc565fa45",n:"0100000000000000000001f4c8f927aed3ca752257",h:"01",Gx:"4a96b5688ef573284664698968c38bb913cbfc82",Gy:"23a628553168947d59dcc912042351377ac5fb32"},secp192k1:{p:"fffffffffffffffffffffffffffffffffffffffeffffee37",a:"00",b:"03",n:"fffffffffffffffffffffffe26f2fc170f69466a74defd8d",h:"01",Gx:"db4ff10ec057e9ae26b07d0280b7f4341da5d1b1eae06c7d",Gy:"9b2f2f6d9c5628a7844163d015be86344082aa88d95e2f9d"},secp192r1:{p:"fffffffffffffffffffffffffffffffeffffffffffffffff",a:"fffffffffffffffffffffffffffffffefffffffffffffffc",b:"64210519e59c80e70fa7e9ab72243049feb8deecc146b9b1",n:"ffffffffffffffffffffffff99def836146bc9b1b4d22831",h:"01",Gx:"188da80eb03090f67cbf20eb43a18800f4ff0afd82ff1012",Gy:"07192b95ffc8da78631011ed6b24cdd573f977a11e794811"},secp224r1:{p:"ffffffffffffffffffffffffffffffff000000000000000000000001",a:"fffffffffffffffffffffffffffffffefffffffffffffffffffffffe",b:"b4050a850c04b3abf54132565044b0b7d7bfd8ba270b39432355ffb4",n:"ffffffffffffffffffffffffffff16a2e0b8f03e13dd29455c5c2a3d",h:"01",Gx:"b70e0cbd6bb4bf7f321390b94a03c1d356c21122343280d6115c1d21",Gy:"bd376388b5f723fb4c22dfe6cd4375a05a07476444d5819985007e34"},secp256k1:{p:"fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f",a:"00",b:"07",n:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",h:"01",Gx:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",Gy:"483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"},secp256r1:{p:"ffffffff00000001000000000000000000000000ffffffffffffffffffffffff",a:"ffffffff00000001000000000000000000000000fffffffffffffffffffffffc",b:"5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b",n:"ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551",h:"01",Gx:"6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296",Gy:"4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"}}},{}],54:[function(_dereq_,module,exports){var Point=_dereq_("./point");var Curve=_dereq_("./curve");var getCurveByName=_dereq_("./names");module.exports={Curve:Curve,Point:Point,getCurveByName:getCurveByName}},{"./curve":52,"./names":55,"./point":56}],55:[function(_dereq_,module,exports){var BigInteger=_dereq_("bigi");var curves=_dereq_("./curves");
var Curve=_dereq_("./curve");function getCurveByName(name){var curve=curves[name];if(!curve)return null;var p=new BigInteger(curve.p,16);var a=new BigInteger(curve.a,16);var b=new BigInteger(curve.b,16);var n=new BigInteger(curve.n,16);var h=new BigInteger(curve.h,16);var Gx=new BigInteger(curve.Gx,16);var Gy=new BigInteger(curve.Gy,16);return new Curve(p,a,b,Gx,Gy,n,h)}module.exports=getCurveByName},{"./curve":52,"./curves":53,bigi:3}],56:[function(_dereq_,module,exports){(function(Buffer){var assert=_dereq_("assert");var BigInteger=_dereq_("bigi");var THREE=BigInteger.valueOf(3);function Point(curve,x,y,z){assert.notStrictEqual(z,undefined,"Missing Z coordinate");this.curve=curve;this.x=x;this.y=y;this.z=z;this._zInv=null;this.compressed=true}Object.defineProperty(Point.prototype,"zInv",{get:function(){if(this._zInv===null){this._zInv=this.z.modInverse(this.curve.p)}return this._zInv}});Object.defineProperty(Point.prototype,"affineX",{get:function(){return this.x.multiply(this.zInv).mod(this.curve.p)}});Object.defineProperty(Point.prototype,"affineY",{get:function(){return this.y.multiply(this.zInv).mod(this.curve.p)}});Point.fromAffine=function(curve,x,y){return new Point(curve,x,y,BigInteger.ONE)};Point.prototype.equals=function(other){if(other===this)return true;if(this.curve.isInfinity(this))return this.curve.isInfinity(other);if(this.curve.isInfinity(other))return this.curve.isInfinity(this);var u=other.y.multiply(this.z).subtract(this.y.multiply(other.z)).mod(this.curve.p);if(u.signum()!==0)return false;var v=other.x.multiply(this.z).subtract(this.x.multiply(other.z)).mod(this.curve.p);return v.signum()===0};Point.prototype.negate=function(){var y=this.curve.p.subtract(this.y);return new Point(this.curve,this.x,y,this.z)};Point.prototype.add=function(b){if(this.curve.isInfinity(this))return b;if(this.curve.isInfinity(b))return this;var x1=this.x;var y1=this.y;var x2=b.x;var y2=b.y;var u=y2.multiply(this.z).subtract(y1.multiply(b.z)).mod(this.curve.p);var v=x2.multiply(this.z).subtract(x1.multiply(b.z)).mod(this.curve.p);if(v.signum()===0){if(u.signum()===0){return this.twice()}return this.curve.infinity}var v2=v.square();var v3=v2.multiply(v);var x1v2=x1.multiply(v2);var zu2=u.square().multiply(this.z);var x3=zu2.subtract(x1v2.shiftLeft(1)).multiply(b.z).subtract(v3).multiply(v).mod(this.curve.p);var y3=x1v2.multiply(THREE).multiply(u).subtract(y1.multiply(v3)).subtract(zu2.multiply(u)).multiply(b.z).add(u.multiply(v3)).mod(this.curve.p);var z3=v3.multiply(this.z).multiply(b.z).mod(this.curve.p);return new Point(this.curve,x3,y3,z3)};Point.prototype.twice=function(){if(this.curve.isInfinity(this))return this;if(this.y.signum()===0)return this.curve.infinity;var x1=this.x;var y1=this.y;var y1z1=y1.multiply(this.z);var y1sqz1=y1z1.multiply(y1).mod(this.curve.p);var a=this.curve.a;var w=x1.square().multiply(THREE);if(a.signum()!==0){w=w.add(this.z.square().multiply(a))}w=w.mod(this.curve.p);var x3=w.square().subtract(x1.shiftLeft(3).multiply(y1sqz1)).shiftLeft(1).multiply(y1z1).mod(this.curve.p);var y3=w.multiply(THREE).multiply(x1).subtract(y1sqz1.shiftLeft(1)).shiftLeft(2).multiply(y1sqz1).subtract(w.pow(3)).mod(this.curve.p);var z3=y1z1.pow(3).shiftLeft(3).mod(this.curve.p);return new Point(this.curve,x3,y3,z3)};Point.prototype.multiply=function(k){if(this.curve.isInfinity(this))return this;if(k.signum()===0)return this.curve.infinity;var e=k;var h=e.multiply(THREE);var neg=this.negate();var R=this;for(var i=h.bitLength()-2;i>0;--i){R=R.twice();var hBit=h.testBit(i);var eBit=e.testBit(i);if(hBit!=eBit){R=R.add(hBit?this:neg)}}return R};Point.prototype.multiplyTwo=function(j,x,k){var i;if(j.bitLength()>k.bitLength())i=j.bitLength()-1;else i=k.bitLength()-1;var R=this.curve.infinity;var both=this.add(x);while(i>=0){R=R.twice();var jBit=j.testBit(i);var kBit=k.testBit(i);if(jBit){if(kBit){R=R.add(both)}else{R=R.add(this)}}else{if(kBit){R=R.add(x)}}--i}return R};Point.prototype.getEncoded=function(compressed){if(compressed==undefined)compressed=this.compressed;if(this.curve.isInfinity(this))return new Buffer("00","hex");var x=this.affineX;var y=this.affineY;var buffer;var byteLength=Math.floor((this.curve.p.bitLength()+7)/8);if(compressed){buffer=new Buffer(1+byteLength);buffer.writeUInt8(y.isEven()?2:3,0)}else{buffer=new Buffer(1+byteLength+byteLength);buffer.writeUInt8(4,0);y.toBuffer(byteLength).copy(buffer,1+byteLength)}x.toBuffer(byteLength).copy(buffer,1);return buffer};Point.decodeFrom=function(curve,buffer){var type=buffer.readUInt8(0);var compressed=type!==4;var x=BigInteger.fromBuffer(buffer.slice(1,33));var byteLength=Math.floor((curve.p.bitLength()+7)/8);var Q;if(compressed){assert.equal(buffer.length,byteLength+1,"Invalid sequence length");assert(type===2||type===3,"Invalid sequence tag");var isOdd=type===3;Q=curve.pointFromX(isOdd,x)}else{assert.equal(buffer.length,1+byteLength+byteLength,"Invalid sequence length");var y=BigInteger.fromBuffer(buffer.slice(1+byteLength));Q=Point.fromAffine(curve,x,y)}Q.compressed=compressed;return Q};Point.prototype.toString=function(){if(this.curve.isInfinity(this))return"(INFINITY)";return"("+this.affineX.toString()+","+this.affineY.toString()+")"};module.exports=Point}).call(this,_dereq_("buffer").Buffer)},{assert:76,bigi:3,buffer:80}],57:[function(_dereq_,module,exports){(function(process,Buffer){!function(globals){"use strict";if(typeof define!=="undefined"&&define.amd){define([],function(){return secureRandom})}else if(typeof module!=="undefined"&&module.exports){module.exports=secureRandom}else{globals.secureRandom=secureRandom}function secureRandom(count,options){options=options||{type:"Array"};if(typeof process!="undefined"&&typeof process.pid=="number"){return nodeRandom(count,options)}else{var crypto=window.crypto||window.msCrypto;if(!crypto)throw new Error("Your browser does not support window.crypto.");return browserRandom(count,options)}}function nodeRandom(count,options){var crypto=_dereq_("crypto");var buf=crypto.randomBytes(count);switch(options.type){case"Array":return[].slice.call(buf);case"Buffer":return buf;case"Uint8Array":var arr=new Uint8Array(count);for(var i=0;i<count;++i){arr[i]=buf.readUInt8(i)}return arr;default:throw new Error(options.type+" is unsupported.")}}function browserRandom(count,options){var nativeArr=new Uint8Array(count);var crypto=window.crypto||window.msCrypto;crypto.getRandomValues(nativeArr);switch(options.type){case"Array":return[].slice.call(nativeArr);case"Buffer":try{var b=new Buffer(1)}catch(e){throw new Error("Buffer not supported in this environment. Use Node.js or Browserify for browser support.")}return new Buffer(nativeArr);case"Uint8Array":return nativeArr;default:throw new Error(options.type+" is unsupported.")}}secureRandom.randomArray=function(byteCount){return secureRandom(byteCount,{type:"Array"})};secureRandom.randomUint8Array=function(byteCount){return secureRandom(byteCount,{type:"Uint8Array"})};secureRandom.randomBuffer=function(byteCount){return secureRandom(byteCount,{type:"Buffer"})}}(this)}).call(this,_dereq_("sycGbZ"),_dereq_("buffer").Buffer)},{buffer:80,crypto:79,sycGbZ:84}],58:[function(_dereq_,module,exports){(function(Buffer){var assert=_dereq_("assert");var base58check=_dereq_("./base58check");var networks=_dereq_("./networks");var scripts=_dereq_("./scripts");function findScriptTypeByVersion(version){for(var networkName in networks){var network=networks[networkName];if(version===network.pubKeyHash)return"pubkeyhash";if(version===network.scriptHash)return"scripthash"}}function Address(hash,version){assert(Buffer.isBuffer(hash),"Expected Buffer, got "+hash);assert.strictEqual(hash.length,20,"Invalid hash length");assert.strictEqual(version&255,version,"Invalid version byte");this.hash=hash;this.version=version}Address.fromBase58Check=function(string){var payload=base58check.decode(string);var version=payload.readUInt8(0);var hash=payload.slice(1);return new Address(hash,version)};Address.fromOutputScript=function(script,network){network=network||networks.bitcoin;var type=scripts.classifyOutput(script);if(type==="pubkeyhash")return new Address(script.chunks[2],network.pubKeyHash);if(type==="scripthash")return new Address(script.chunks[1],network.scriptHash);assert(false,type+" has no matching Address")};Address.prototype.toBase58Check=function(){var payload=new Buffer(21);payload.writeUInt8(this.version,0);this.hash.copy(payload,1);return base58check.encode(payload)};Address.prototype.toOutputScript=function(){var scriptType=findScriptTypeByVersion(this.version);if(scriptType==="pubkeyhash")return scripts.pubKeyHashOutput(this.hash);if(scriptType==="scripthash")return scripts.scriptHashOutput(this.hash);assert(false,this.toString()+" has no matching Script")};Address.prototype.toString=Address.prototype.toBase58Check;module.exports=Address}).call(this,_dereq_("buffer").Buffer)},{"./base58check":59,"./networks":70,"./scripts":73,assert:76,buffer:80}],59:[function(_dereq_,module,exports){(function(Buffer){var assert=_dereq_("assert");var base58=_dereq_("bs58");var crypto=_dereq_("./crypto");function encode(payload){var checksum=crypto.hash256(payload).slice(0,4);return base58.encode(Buffer.concat([payload,checksum]))}function decode(string){var buffer=base58.decode(string);var payload=buffer.slice(0,-4);var checksum=buffer.slice(-4);var newChecksum=crypto.hash256(payload).slice(0,4);assert.deepEqual(newChecksum,checksum,"Invalid checksum");return payload}module.exports={encode:encode,decode:decode}}).call(this,_dereq_("buffer").Buffer)},{"./crypto":62,assert:76,bs58:4,buffer:80}],60:[function(_dereq_,module,exports){var assert=_dereq_("assert");var opcodes=_dereq_("./opcodes");function verifuint(value,max){assert(typeof value==="number","cannot write a non-number as a number");assert(value>=0,"specified a negative value for writing an unsigned value");assert(value<=max,"value is larger than maximum value for type");assert(Math.floor(value)===value,"value has a fractional component")}function pushDataSize(i){return i<opcodes.OP_PUSHDATA1?1:i<255?2:i<65535?3:5}function readPushDataInt(buffer,offset){var opcode=buffer.readUInt8(offset);var number,size;if(opcode<opcodes.OP_PUSHDATA1){number=opcode;size=1}else if(opcode===opcodes.OP_PUSHDATA1){number=buffer.readUInt8(offset+1);size=2}else if(opcode===opcodes.OP_PUSHDATA2){number=buffer.readUInt16LE(offset+1);size=3}else{assert.equal(opcode,opcodes.OP_PUSHDATA4,"Unexpected opcode");number=buffer.readUInt32LE(offset+1);size=5}return{opcode:opcode,number:number,size:size}}function readUInt64LE(buffer,offset){var a=buffer.readUInt32LE(offset);var b=buffer.readUInt32LE(offset+4);b*=4294967296;verifuint(b+a,9007199254740991);return b+a}function readVarInt(buffer,offset){var t=buffer.readUInt8(offset);var number,size;if(t<253){number=t;size=1}else if(t<254){number=buffer.readUInt16LE(offset+1);size=3}else if(t<255){number=buffer.readUInt32LE(offset+1);size=5}else{number=readUInt64LE(buffer,offset+1);size=9}return{number:number,size:size}}function writePushDataInt(buffer,number,offset){var size=pushDataSize(number);if(size===1){buffer.writeUInt8(number,offset)}else if(size===2){buffer.writeUInt8(opcodes.OP_PUSHDATA1,offset);buffer.writeUInt8(number,offset+1)}else if(size===3){buffer.writeUInt8(opcodes.OP_PUSHDATA2,offset);buffer.writeUInt16LE(number,offset+1)}else{buffer.writeUInt8(opcodes.OP_PUSHDATA4,offset);buffer.writeUInt32LE(number,offset+1)}return size}function writeUInt64LE(buffer,value,offset){verifuint(value,9007199254740991);buffer.writeInt32LE(value&-1,offset);buffer.writeUInt32LE(Math.floor(value/4294967296),offset+4)}function varIntSize(i){return i<253?1:i<65536?3:i<4294967296?5:9}function writeVarInt(buffer,number,offset){var size=varIntSize(number);if(size===1){buffer.writeUInt8(number,offset)}else if(size===3){buffer.writeUInt8(253,offset);buffer.writeUInt16LE(number,offset+1)}else if(size===5){buffer.writeUInt8(254,offset);buffer.writeUInt32LE(number,offset+1)}else{buffer.writeUInt8(255,offset);writeUInt64LE(buffer,number,offset+1)}return size}module.exports={pushDataSize:pushDataSize,readPushDataInt:readPushDataInt,readUInt64LE:readUInt64LE,readVarInt:readVarInt,varIntSize:varIntSize,writePushDataInt:writePushDataInt,writeUInt64LE:writeUInt64LE,writeVarInt:writeVarInt}},{"./opcodes":71,assert:76}],61:[function(_dereq_,module,exports){(function(Buffer){var assert=_dereq_("assert");var Crypto=_dereq_("crypto-js");var WordArray=Crypto.lib.WordArray;function bufferToWordArray(buffer){assert(Buffer.isBuffer(buffer),"Expected Buffer, got",buffer);var words=[];for(var i=0,b=0;i<buffer.length;i++,b+=8){words[b>>>5]|=buffer[i]<<24-b%32}return new WordArray.init(words,buffer.length)}function wordArrayToBuffer(wordArray){assert(Array.isArray(wordArray.words),"Expected WordArray, got"+wordArray);var words=wordArray.words;var buffer=new Buffer(words.length*4);words.forEach(function(value,i){buffer.writeInt32BE(value&-1,i*4)});return buffer}module.exports={bufferToWordArray:bufferToWordArray,wordArrayToBuffer:wordArrayToBuffer}}).call(this,_dereq_("buffer").Buffer)},{assert:76,buffer:80,"crypto-js":26}],62:[function(_dereq_,module,exports){(function(Buffer){var assert=_dereq_("assert");var CryptoJS=_dereq_("crypto-js");var crypto=_dereq_("crypto");var convert=_dereq_("./convert");function hash160(buffer){return ripemd160(sha256(buffer))}function hash256(buffer){return sha256(sha256(buffer))}function ripemd160(buffer){return crypto.createHash("rmd160").update(buffer).digest()}function sha1(buffer){return crypto.createHash("sha1").update(buffer).digest()}function sha256(buffer){return crypto.createHash("sha256").update(buffer).digest()}function HmacSHA256(buffer,secret){return crypto.createHmac("sha256",secret).update(buffer).digest()}function HmacSHA512(data,secret){assert(Buffer.isBuffer(data),"Expected Buffer for data, got "+data);assert(Buffer.isBuffer(secret),"Expected Buffer for secret, got "+secret);var dataWords=convert.bufferToWordArray(data);var secretWords=convert.bufferToWordArray(secret);var hash=CryptoJS.HmacSHA512(dataWords,secretWords);return convert.wordArrayToBuffer(hash)}module.exports={ripemd160:ripemd160,sha1:sha1,sha256:sha256,hash160:hash160,hash256:hash256,HmacSHA256:HmacSHA256,HmacSHA512:HmacSHA512}}).call(this,_dereq_("buffer").Buffer)},{"./convert":61,assert:76,buffer:80,crypto:8,"crypto-js":26}],63:[function(_dereq_,module,exports){(function(Buffer){var assert=_dereq_("assert");var crypto=_dereq_("./crypto");var BigInteger=_dereq_("bigi");var ECSignature=_dereq_("./ecsignature");var Point=_dereq_("ecurve").Point;function deterministicGenerateK(curve,hash,d){assert(Buffer.isBuffer(hash),"Hash must be a Buffer, not "+hash);assert.equal(hash.length,32,"Hash must be 256 bit");assert(d instanceof BigInteger,"Private key must be a BigInteger");var x=d.toBuffer(32);var k=new Buffer(32);var v=new Buffer(32);v.fill(1);k.fill(0);k=crypto.HmacSHA256(Buffer.concat([v,new Buffer([0]),x,hash]),k);v=crypto.HmacSHA256(v,k);k=crypto.HmacSHA256(Buffer.concat([v,new Buffer([1]),x,hash]),k);v=crypto.HmacSHA256(v,k);v=crypto.HmacSHA256(v,k);var T=BigInteger.fromBuffer(v);while(T.signum()<=0||T.compareTo(curve.n)>=0){k=crypto.HmacSHA256(Buffer.concat([v,new Buffer([0])]),k);v=crypto.HmacSHA256(v,k);T=BigInteger.fromBuffer(v)}return T}function sign(curve,hash,d){var k=deterministicGenerateK(curve,hash,d);var n=curve.n;var G=curve.G;var Q=G.multiply(k);var e=BigInteger.fromBuffer(hash);var r=Q.affineX.mod(n);assert.notEqual(r.signum(),0,"Invalid R value");var s=k.modInverse(n).multiply(e.add(d.multiply(r))).mod(n);assert.notEqual(s.signum(),0,"Invalid S value");var N_OVER_TWO=n.shiftRight(1);if(s.compareTo(N_OVER_TWO)>0){s=n.subtract(s)}return new ECSignature(r,s)}function verify(curve,hash,signature,Q){var e=BigInteger.fromBuffer(hash);return verifyRaw(curve,e,signature,Q)}function verifyRaw(curve,e,signature,Q){var n=curve.n;var G=curve.G;var r=signature.r;var s=signature.s;if(r.signum()===0||r.compareTo(n)>=0)return false;if(s.signum()===0||s.compareTo(n)>=0)return false;var c=s.modInverse(n);var u1=e.multiply(c).mod(n);var u2=r.multiply(c).mod(n);var point=G.multiplyTwo(u1,Q,u2);var v=point.affineX.mod(n);return v.equals(r)}function recoverPubKey(curve,e,signature,i){assert.strictEqual(i&3,i,"Recovery param is more than two bits");var r=signature.r;var s=signature.s;var isYOdd=i&1;var isSecondKey=i>>1;var n=curve.n;var G=curve.G;var x=isSecondKey?r.add(n):r;var R=curve.pointFromX(isYOdd,x);var nR=R.multiply(n);assert(curve.isInfinity(nR),"nR is not a valid curve point");var eNeg=e.negate().mod(n);var rInv=r.modInverse(n);var Q=R.multiplyTwo(s,G,eNeg).multiply(rInv);curve.validate(Q);return Q}function calcPubKeyRecoveryParam(curve,e,signature,Q){for(var i=0;i<4;i++){var Qprime=recoverPubKey(curve,e,signature,i);if(Qprime.equals(Q)){return i}}throw new Error("Unable to find valid recovery factor")}module.exports={calcPubKeyRecoveryParam:calcPubKeyRecoveryParam,deterministicGenerateK:deterministicGenerateK,recoverPubKey:recoverPubKey,sign:sign,verify:verify,verifyRaw:verifyRaw}}).call(this,_dereq_("buffer").Buffer)},{"./crypto":62,"./ecsignature":66,assert:76,bigi:3,buffer:80,ecurve:54}],64:[function(_dereq_,module,exports){(function(Buffer){var assert=_dereq_("assert");var base58check=_dereq_("./base58check");var ecdsa=_dereq_("./ecdsa");var networks=_dereq_("./networks");var secureRandom=_dereq_("secure-random");var BigInteger=_dereq_("bigi");var ECPubKey=_dereq_("./ecpubkey");var ecurve=_dereq_("ecurve");var curve=ecurve.getCurveByName("secp256k1");function ECKey(d,compressed){assert(d.signum()>0,"Private key must be greater than 0");assert(d.compareTo(curve.n)<0,"Private key must be less than the curve order");var Q=curve.G.multiply(d);this.d=d;this.pub=new ECPubKey(Q,compressed)}ECKey.fromWIF=function(string){var payload=base58check.decode(string);var compressed=false;payload=payload.slice(1);if(payload.length===33){assert.strictEqual(payload[32],1,"Invalid compression flag");payload=payload.slice(0,-1);compressed=true}assert.equal(payload.length,32,"Invalid WIF payload length");var d=BigInteger.fromBuffer(payload);return new ECKey(d,compressed)};ECKey.makeRandom=function(compressed,rng){rng=rng||secureRandom.randomBuffer;var buffer=rng(32);assert(Buffer.isBuffer(buffer),"Expected Buffer, got "+buffer);var d=BigInteger.fromBuffer(buffer);d=d.mod(curve.n);return new ECKey(d,compressed)};ECKey.prototype.toWIF=function(network){network=network||networks.bitcoin;var bufferLen=this.pub.compressed?34:33;var buffer=new Buffer(bufferLen);buffer.writeUInt8(network.wif,0);this.d.toBuffer(32).copy(buffer,1);if(this.pub.compressed){buffer.writeUInt8(1,33)}return base58check.encode(buffer)};ECKey.prototype.sign=function(hash){return ecdsa.sign(curve,hash,this.d)};module.exports=ECKey}).call(this,_dereq_("buffer").Buffer)},{"./base58check":59,"./ecdsa":63,"./ecpubkey":65,"./networks":70,assert:76,bigi:3,buffer:80,ecurve:54,"secure-random":57}],65:[function(_dereq_,module,exports){(function(Buffer){var assert=_dereq_("assert");var crypto=_dereq_("./crypto");var ecdsa=_dereq_("./ecdsa");var networks=_dereq_("./networks");var Address=_dereq_("./address");var ecurve=_dereq_("ecurve");var curve=ecurve.getCurveByName("secp256k1");function ECPubKey(Q,compressed){assert(Q instanceof ecurve.Point,"Expected Point, got "+Q);if(compressed==undefined)compressed=true;assert.strictEqual(typeof compressed,"boolean","Expected boolean, got "+compressed);this.compressed=compressed;this.Q=Q}ECPubKey.fromBuffer=function(buffer){var Q=ecurve.Point.decodeFrom(curve,buffer);return new ECPubKey(Q,Q.compressed)};ECPubKey.fromHex=function(hex){return ECPubKey.fromBuffer(new Buffer(hex,"hex"))};ECPubKey.prototype.getAddress=function(network){network=network||networks.bitcoin;return new Address(crypto.hash160(this.toBuffer()),network.pubKeyHash)};ECPubKey.prototype.verify=function(hash,signature){return ecdsa.verify(curve,hash,signature,this.Q)};ECPubKey.prototype.toBuffer=function(){return this.Q.getEncoded(this.compressed)};ECPubKey.prototype.toHex=function(){return this.toBuffer().toString("hex")};module.exports=ECPubKey}).call(this,_dereq_("buffer").Buffer)},{"./address":58,"./crypto":62,"./ecdsa":63,"./networks":70,assert:76,buffer:80,ecurve:54}],66:[function(_dereq_,module,exports){(function(Buffer){var assert=_dereq_("assert");var BigInteger=_dereq_("bigi");function ECSignature(r,s){assert(r instanceof BigInteger,"Expected BigInteger, got "+r);assert(s instanceof BigInteger,"Expected BigInteger, got "+s);this.r=r;this.s=s}ECSignature.parseCompact=function(buffer){assert.equal(buffer.length,65,"Invalid signature length");var i=buffer.readUInt8(0)-27;assert.equal(i,i&7,"Invalid signature parameter");var compressed=!!(i&4);i=i&3;var r=BigInteger.fromBuffer(buffer.slice(1,33));var s=BigInteger.fromBuffer(buffer.slice(33));return{compressed:compressed,i:i,signature:new ECSignature(r,s)}};ECSignature.fromDER=function(buffer){assert.equal(buffer.readUInt8(0),48,"Not a DER sequence");assert.equal(buffer.readUInt8(1),buffer.length-2,"Invalid sequence length");assert.equal(buffer.readUInt8(2),2,"Expected a DER integer");var rLen=buffer.readUInt8(3);assert(rLen>0,"R length is zero");var offset=4+rLen;assert.equal(buffer.readUInt8(offset),2,"Expected a DER integer (2)");var sLen=buffer.readUInt8(offset+1);assert(sLen>0,"S length is zero");var rB=buffer.slice(4,offset);var sB=buffer.slice(offset+2);offset+=2+sLen;if(rLen>1&&rB.readUInt8(0)===0){assert(rB.readUInt8(1)&128,"R value excessively padded")}if(sLen>1&&sB.readUInt8(0)===0){assert(sB.readUInt8(1)&128,"S value excessively padded")}assert.equal(offset,buffer.length,"Invalid DER encoding");var r=BigInteger.fromDERInteger(rB);var s=BigInteger.fromDERInteger(sB);assert(r.signum()>=0,"R value is negative");assert(s.signum()>=0,"S value is negative");return new ECSignature(r,s)};ECSignature.parseScriptSignature=function(buffer){var hashType=buffer.readUInt8(buffer.length-1);var hashTypeMod=hashType&~128;assert(hashTypeMod>0&&hashTypeMod<4,"Invalid hashType");return{signature:ECSignature.fromDER(buffer.slice(0,-1)),hashType:hashType}};ECSignature.prototype.toCompact=function(i,compressed){if(compressed)i+=4;i+=27;var buffer=new Buffer(65);buffer.writeUInt8(i,0);this.r.toBuffer(32).copy(buffer,1);this.s.toBuffer(32).copy(buffer,33);return buffer};ECSignature.prototype.toDER=function(){var rBa=this.r.toDERInteger();var sBa=this.s.toDERInteger();var sequence=[];sequence.push(2);sequence.push(rBa.length);sequence=sequence.concat(rBa);sequence.push(2);sequence.push(sBa.length);sequence=sequence.concat(sBa);sequence.unshift(sequence.length);sequence.unshift(48);return new Buffer(sequence)};ECSignature.prototype.toScriptSignature=function(hashType){var hashTypeBuffer=new Buffer(1);hashTypeBuffer.writeUInt8(hashType,0);return Buffer.concat([this.toDER(),hashTypeBuffer])};module.exports=ECSignature}).call(this,_dereq_("buffer").Buffer)},{assert:76,bigi:3,buffer:80}],67:[function(_dereq_,module,exports){(function(Buffer){var assert=_dereq_("assert");var base58check=_dereq_("./base58check");var crypto=_dereq_("./crypto");var networks=_dereq_("./networks");var BigInteger=_dereq_("bigi");var ECKey=_dereq_("./eckey");var ECPubKey=_dereq_("./ecpubkey");var ecurve=_dereq_("ecurve");var curve=ecurve.getCurveByName("secp256k1");function findBIP32ParamsByVersion(version){for(var name in networks){var network=networks[name];for(var type in network.bip32){if(version!=network.bip32[type])continue;return{isPrivate:type==="private",network:network}}}assert(false,"Could not find version "+version.toString(16))}function HDNode(K,chainCode,network){network=network||networks.bitcoin;assert(Buffer.isBuffer(chainCode),"Expected Buffer, got "+chainCode);assert(network.bip32,"Unknown BIP32 constants for network");this.chainCode=chainCode;this.depth=0;this.index=0;this.network=network;if(K instanceof BigInteger){this.privKey=new ECKey(K,true);this.pubKey=this.privKey.pub}else{this.pubKey=new ECPubKey(K,true)}}HDNode.MASTER_SECRET=new Buffer("Bitcoin seed");HDNode.HIGHEST_BIT=2147483648;HDNode.LENGTH=78;HDNode.fromSeedBuffer=function(seed,network){var I=crypto.HmacSHA512(seed,HDNode.MASTER_SECRET);var IL=I.slice(0,32);var IR=I.slice(32);var pIL=BigInteger.fromBuffer(IL);return new HDNode(pIL,IR,network)};HDNode.fromSeedHex=function(hex,network){return HDNode.fromSeedBuffer(new Buffer(hex,"hex"),network)};HDNode.fromBase58=function(string){return HDNode.fromBuffer(base58check.decode(string))};HDNode.fromBuffer=function(buffer){assert.strictEqual(buffer.length,HDNode.LENGTH,"Invalid buffer length");var version=buffer.readUInt32BE(0);var params=findBIP32ParamsByVersion(version);var depth=buffer.readUInt8(4);var parentFingerprint=buffer.readUInt32BE(5);if(depth===0){assert.strictEqual(parentFingerprint,0,"Invalid parent fingerprint")}var index=buffer.readUInt32BE(9);assert(depth>0||index===0,"Invalid index");var chainCode=buffer.slice(13,45);var hd;if(params.isPrivate){assert.strictEqual(buffer.readUInt8(45),0,"Invalid private key");var data=buffer.slice(46,78);var d=BigInteger.fromBuffer(data);hd=new HDNode(d,chainCode,params.network)}else{var data=buffer.slice(45,78);var Q=ecurve.Point.decodeFrom(curve,data);assert.equal(Q.compressed,true,"Invalid public key");curve.validate(Q);hd=new HDNode(Q,chainCode,params.network)}hd.depth=depth;hd.index=index;hd.parentFingerprint=parentFingerprint;return hd};HDNode.fromHex=function(hex){return HDNode.fromBuffer(new Buffer(hex,"hex"))};HDNode.prototype.getIdentifier=function(){return crypto.hash160(this.pubKey.toBuffer())};HDNode.prototype.getFingerprint=function(){return this.getIdentifier().slice(0,4)};HDNode.prototype.getAddress=function(){return this.pubKey.getAddress(this.network)};HDNode.prototype.toBase58=function(isPrivate){return base58check.encode(this.toBuffer(isPrivate))};HDNode.prototype.toBuffer=function(isPrivate){if(isPrivate==undefined)isPrivate=!!this.privKey;var version=isPrivate?this.network.bip32.private:this.network.bip32.public;var buffer=new Buffer(HDNode.LENGTH);buffer.writeUInt32BE(version,0);buffer.writeUInt8(this.depth,4);var fingerprint=this.depth===0?0:this.parentFingerprint;buffer.writeUInt32BE(fingerprint,5);buffer.writeUInt32BE(this.index,9);this.chainCode.copy(buffer,13);if(isPrivate){assert(this.privKey,"Missing private key");buffer.writeUInt8(0,45);this.privKey.d.toBuffer(32).copy(buffer,46)}else{this.pubKey.toBuffer().copy(buffer,45)}return buffer};HDNode.prototype.toHex=function(isPrivate){return this.toBuffer(isPrivate).toString("hex")};HDNode.prototype.derive=function(index){var isHardened=index>=HDNode.HIGHEST_BIT;var indexBuffer=new Buffer(4);indexBuffer.writeUInt32BE(index,0);var data;if(isHardened){assert(this.privKey,"Could not derive hardened child key");data=Buffer.concat([this.privKey.d.toBuffer(33),indexBuffer])}else{data=Buffer.concat([this.pubKey.toBuffer(),indexBuffer])}var I=crypto.HmacSHA512(data,this.chainCode);var IL=I.slice(0,32);var IR=I.slice(32);var pIL=BigInteger.fromBuffer(IL);if(pIL.compareTo(curve.n)>=0){return this.derive(index+1)}var hd;if(this.privKey){var ki=pIL.add(this.privKey.d).mod(curve.n);if(ki.signum()===0){return this.derive(index+1)}hd=new HDNode(ki,IR,this.network)}else{var Ki=curve.G.multiply(pIL).add(this.pubKey.Q);if(curve.isInfinity(Ki)){return this.derive(index+1)}hd=new HDNode(Ki,IR,this.network)}hd.depth=this.depth+1;hd.index=index;hd.parentFingerprint=this.getFingerprint().readUInt32BE(0);return hd};HDNode.prototype.deriveHardened=function(index){return this.derive(index+HDNode.HIGHEST_BIT)};HDNode.prototype.toString=HDNode.prototype.toBase58;module.exports=HDNode}).call(this,_dereq_("buffer").Buffer)},{"./base58check":59,"./crypto":62,"./eckey":64,"./ecpubkey":65,"./networks":70,assert:76,bigi:3,buffer:80,ecurve:54}],68:[function(_dereq_,module,exports){module.exports={Address:_dereq_("./address"),base58check:_dereq_("./base58check"),bufferutils:_dereq_("./bufferutils"),convert:_dereq_("./convert"),crypto:_dereq_("./crypto"),ecdsa:_dereq_("./ecdsa"),ECKey:_dereq_("./eckey"),ECPubKey:_dereq_("./ecpubkey"),ECSignature:_dereq_("./ecsignature"),Message:_dereq_("./message"),opcodes:_dereq_("./opcodes"),HDNode:_dereq_("./hdnode"),Script:_dereq_("./script"),scripts:_dereq_("./scripts"),Transaction:_dereq_("./transaction"),networks:_dereq_("./networks"),Wallet:_dereq_("./wallet")}},{"./address":58,"./base58check":59,"./bufferutils":60,"./convert":61,"./crypto":62,"./ecdsa":63,"./eckey":64,"./ecpubkey":65,"./ecsignature":66,"./hdnode":67,"./message":69,"./networks":70,"./opcodes":71,"./script":72,"./scripts":73,"./transaction":74,"./wallet":75}],69:[function(_dereq_,module,exports){(function(Buffer){var Address=_dereq_("./address");var BigInteger=_dereq_("bigi");var bufferutils=_dereq_("./bufferutils");var crypto=_dereq_("./crypto");var ecdsa=_dereq_("./ecdsa");var networks=_dereq_("./networks");var Address=_dereq_("./address");var ECPubKey=_dereq_("./ecpubkey");var ECSignature=_dereq_("./ecsignature");var ecurve=_dereq_("ecurve");var ecparams=ecurve.getCurveByName("secp256k1");function magicHash(message,network){var magicPrefix=new Buffer(network.magicPrefix);var messageBuffer=new Buffer(message);var lengthBuffer=new Buffer(bufferutils.varIntSize(messageBuffer.length));bufferutils.writeVarInt(lengthBuffer,messageBuffer.length,0);var buffer=Buffer.concat([magicPrefix,lengthBuffer,messageBuffer]);return crypto.hash256(buffer)}function sign(privKey,message,network){network=network||networks.bitcoin;var hash=magicHash(message,network);var signature=privKey.sign(hash);var e=BigInteger.fromBuffer(hash);var i=ecdsa.calcPubKeyRecoveryParam(ecparams,e,signature,privKey.pub.Q);return signature.toCompact(i,privKey.pub.compressed)}function verify(address,signatureBuffer,message,network){if(address instanceof Address){address=address.toString()}network=network||networks.bitcoin;var hash=magicHash(message,network);var parsed=ECSignature.parseCompact(signatureBuffer);var e=BigInteger.fromBuffer(hash);var Q=ecdsa.recoverPubKey(ecparams,e,parsed.signature,parsed.i);var pubKey=new ECPubKey(Q,parsed.compressed);return pubKey.getAddress(network).toString()===address}module.exports={magicHash:magicHash,sign:sign,verify:verify}}).call(this,_dereq_("buffer").Buffer)},{"./address":58,"./bufferutils":60,"./crypto":62,"./ecdsa":63,"./ecpubkey":65,"./ecsignature":66,"./networks":70,bigi:3,buffer:80,ecurve:54}],70:[function(_dereq_,module,exports){var networks={bitcoin:{magicPrefix:"Bitcoin Signed Message:\n",bip32:{"public":76067358,"private":76066276},pubKeyHash:0,scriptHash:5,wif:128,dustThreshold:546,feePerKb:1e4,estimateFee:estimateFee("bitcoin")},dogecoin:{magicPrefix:"Dogecoin Signed Message:\n",bip32:{"public":49990397,"private":49988504},pubKeyHash:30,scriptHash:22,wif:158,dustThreshold:0,dustSoftThreshold:1e8,feePerKb:1e8,estimateFee:estimateFee("dogecoin")},litecoin:{magicPrefix:"Litecoin Signed Message:\n",bip32:{"public":27108450,"private":27106558},pubKeyHash:48,scriptHash:5,wif:176,dustThreshold:0,dustSoftThreshold:1e5,feePerKb:1e5,estimateFee:estimateFee("litecoin")},testnet:{magicPrefix:"Bitcoin Signed Message:\n",bip32:{"public":70617039,"private":70615956},pubKeyHash:111,scriptHash:196,wif:239,dustThreshold:546,feePerKb:1e4,estimateFee:estimateFee("testnet")}};function estimateFee(type){return function(tx){var network=networks[type];var baseFee=network.feePerKb;var byteSize=tx.toBuffer().length;var fee=baseFee*Math.ceil(byteSize/1e3);if(network.dustSoftThreshold==undefined)return fee;tx.outs.forEach(function(e){if(e.value<network.dustSoftThreshold){fee+=baseFee}});return fee}}module.exports=networks},{}],71:[function(_dereq_,module,exports){module.exports={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_1:81,OP_TRUE:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_NOP3:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255}
},{}],72:[function(_dereq_,module,exports){(function(Buffer){var assert=_dereq_("assert");var bufferutils=_dereq_("./bufferutils");var crypto=_dereq_("./crypto");var opcodes=_dereq_("./opcodes");function Script(buffer,chunks){assert(Buffer.isBuffer(buffer),"Expected Buffer, got "+buffer);assert(Array.isArray(chunks),"Expected Array, got "+chunks);this.buffer=buffer;this.chunks=chunks}Script.fromASM=function(asm){var strChunks=asm.split(" ");var chunks=strChunks.map(function(strChunk){if(strChunk in opcodes){return opcodes[strChunk]}else{return new Buffer(strChunk,"hex")}});return Script.fromChunks(chunks)};Script.fromBuffer=function(buffer){var chunks=[];var i=0;while(i<buffer.length){var opcode=buffer.readUInt8(i);if(opcode>opcodes.OP_0&&opcode<=opcodes.OP_PUSHDATA4){var d=bufferutils.readPushDataInt(buffer,i);i+=d.size;var data=buffer.slice(i,i+d.number);i+=d.number;chunks.push(data)}else{chunks.push(opcode);i+=1}}return new Script(buffer,chunks)};Script.fromChunks=function(chunks){assert(Array.isArray(chunks),"Expected Array, got "+chunks);var bufferSize=chunks.reduce(function(accum,chunk){if(Buffer.isBuffer(chunk)){return accum+bufferutils.pushDataSize(chunk.length)+chunk.length}return accum+1},0);var buffer=new Buffer(bufferSize);var offset=0;chunks.forEach(function(chunk){if(Buffer.isBuffer(chunk)){offset+=bufferutils.writePushDataInt(buffer,chunk.length,offset);chunk.copy(buffer,offset);offset+=chunk.length}else{buffer.writeUInt8(chunk,offset);offset+=1}});assert.equal(offset,buffer.length,"Could not decode chunks");return new Script(buffer,chunks)};Script.fromHex=function(hex){return Script.fromBuffer(new Buffer(hex,"hex"))};Script.EMPTY=Script.fromChunks([]);Script.prototype.getHash=function(){return crypto.hash160(this.buffer)};Script.prototype.without=function(needle){return Script.fromChunks(this.chunks.filter(function(op){return op!==needle}))};var reverseOps=[];for(var op in opcodes){var code=opcodes[op];reverseOps[code]=op}Script.prototype.toASM=function(){return this.chunks.map(function(chunk){if(Buffer.isBuffer(chunk)){return chunk.toString("hex")}else{return reverseOps[chunk]}}).join(" ")};Script.prototype.toBuffer=function(){return this.buffer};Script.prototype.toHex=function(){return this.toBuffer().toString("hex")};module.exports=Script}).call(this,_dereq_("buffer").Buffer)},{"./bufferutils":60,"./crypto":62,"./opcodes":71,assert:76,buffer:80}],73:[function(_dereq_,module,exports){(function(Buffer){var assert=_dereq_("assert");var opcodes=_dereq_("./opcodes");var ecurve=_dereq_("ecurve");var curve=ecurve.getCurveByName("secp256k1");var ECSignature=_dereq_("./ecsignature");var Script=_dereq_("./script");function classifyOutput(script){assert(script instanceof Script,"Expected Script, got ",script);if(isPubKeyHashOutput.call(script)){return"pubkeyhash"}else if(isScriptHashOutput.call(script)){return"scripthash"}else if(isMultisigOutput.call(script)){return"multisig"}else if(isPubKeyOutput.call(script)){return"pubkey"}else if(isNulldataOutput.call(script)){return"nulldata"}else{return"nonstandard"}}function classifyInput(script){assert(script instanceof Script,"Expected Script, got ",script);if(isPubKeyHashInput.call(script)){return"pubkeyhash"}else if(isScriptHashInput.call(script)){return"scripthash"}else if(isMultisigInput.call(script)){return"multisig"}else if(isPubKeyInput.call(script)){return"pubkey"}else{return"nonstandard"}}function isCanonicalPubKey(buffer){if(!Buffer.isBuffer(buffer))return false;try{ecurve.Point.decodeFrom(curve,buffer)}catch(e){if(!e.message.match(/Invalid sequence (length|tag)/))throw e;return false}return true}function isCanonicalSignature(buffer){if(!Buffer.isBuffer(buffer))return false;try{ECSignature.parseScriptSignature(buffer)}catch(e){if(!e.message.match(/Not a DER sequence|Invalid sequence length|Expected a DER integer|R length is zero|S length is zero|R value excessively padded|S value excessively padded|R value is negative|S value is negative|Invalid hashType/))throw e;return false}return true}function isPubKeyHashInput(){return this.chunks.length===2&&isCanonicalSignature(this.chunks[0])&&isCanonicalPubKey(this.chunks[1])}function isPubKeyHashOutput(){return this.chunks.length===5&&this.chunks[0]===opcodes.OP_DUP&&this.chunks[1]===opcodes.OP_HASH160&&Buffer.isBuffer(this.chunks[2])&&this.chunks[2].length===20&&this.chunks[3]===opcodes.OP_EQUALVERIFY&&this.chunks[4]===opcodes.OP_CHECKSIG}function isPubKeyInput(){return this.chunks.length===1&&isCanonicalSignature(this.chunks[0])}function isPubKeyOutput(){return this.chunks.length===2&&isCanonicalPubKey(this.chunks[0])&&this.chunks[1]===opcodes.OP_CHECKSIG}function isScriptHashInput(){if(this.chunks.length<2)return false;var lastChunk=this.chunks[this.chunks.length-1];if(!Buffer.isBuffer(lastChunk))return false;var scriptSig=Script.fromChunks(this.chunks.slice(0,-1));var scriptPubKey=Script.fromBuffer(lastChunk);return classifyInput(scriptSig)===classifyOutput(scriptPubKey)}function isScriptHashOutput(){return this.chunks.length===3&&this.chunks[0]===opcodes.OP_HASH160&&Buffer.isBuffer(this.chunks[1])&&this.chunks[1].length===20&&this.chunks[2]===opcodes.OP_EQUAL}function isMultisigInput(){return this.chunks[0]===opcodes.OP_0&&this.chunks.slice(1).every(isCanonicalSignature)}function isMultisigOutput(){if(this.chunks<4)return false;if(this.chunks[this.chunks.length-1]!==opcodes.OP_CHECKMULTISIG)return false;var mOp=this.chunks[0];if(mOp===opcodes.OP_0)return false;if(mOp<opcodes.OP_1)return false;if(mOp>opcodes.OP_16)return false;var nOp=this.chunks[this.chunks.length-2];if(nOp===opcodes.OP_0)return false;if(nOp<opcodes.OP_1)return false;if(nOp>opcodes.OP_16)return false;var m=mOp-(opcodes.OP_1-1);var n=nOp-(opcodes.OP_1-1);if(n<m)return false;var pubKeys=this.chunks.slice(1,-2);if(n<pubKeys.length)return false;return pubKeys.every(isCanonicalPubKey)}function isNulldataOutput(){return this.chunks[0]===opcodes.OP_RETURN}function pubKeyOutput(pubKey){return Script.fromChunks([pubKey.toBuffer(),opcodes.OP_CHECKSIG])}function pubKeyHashOutput(hash){assert(Buffer.isBuffer(hash),"Expected Buffer, got "+hash);return Script.fromChunks([opcodes.OP_DUP,opcodes.OP_HASH160,hash,opcodes.OP_EQUALVERIFY,opcodes.OP_CHECKSIG])}function scriptHashOutput(hash){assert(Buffer.isBuffer(hash),"Expected Buffer, got "+hash);return Script.fromChunks([opcodes.OP_HASH160,hash,opcodes.OP_EQUAL])}function multisigOutput(m,pubKeys){assert(Array.isArray(pubKeys),"Expected Array, got "+pubKeys);assert(pubKeys.length>=m,"Not enough pubKeys provided");var pubKeyBuffers=pubKeys.map(function(pubKey){return pubKey.toBuffer()});var n=pubKeys.length;return Script.fromChunks([].concat(opcodes.OP_1-1+m,pubKeyBuffers,opcodes.OP_1-1+n,opcodes.OP_CHECKMULTISIG))}function pubKeyInput(signature){assert(Buffer.isBuffer(signature),"Expected Buffer, got "+signature);return Script.fromChunks([signature])}function pubKeyHashInput(signature,pubKey){assert(Buffer.isBuffer(signature),"Expected Buffer, got "+signature);return Script.fromChunks([signature,pubKey.toBuffer()])}function scriptHashInput(scriptSig,scriptPubKey){return Script.fromChunks([].concat(scriptSig.chunks,scriptPubKey.toBuffer()))}function multisigInput(signatures,scriptPubKey){if(scriptPubKey){assert(isMultisigOutput.call(scriptPubKey));var m=scriptPubKey.chunks[0];var k=m-(opcodes.OP_1-1);assert(k<=signatures.length,"Not enough signatures provided")}return Script.fromChunks([].concat(opcodes.OP_0,signatures))}module.exports={classifyInput:classifyInput,classifyOutput:classifyOutput,multisigInput:multisigInput,multisigOutput:multisigOutput,pubKeyHashInput:pubKeyHashInput,pubKeyHashOutput:pubKeyHashOutput,pubKeyInput:pubKeyInput,pubKeyOutput:pubKeyOutput,scriptHashInput:scriptHashInput,scriptHashOutput:scriptHashOutput}}).call(this,_dereq_("buffer").Buffer)},{"./ecsignature":66,"./opcodes":71,"./script":72,assert:76,buffer:80,ecurve:54}],74:[function(_dereq_,module,exports){(function(Buffer){var assert=_dereq_("assert");var bufferutils=_dereq_("./bufferutils");var crypto=_dereq_("./crypto");var opcodes=_dereq_("./opcodes");var scripts=_dereq_("./scripts");var Address=_dereq_("./address");var ECKey=_dereq_("./eckey");var ECSignature=_dereq_("./ecsignature");var Script=_dereq_("./script");Transaction.DEFAULT_SEQUENCE=4294967295;Transaction.SIGHASH_ALL=1;Transaction.SIGHASH_NONE=2;Transaction.SIGHASH_SINGLE=3;Transaction.SIGHASH_ANYONECANPAY=128;function Transaction(){this.version=1;this.locktime=0;this.ins=[];this.outs=[]}Transaction.prototype.addInput=function(tx,index,sequence){if(sequence==undefined)sequence=Transaction.DEFAULT_SEQUENCE;var hash;if(typeof tx==="string"){hash=new Buffer(tx,"hex");Array.prototype.reverse.call(hash)}else if(tx instanceof Transaction){hash=tx.getHash()}else{hash=tx}assert(Buffer.isBuffer(hash),"Expected Transaction, txId or txHash, got "+tx);assert.equal(hash.length,32,"Expected hash length of 32, got "+hash.length);assert.equal(typeof index,"number","Expected number index, got "+index);return this.ins.push({hash:hash,index:index,script:Script.EMPTY,sequence:sequence})-1};Transaction.prototype.addOutput=function(scriptPubKey,value){if(typeof scriptPubKey==="string"){scriptPubKey=Address.fromBase58Check(scriptPubKey)}if(scriptPubKey instanceof Address){var address=scriptPubKey;scriptPubKey=address.toOutputScript()}return this.outs.push({script:scriptPubKey,value:value})-1};Transaction.prototype.toBuffer=function(){var txInSize=this.ins.reduce(function(a,x){return a+(40+bufferutils.varIntSize(x.script.buffer.length)+x.script.buffer.length)},0);var txOutSize=this.outs.reduce(function(a,x){return a+(8+bufferutils.varIntSize(x.script.buffer.length)+x.script.buffer.length)},0);var buffer=new Buffer(8+bufferutils.varIntSize(this.ins.length)+bufferutils.varIntSize(this.outs.length)+txInSize+txOutSize);var offset=0;function writeSlice(slice){slice.copy(buffer,offset);offset+=slice.length}function writeUInt32(i){buffer.writeUInt32LE(i,offset);offset+=4}function writeUInt64(i){bufferutils.writeUInt64LE(buffer,i,offset);offset+=8}function writeVarInt(i){var n=bufferutils.writeVarInt(buffer,i,offset);offset+=n}writeUInt32(this.version);writeVarInt(this.ins.length);this.ins.forEach(function(txin){writeSlice(txin.hash);writeUInt32(txin.index);writeVarInt(txin.script.buffer.length);writeSlice(txin.script.buffer);writeUInt32(txin.sequence)});writeVarInt(this.outs.length);this.outs.forEach(function(txout){writeUInt64(txout.value);writeVarInt(txout.script.buffer.length);writeSlice(txout.script.buffer)});writeUInt32(this.locktime);return buffer};Transaction.prototype.toHex=function(){return this.toBuffer().toString("hex")};Transaction.prototype.hashForSignature=function(prevOutScript,inIndex,hashType){assert(inIndex>=0,"Invalid vin index");assert(inIndex<this.ins.length,"Invalid vin index");assert(prevOutScript instanceof Script,"Invalid Script object");var txTmp=this.clone();var hashScript=prevOutScript.without(opcodes.OP_CODESEPARATOR);txTmp.ins.forEach(function(txin){txin.script=Script.EMPTY});txTmp.ins[inIndex].script=hashScript;var hashTypeModifier=hashType&31;if(hashTypeModifier===Transaction.SIGHASH_NONE){assert(false,"SIGHASH_NONE not yet supported")}else if(hashTypeModifier===Transaction.SIGHASH_SINGLE){assert(false,"SIGHASH_SINGLE not yet supported")}if(hashType&Transaction.SIGHASH_ANYONECANPAY){assert(false,"SIGHASH_ANYONECANPAY not yet supported")}var hashTypeBuffer=new Buffer(4);hashTypeBuffer.writeInt32LE(hashType,0);var buffer=Buffer.concat([txTmp.toBuffer(),hashTypeBuffer]);return crypto.hash256(buffer)};Transaction.prototype.getHash=function(){return crypto.hash256(this.toBuffer())};Transaction.prototype.getId=function(){var buffer=this.getHash();Array.prototype.reverse.call(buffer);return buffer.toString("hex")};Transaction.prototype.clone=function(){var newTx=new Transaction;newTx.version=this.version;newTx.locktime=this.locktime;newTx.ins=this.ins.map(function(txin){return{hash:txin.hash,index:txin.index,script:txin.script,sequence:txin.sequence}});newTx.outs=this.outs.map(function(txout){return{script:txout.script,value:txout.value}});return newTx};Transaction.fromBuffer=function(buffer){var offset=0;function readSlice(n){offset+=n;return buffer.slice(offset-n,offset)}function readUInt32(){var i=buffer.readUInt32LE(offset);offset+=4;return i}function readUInt64(){var i=bufferutils.readUInt64LE(buffer,offset);offset+=8;return i}function readVarInt(){var vi=bufferutils.readVarInt(buffer,offset);offset+=vi.size;return vi.number}var tx=new Transaction;tx.version=readUInt32();var vinLen=readVarInt();for(var i=0;i<vinLen;++i){var hash=readSlice(32);var vout=readUInt32();var scriptLen=readVarInt();var script=readSlice(scriptLen);var sequence=readUInt32();tx.ins.push({hash:hash,index:vout,script:Script.fromBuffer(script),sequence:sequence})}var voutLen=readVarInt();for(i=0;i<voutLen;++i){var value=readUInt64();var scriptLen=readVarInt();var script=readSlice(scriptLen);tx.outs.push({value:value,script:Script.fromBuffer(script)})}tx.locktime=readUInt32();assert.equal(offset,buffer.length,"Transaction has unexpected data");return tx};Transaction.fromHex=function(hex){return Transaction.fromBuffer(new Buffer(hex,"hex"))};Transaction.prototype.sign=function(index,privKey,hashType){var prevOutScript=privKey.pub.getAddress().toOutputScript();var signature=this.signInput(index,prevOutScript,privKey,hashType);var scriptSig=scripts.pubKeyHashInput(signature,privKey.pub);this.setInputScript(index,scriptSig)};Transaction.prototype.signInput=function(index,prevOutScript,privKey,hashType){hashType=hashType||Transaction.SIGHASH_ALL;var hash=this.hashForSignature(prevOutScript,index,hashType);var signature=privKey.sign(hash);return signature.toScriptSignature(hashType)};Transaction.prototype.setInputScript=function(index,script){this.ins[index].script=script};Transaction.prototype.validateInput=function(index,prevOutScript,pubKey,buffer){var parsed=ECSignature.parseScriptSignature(buffer);var hash=this.hashForSignature(prevOutScript,index,parsed.hashType);return pubKey.verify(hash,parsed.signature)};module.exports=Transaction}).call(this,_dereq_("buffer").Buffer)},{"./address":58,"./bufferutils":60,"./crypto":62,"./eckey":64,"./ecsignature":66,"./opcodes":71,"./script":72,"./scripts":73,assert:76,buffer:80}],75:[function(_dereq_,module,exports){(function(Buffer){var assert=_dereq_("assert");var networks=_dereq_("./networks");var rng=_dereq_("secure-random");var Address=_dereq_("./address");var HDNode=_dereq_("./hdnode");var Transaction=_dereq_("./transaction");function Wallet(seed,network){network=network||networks.bitcoin;var masterkey=null;var me=this;var accountZero=null;var internalAccount=null;var externalAccount=null;this.addresses=[];this.changeAddresses=[];this.outputs={};this.newMasterKey=function(seed){seed=seed||new Buffer(rng(32));masterkey=HDNode.fromSeedBuffer(seed,network);accountZero=masterkey.deriveHardened(0);externalAccount=accountZero.derive(0);internalAccount=accountZero.derive(1);me.addresses=[];me.changeAddresses=[];me.outputs={}};this.newMasterKey(seed);this.generateAddress=function(){var key=externalAccount.derive(this.addresses.length);this.addresses.push(key.getAddress().toString());return this.addresses[this.addresses.length-1]};this.generateChangeAddress=function(){var key=internalAccount.derive(this.changeAddresses.length);this.changeAddresses.push(key.getAddress().toString());return this.changeAddresses[this.changeAddresses.length-1]};this.getBalance=function(){return this.getUnspentOutputs().reduce(function(memo,output){return memo+output.value},0)};this.getUnspentOutputs=function(){var utxo=[];for(var key in this.outputs){var output=this.outputs[key];if(!output.to)utxo.push(outputToUnspentOutput(output))}return utxo};this.setUnspentOutputs=function(utxo){var outputs={};utxo.forEach(function(uo){validateUnspentOutput(uo);var o=unspentOutputToOutput(uo);outputs[o.from]=o});this.outputs=outputs};function outputToUnspentOutput(output){var hashAndIndex=output.from.split(":");return{hash:hashAndIndex[0],outputIndex:parseInt(hashAndIndex[1]),address:output.address,value:output.value,pending:output.pending}}function unspentOutputToOutput(o){var hash=o.hash;var key=hash+":"+o.outputIndex;return{from:key,address:o.address,value:o.value,pending:o.pending}}function validateUnspentOutput(uo){var missingField;if(isNullOrUndefined(uo.hash)){missingField="hash"}var requiredKeys=["outputIndex","address","value"];requiredKeys.forEach(function(key){if(isNullOrUndefined(uo[key])){missingField=key}});if(missingField){var message=["Invalid unspent output: key",missingField,"is missing.","A valid unspent output must contain"];message.push(requiredKeys.join(", "));message.push("and hash");throw new Error(message.join(" "))}}function isNullOrUndefined(value){return value==undefined}this.processPendingTx=function(tx){processTx(tx,true)};this.processConfirmedTx=function(tx){processTx(tx,false)};function processTx(tx,isPending){var txid=tx.getId();tx.outs.forEach(function(txOut,i){var address;try{address=Address.fromOutputScript(txOut.script,network).toString()}catch(e){if(!e.message.match(/has no matching Address/))throw e}if(isMyAddress(address)){var output=txid+":"+i;me.outputs[output]={from:output,value:txOut.value,address:address,pending:isPending}}});tx.ins.forEach(function(txIn,i){var txinId=new Buffer(txIn.hash);Array.prototype.reverse.call(txinId);txinId=txinId.toString("hex");var output=txinId+":"+txIn.index;if(!(output in me.outputs))return;if(isPending){me.outputs[output].to=txid+":"+i;me.outputs[output].pending=true}else{delete me.outputs[output]}})}this.createTx=function(to,value,fixedFee,changeAddress){assert(value>network.dustThreshold,value+" must be above dust threshold ("+network.dustThreshold+" Satoshis)");var utxos=getCandidateOutputs(value);var accum=0;var subTotal=value;var addresses=[];var tx=new Transaction;tx.addOutput(to,value);for(var i=0;i<utxos.length;++i){var utxo=utxos[i];addresses.push(utxo.address);var outpoint=utxo.from.split(":");tx.addInput(outpoint[0],parseInt(outpoint[1]));var fee=fixedFee==undefined?estimateFeePadChangeOutput(tx):fixedFee;accum+=utxo.value;subTotal=value+fee;if(accum>=subTotal){var change=accum-subTotal;if(change>network.dustThreshold){tx.addOutput(changeAddress||getChangeAddress(),change)}break}}assert(accum>=subTotal,"Not enough funds (incl. fee): "+accum+" < "+subTotal);this.signWith(tx,addresses);return tx};function getCandidateOutputs(){var unspent=[];for(var key in me.outputs){var output=me.outputs[key];if(!output.pending)unspent.push(output)}var sortByValueDesc=unspent.sort(function(o1,o2){return o2.value-o1.value});return sortByValueDesc}function estimateFeePadChangeOutput(tx){var tmpTx=tx.clone();tmpTx.addOutput(getChangeAddress(),network.dustSoftThreshold||0);return network.estimateFee(tmpTx)}function getChangeAddress(){if(me.changeAddresses.length===0)me.generateChangeAddress();return me.changeAddresses[me.changeAddresses.length-1]}this.signWith=function(tx,addresses){assert.equal(tx.ins.length,addresses.length,"Number of addresses must match number of transaction inputs");addresses.forEach(function(address,i){var key=me.getPrivateKeyForAddress(address);tx.sign(i,key)});return tx};this.getMasterKey=function(){return masterkey};this.getAccountZero=function(){return accountZero};this.getInternalAccount=function(){return internalAccount};this.getExternalAccount=function(){return externalAccount};this.getPrivateKey=function(index){return externalAccount.derive(index).privKey};this.getInternalPrivateKey=function(index){return internalAccount.derive(index).privKey};this.getPrivateKeyForAddress=function(address){var index;if((index=this.addresses.indexOf(address))>-1){return this.getPrivateKey(index)}else if((index=this.changeAddresses.indexOf(address))>-1){return this.getInternalPrivateKey(index)}else{throw new Error("Unknown address. Make sure the address is from the keychain and has been generated.")}};function isReceiveAddress(address){return me.addresses.indexOf(address)>-1}function isChangeAddress(address){return me.changeAddresses.indexOf(address)>-1}function isMyAddress(address){return isReceiveAddress(address)||isChangeAddress(address)}}module.exports=Wallet}).call(this,_dereq_("buffer").Buffer)},{"./address":58,"./hdnode":67,"./networks":70,"./transaction":74,assert:76,buffer:80,"secure-random":57}],76:[function(_dereq_,module,exports){var util=_dereq_("util/");var pSlice=Array.prototype.slice;var hasOwn=Object.prototype.hasOwnProperty;var assert=module.exports=ok;assert.AssertionError=function AssertionError(options){this.name="AssertionError";this.actual=options.actual;this.expected=options.expected;this.operator=options.operator;if(options.message){this.message=options.message;this.generatedMessage=false}else{this.message=getMessage(this);this.generatedMessage=true}var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace){Error.captureStackTrace(this,stackStartFunction)}else{var err=new Error;if(err.stack){var out=err.stack;var fn_name=stackStartFunction.name;var idx=out.indexOf("\n"+fn_name);if(idx>=0){var next_line=out.indexOf("\n",idx+1);out=out.substring(next_line+1)}this.stack=out}}};util.inherits(assert.AssertionError,Error);function replacer(key,value){if(util.isUndefined(value)){return""+value}if(util.isNumber(value)&&(isNaN(value)||!isFinite(value))){return value.toString()}if(util.isFunction(value)||util.isRegExp(value)){return value.toString()}return value}function truncate(s,n){if(util.isString(s)){return s.length<n?s:s.slice(0,n)}else{return s}}function getMessage(self){return truncate(JSON.stringify(self.actual,replacer),128)+" "+self.operator+" "+truncate(JSON.stringify(self.expected,replacer),128)}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}assert.fail=fail;function ok(value,message){if(!value)fail(value,true,message,"==",assert.ok)}assert.ok=ok;assert.equal=function equal(actual,expected,message){if(actual!=expected)fail(actual,expected,message,"==",assert.equal)};assert.notEqual=function notEqual(actual,expected,message){if(actual==expected){fail(actual,expected,message,"!=",assert.notEqual)}};assert.deepEqual=function deepEqual(actual,expected,message){if(!_deepEqual(actual,expected)){fail(actual,expected,message,"deepEqual",assert.deepEqual)}};function _deepEqual(actual,expected){if(actual===expected){return true}else if(util.isBuffer(actual)&&util.isBuffer(expected)){if(actual.length!=expected.length)return false;for(var i=0;i<actual.length;i++){if(actual[i]!==expected[i])return false}return true}else if(util.isDate(actual)&&util.isDate(expected)){return actual.getTime()===expected.getTime()}else if(util.isRegExp(actual)&&util.isRegExp(expected)){return actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase}else if(!util.isObject(actual)&&!util.isObject(expected)){return actual==expected}else{return objEquiv(actual,expected)}}function isArguments(object){return Object.prototype.toString.call(object)=="[object Arguments]"}function objEquiv(a,b){if(util.isNullOrUndefined(a)||util.isNullOrUndefined(b))return false;if(a.prototype!==b.prototype)return false;if(isArguments(a)){if(!isArguments(b)){return false}a=pSlice.call(a);b=pSlice.call(b);return _deepEqual(a,b)}try{var ka=objectKeys(a),kb=objectKeys(b),key,i}catch(e){return false}if(ka.length!=kb.length)return false;ka.sort();kb.sort();for(i=ka.length-1;i>=0;i--){if(ka[i]!=kb[i])return false}for(i=ka.length-1;i>=0;i--){key=ka[i];if(!_deepEqual(a[key],b[key]))return false}return true}assert.notDeepEqual=function notDeepEqual(actual,expected,message){if(_deepEqual(actual,expected)){fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)}};assert.strictEqual=function strictEqual(actual,expected,message){if(actual!==expected){fail(actual,expected,message,"===",assert.strictEqual)}};assert.notStrictEqual=function notStrictEqual(actual,expected,message){if(actual===expected){fail(actual,expected,message,"!==",assert.notStrictEqual)}};function expectedException(actual,expected){if(!actual||!expected){return false}if(Object.prototype.toString.call(expected)=="[object RegExp]"){return expected.test(actual)}else if(actual instanceof expected){return true}else if(expected.call({},actual)===true){return true}return false}function _throws(shouldThrow,block,expected,message){var actual;if(util.isString(expected)){message=expected;expected=null}try{block()}catch(e){actual=e}message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:".");if(shouldThrow&&!actual){fail(actual,expected,"Missing expected exception"+message)}if(!shouldThrow&&expectedException(actual,expected)){fail(actual,expected,"Got unwanted exception"+message)}if(shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual){throw actual}}assert.throws=function(block,error,message){_throws.apply(this,[true].concat(pSlice.call(arguments)))};assert.doesNotThrow=function(block,message){_throws.apply(this,[false].concat(pSlice.call(arguments)))};assert.ifError=function(err){if(err){throw err}};var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj){if(hasOwn.call(obj,key))keys.push(key)}return keys}},{"util/":78}],77:[function(_dereq_,module,exports){module.exports=function isBuffer(arg){return arg&&typeof arg==="object"&&typeof arg.copy==="function"&&typeof arg.fill==="function"&&typeof arg.readUInt8==="function"}},{}],78:[function(_dereq_,module,exports){(function(process,global){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]))}return objects.join(" ")}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=" "+x}else{str+=" "+inspect(x)}}return str};exports.deprecate=function(fn,msg){if(isUndefined(global.process)){return function(){return exports.deprecate(fn,msg).apply(this,arguments)}}if(process.noDeprecation===true){return fn}var warned=false;function deprecated(){if(!warned){if(process.throwDeprecation){throw new Error(msg)}else if(process.traceDeprecation){console.trace(msg)}else{console.error(msg)}warned=true}return fn.apply(this,arguments)}return deprecated};var debugs={};var debugEnviron;exports.debuglog=function(set){if(isUndefined(debugEnviron))debugEnviron=process.env.NODE_DEBUG||"";set=set.toUpperCase();if(!debugs[set]){if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else{debugs[set]=function(){}}}return debugs[set]};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts}else if(opts){exports._extend(ctx,opts)}if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}exports.inspect=inspect;inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m"}else{return str}}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};array.forEach(function(val,idx){hash[val]=true});return hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes)}return ret}var primitive=formatPrimitive(ctx,value);if(primitive){return primitive}var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value)}if(isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0)){return formatError(value)}if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),"date")}if(isError(value)){return formatError(value)}}var base="",array=false,braces=["{","}"];if(isArray(value)){array=true;braces=["[","]"]}if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)){base=" "+RegExp.prototype.toString.call(value)}if(isDate(value)){base=" "+Date.prototype.toUTCString.call(value)}if(isError(value)){base=" "+formatError(value)}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1]}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}else{return ctx.stylize("[Object]","special")}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys)}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)})}ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true))}else{output.push("")}}keys.forEach(function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true))}});return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize("[Getter/Setter]","special")}else{str=ctx.stylize("[Getter]","special")}}else{if(desc.set){str=ctx.stylize("[Setter]","special")}}if(!hasOwnProperty(visibleKeys,key)){name="["+key+"]"}if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null)}else{str=formatValue(ctx,desc.value,recurseTimes-1)}if(str.indexOf("\n")>-1){if(array){str=str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2)}else{str="\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")}}}else{str=ctx.stylize("[Circular]","special")}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str}name=JSON.stringify(""+key);
if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce(function(prev,cur){numLinesEst++;if(cur.indexOf("\n")>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(length>60){return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]}return braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=_dereq_("./support/isBuffer");function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))};exports.inherits=_dereq_("inherits");exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]]}return origin};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}).call(this,_dereq_("sycGbZ"),typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":77,inherits:83,sycGbZ:84}],79:[function(_dereq_,module,exports){},{}],80:[function(_dereq_,module,exports){var base64=_dereq_("base64-js");var ieee754=_dereq_("ieee754");exports.Buffer=Buffer;exports.SlowBuffer=Buffer;exports.INSPECT_MAX_BYTES=50;Buffer.poolSize=8192;Buffer._useTypedArrays=function(){try{var buf=new ArrayBuffer(0);var arr=new Uint8Array(buf);arr.foo=function(){return 42};return 42===arr.foo()&&typeof arr.subarray==="function"}catch(e){return false}}();function Buffer(subject,encoding,noZero){if(!(this instanceof Buffer))return new Buffer(subject,encoding,noZero);var type=typeof subject;if(encoding==="base64"&&type==="string"){subject=base64clean(subject)}var length;if(type==="number")length=coerce(subject);else if(type==="string")length=Buffer.byteLength(subject,encoding);else if(type==="object")length=coerce(subject.length);else throw new Error("First argument needs to be a number, array or string.");var buf;if(Buffer._useTypedArrays){buf=Buffer._augment(new Uint8Array(length))}else{buf=this;buf.length=length;buf._isBuffer=true}var i;if(Buffer._useTypedArrays&&typeof subject.byteLength==="number"){buf._set(subject)}else if(isArrayish(subject)){if(Buffer.isBuffer(subject)){for(i=0;i<length;i++)buf[i]=subject.readUInt8(i)}else{for(i=0;i<length;i++)buf[i]=(subject[i]%256+256)%256}}else if(type==="string"){buf.write(subject,0,encoding)}else if(type==="number"&&!Buffer._useTypedArrays&&!noZero){for(i=0;i<length;i++){buf[i]=0}}return buf}Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Buffer.isBuffer=function(b){return!!(b!==null&&b!==undefined&&b._isBuffer)};Buffer.byteLength=function(str,encoding){var ret;str=str.toString();switch(encoding||"utf8"){case"hex":ret=str.length/2;break;case"utf8":case"utf-8":ret=utf8ToBytes(str).length;break;case"ascii":case"binary":case"raw":ret=str.length;break;case"base64":ret=base64ToBytes(str).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ret=str.length*2;break;default:throw new Error("Unknown encoding")}return ret};Buffer.concat=function(list,totalLength){assert(isArray(list),"Usage: Buffer.concat(list[, length])");if(list.length===0){return new Buffer(0)}else if(list.length===1){return list[0]}var i;if(totalLength===undefined){totalLength=0;for(i=0;i<list.length;i++){totalLength+=list[i].length}}var buf=new Buffer(totalLength);var pos=0;for(i=0;i<list.length;i++){var item=list[i];item.copy(buf,pos);pos+=item.length}return buf};Buffer.compare=function(a,b){assert(Buffer.isBuffer(a)&&Buffer.isBuffer(b),"Arguments must be Buffers");var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len&&a[i]===b[i];i++){}if(i!==len){x=a[i];y=b[i]}if(x<y){return-1}if(y<x){return 1}return 0};function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}var strLen=string.length;assert(strLen%2===0,"Invalid hex string");if(length>strLen/2){length=strLen/2}for(var i=0;i<length;i++){var byte=parseInt(string.substr(i*2,2),16);assert(!isNaN(byte),"Invalid hex string");buf[offset+i]=byte}return i}function utf8Write(buf,string,offset,length){var charsWritten=blitBuffer(utf8ToBytes(string),buf,offset,length);return charsWritten}function asciiWrite(buf,string,offset,length){var charsWritten=blitBuffer(asciiToBytes(string),buf,offset,length);return charsWritten}function binaryWrite(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){var charsWritten=blitBuffer(base64ToBytes(string),buf,offset,length);return charsWritten}function utf16leWrite(buf,string,offset,length){var charsWritten=blitBuffer(utf16leToBytes(string),buf,offset,length);return charsWritten}Buffer.prototype.write=function(string,offset,length,encoding){if(isFinite(offset)){if(!isFinite(length)){encoding=length;length=undefined}}else{var swap=encoding;encoding=offset;offset=length;length=swap}offset=Number(offset)||0;var remaining=this.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}encoding=String(encoding||"utf8").toLowerCase();var ret;switch(encoding){case"hex":ret=hexWrite(this,string,offset,length);break;case"utf8":case"utf-8":ret=utf8Write(this,string,offset,length);break;case"ascii":ret=asciiWrite(this,string,offset,length);break;case"binary":ret=binaryWrite(this,string,offset,length);break;case"base64":ret=base64Write(this,string,offset,length);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ret=utf16leWrite(this,string,offset,length);break;default:throw new Error("Unknown encoding")}return ret};Buffer.prototype.toString=function(encoding,start,end){var self=this;encoding=String(encoding||"utf8").toLowerCase();start=Number(start)||0;end=end===undefined?self.length:Number(end);if(end===start)return"";var ret;switch(encoding){case"hex":ret=hexSlice(self,start,end);break;case"utf8":case"utf-8":ret=utf8Slice(self,start,end);break;case"ascii":ret=asciiSlice(self,start,end);break;case"binary":ret=binarySlice(self,start,end);break;case"base64":ret=base64Slice(self,start,end);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ret=utf16leSlice(self,start,end);break;default:throw new Error("Unknown encoding")}return ret};Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};Buffer.prototype.equals=function(b){assert(Buffer.isBuffer(b),"Argument must be a Buffer");return Buffer.compare(this,b)===0};Buffer.prototype.compare=function(b){assert(Buffer.isBuffer(b),"Argument must be a Buffer");return Buffer.compare(this,b)};Buffer.prototype.copy=function(target,target_start,start,end){var source=this;if(!start)start=0;if(!end&&end!==0)end=this.length;if(!target_start)target_start=0;if(end===start)return;if(target.length===0||source.length===0)return;assert(end>=start,"sourceEnd < sourceStart");assert(target_start>=0&&target_start<target.length,"targetStart out of bounds");assert(start>=0&&start<source.length,"sourceStart out of bounds");assert(end>=0&&end<=source.length,"sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-target_start<end-start)end=target.length-target_start+start;var len=end-start;if(len<100||!Buffer._useTypedArrays){for(var i=0;i<len;i++){target[i+target_start]=this[i+start]}}else{target._set(this.subarray(start,start+len),target_start)}};function base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}function utf8Slice(buf,start,end){var res="";var tmp="";end=Math.min(buf.length,end);for(var i=start;i<end;i++){if(buf[i]<=127){res+=decodeUtf8Char(tmp)+String.fromCharCode(buf[i]);tmp=""}else{tmp+="%"+buf[i].toString(16)}}return res+decodeUtf8Char(tmp)}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;i++){ret+=String.fromCharCode(buf[i])}return ret}function binarySlice(buf,start,end){return asciiSlice(buf,start,end)}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;i++){out+=toHex(buf[i])}return out}function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end);var res="";for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}return res}Buffer.prototype.slice=function(start,end){var len=this.length;start=clamp(start,len,0);end=clamp(end,len,len);if(Buffer._useTypedArrays){return Buffer._augment(this.subarray(start,end))}else{var sliceLen=end-start;var newBuf=new Buffer(sliceLen,undefined,true);for(var i=0;i<sliceLen;i++){newBuf[i]=this[i+start]}return newBuf}};Buffer.prototype.get=function(offset){console.log(".get() is deprecated. Access using array indexes instead.");return this.readUInt8(offset)};Buffer.prototype.set=function(v,offset){console.log(".set() is deprecated. Access using array indexes instead.");return this.writeUInt8(v,offset)};Buffer.prototype.readUInt8=function(offset,noAssert){if(!noAssert){assert(offset!==undefined&&offset!==null,"missing offset");assert(offset<this.length,"Trying to read beyond buffer length")}if(offset>=this.length)return;return this[offset]};function readUInt16(buf,offset,littleEndian,noAssert){if(!noAssert){assert(typeof littleEndian==="boolean","missing or invalid endian");assert(offset!==undefined&&offset!==null,"missing offset");assert(offset+1<buf.length,"Trying to read beyond buffer length")}var len=buf.length;if(offset>=len)return;var val;if(littleEndian){val=buf[offset];if(offset+1<len)val|=buf[offset+1]<<8}else{val=buf[offset]<<8;if(offset+1<len)val|=buf[offset+1]}return val}Buffer.prototype.readUInt16LE=function(offset,noAssert){return readUInt16(this,offset,true,noAssert)};Buffer.prototype.readUInt16BE=function(offset,noAssert){return readUInt16(this,offset,false,noAssert)};function readUInt32(buf,offset,littleEndian,noAssert){if(!noAssert){assert(typeof littleEndian==="boolean","missing or invalid endian");assert(offset!==undefined&&offset!==null,"missing offset");assert(offset+3<buf.length,"Trying to read beyond buffer length")}var len=buf.length;if(offset>=len)return;var val;if(littleEndian){if(offset+2<len)val=buf[offset+2]<<16;if(offset+1<len)val|=buf[offset+1]<<8;val|=buf[offset];if(offset+3<len)val=val+(buf[offset+3]<<24>>>0)}else{if(offset+1<len)val=buf[offset+1]<<16;if(offset+2<len)val|=buf[offset+2]<<8;if(offset+3<len)val|=buf[offset+3];val=val+(buf[offset]<<24>>>0)}return val}Buffer.prototype.readUInt32LE=function(offset,noAssert){return readUInt32(this,offset,true,noAssert)};Buffer.prototype.readUInt32BE=function(offset,noAssert){return readUInt32(this,offset,false,noAssert)};Buffer.prototype.readInt8=function(offset,noAssert){if(!noAssert){assert(offset!==undefined&&offset!==null,"missing offset");assert(offset<this.length,"Trying to read beyond buffer length")}if(offset>=this.length)return;var neg=this[offset]&128;if(neg)return(255-this[offset]+1)*-1;else return this[offset]};function readInt16(buf,offset,littleEndian,noAssert){if(!noAssert){assert(typeof littleEndian==="boolean","missing or invalid endian");assert(offset!==undefined&&offset!==null,"missing offset");assert(offset+1<buf.length,"Trying to read beyond buffer length")}var len=buf.length;if(offset>=len)return;var val=readUInt16(buf,offset,littleEndian,true);var neg=val&32768;if(neg)return(65535-val+1)*-1;else return val}Buffer.prototype.readInt16LE=function(offset,noAssert){return readInt16(this,offset,true,noAssert)};Buffer.prototype.readInt16BE=function(offset,noAssert){return readInt16(this,offset,false,noAssert)};function readInt32(buf,offset,littleEndian,noAssert){if(!noAssert){assert(typeof littleEndian==="boolean","missing or invalid endian");assert(offset!==undefined&&offset!==null,"missing offset");assert(offset+3<buf.length,"Trying to read beyond buffer length")}var len=buf.length;if(offset>=len)return;var val=readUInt32(buf,offset,littleEndian,true);var neg=val&2147483648;if(neg)return(4294967295-val+1)*-1;else return val}Buffer.prototype.readInt32LE=function(offset,noAssert){return readInt32(this,offset,true,noAssert)};Buffer.prototype.readInt32BE=function(offset,noAssert){return readInt32(this,offset,false,noAssert)};function readFloat(buf,offset,littleEndian,noAssert){if(!noAssert){assert(typeof littleEndian==="boolean","missing or invalid endian");assert(offset+3<buf.length,"Trying to read beyond buffer length")}return ieee754.read(buf,offset,littleEndian,23,4)}Buffer.prototype.readFloatLE=function(offset,noAssert){return readFloat(this,offset,true,noAssert)};Buffer.prototype.readFloatBE=function(offset,noAssert){return readFloat(this,offset,false,noAssert)};function readDouble(buf,offset,littleEndian,noAssert){if(!noAssert){assert(typeof littleEndian==="boolean","missing or invalid endian");assert(offset+7<buf.length,"Trying to read beyond buffer length")}return ieee754.read(buf,offset,littleEndian,52,8)}Buffer.prototype.readDoubleLE=function(offset,noAssert){return readDouble(this,offset,true,noAssert)};Buffer.prototype.readDoubleBE=function(offset,noAssert){return readDouble(this,offset,false,noAssert)};Buffer.prototype.writeUInt8=function(value,offset,noAssert){if(!noAssert){assert(value!==undefined&&value!==null,"missing value");assert(offset!==undefined&&offset!==null,"missing offset");assert(offset<this.length,"trying to write beyond buffer length");verifuint(value,255)}if(offset>=this.length)return;this[offset]=value;return offset+1};function writeUInt16(buf,value,offset,littleEndian,noAssert){if(!noAssert){assert(value!==undefined&&value!==null,"missing value");assert(typeof littleEndian==="boolean","missing or invalid endian");assert(offset!==undefined&&offset!==null,"missing offset");assert(offset+1<buf.length,"trying to write beyond buffer length");verifuint(value,65535)}var len=buf.length;if(offset>=len)return;for(var i=0,j=Math.min(len-offset,2);i<j;i++){buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>(littleEndian?i:1-i)*8}return offset+2}Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return writeUInt16(this,value,offset,true,noAssert)};Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return writeUInt16(this,value,offset,false,noAssert)};function writeUInt32(buf,value,offset,littleEndian,noAssert){if(!noAssert){assert(value!==undefined&&value!==null,"missing value");assert(typeof littleEndian==="boolean","missing or invalid endian");assert(offset!==undefined&&offset!==null,"missing offset");assert(offset+3<buf.length,"trying to write beyond buffer length");verifuint(value,4294967295)}var len=buf.length;if(offset>=len)return;for(var i=0,j=Math.min(len-offset,4);i<j;i++){buf[offset+i]=value>>>(littleEndian?i:3-i)*8&255}return offset+4}Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return writeUInt32(this,value,offset,true,noAssert)};Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return writeUInt32(this,value,offset,false,noAssert)};Buffer.prototype.writeInt8=function(value,offset,noAssert){if(!noAssert){assert(value!==undefined&&value!==null,"missing value");assert(offset!==undefined&&offset!==null,"missing offset");assert(offset<this.length,"Trying to write beyond buffer length");verifsint(value,127,-128)}if(offset>=this.length)return;if(value>=0)this.writeUInt8(value,offset,noAssert);else this.writeUInt8(255+value+1,offset,noAssert);return offset+1};function writeInt16(buf,value,offset,littleEndian,noAssert){if(!noAssert){assert(value!==undefined&&value!==null,"missing value");assert(typeof littleEndian==="boolean","missing or invalid endian");assert(offset!==undefined&&offset!==null,"missing offset");assert(offset+1<buf.length,"Trying to write beyond buffer length");verifsint(value,32767,-32768)}var len=buf.length;if(offset>=len)return;if(value>=0)writeUInt16(buf,value,offset,littleEndian,noAssert);else writeUInt16(buf,65535+value+1,offset,littleEndian,noAssert);return offset+2}Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return writeInt16(this,value,offset,true,noAssert)};Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return writeInt16(this,value,offset,false,noAssert)};function writeInt32(buf,value,offset,littleEndian,noAssert){if(!noAssert){assert(value!==undefined&&value!==null,"missing value");assert(typeof littleEndian==="boolean","missing or invalid endian");assert(offset!==undefined&&offset!==null,"missing offset");assert(offset+3<buf.length,"Trying to write beyond buffer length");verifsint(value,2147483647,-2147483648)}var len=buf.length;if(offset>=len)return;if(value>=0)writeUInt32(buf,value,offset,littleEndian,noAssert);else writeUInt32(buf,4294967295+value+1,offset,littleEndian,noAssert);return offset+4}Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return writeInt32(this,value,offset,true,noAssert)};Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return writeInt32(this,value,offset,false,noAssert)};function writeFloat(buf,value,offset,littleEndian,noAssert){if(!noAssert){assert(value!==undefined&&value!==null,"missing value");assert(typeof littleEndian==="boolean","missing or invalid endian");assert(offset!==undefined&&offset!==null,"missing offset");assert(offset+3<buf.length,"Trying to write beyond buffer length");verifIEEE754(value,3.4028234663852886e38,-3.4028234663852886e38)}var len=buf.length;if(offset>=len)return;ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)};Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){if(!noAssert){assert(value!==undefined&&value!==null,"missing value");assert(typeof littleEndian==="boolean","missing or invalid endian");assert(offset!==undefined&&offset!==null,"missing offset");assert(offset+7<buf.length,"Trying to write beyond buffer length");verifIEEE754(value,1.7976931348623157e308,-1.7976931348623157e308)}var len=buf.length;if(offset>=len)return;ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)};Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.fill=function(value,start,end){if(!value)value=0;if(!start)start=0;if(!end)end=this.length;assert(end>=start,"end < start");if(end===start)return;if(this.length===0)return;assert(start>=0&&start<this.length,"start out of bounds");assert(end>=0&&end<=this.length,"end out of bounds");var i;if(typeof value==="number"){for(i=start;i<end;i++){this[i]=value}}else{var bytes=utf8ToBytes(value.toString());var len=bytes.length;for(i=start;i<end;i++){this[i]=bytes[i%len]}}return this};Buffer.prototype.inspect=function(){var out=[];var len=this.length;for(var i=0;i<len;i++){out[i]=toHex(this[i]);if(i===exports.INSPECT_MAX_BYTES){out[i+1]="...";break}}return"<Buffer "+out.join(" ")+">"};Buffer.prototype.toArrayBuffer=function(){if(typeof Uint8Array!=="undefined"){if(Buffer._useTypedArrays){return new Buffer(this).buffer}else{var buf=new Uint8Array(this.length);for(var i=0,len=buf.length;i<len;i+=1){buf[i]=this[i]}return buf.buffer}}else{throw new Error("Buffer.toArrayBuffer not supported in this browser")}};var BP=Buffer.prototype;Buffer._augment=function(arr){arr._isBuffer=true;arr._get=arr.get;arr._set=arr.set;arr.get=BP.get;arr.set=BP.set;arr.write=BP.write;arr.toString=BP.toString;arr.toLocaleString=BP.toString;arr.toJSON=BP.toJSON;arr.equals=BP.equals;arr.compare=BP.compare;arr.copy=BP.copy;arr.slice=BP.slice;arr.readUInt8=BP.readUInt8;arr.readUInt16LE=BP.readUInt16LE;arr.readUInt16BE=BP.readUInt16BE;arr.readUInt32LE=BP.readUInt32LE;arr.readUInt32BE=BP.readUInt32BE;arr.readInt8=BP.readInt8;arr.readInt16LE=BP.readInt16LE;arr.readInt16BE=BP.readInt16BE;arr.readInt32LE=BP.readInt32LE;arr.readInt32BE=BP.readInt32BE;arr.readFloatLE=BP.readFloatLE;arr.readFloatBE=BP.readFloatBE;arr.readDoubleLE=BP.readDoubleLE;arr.readDoubleBE=BP.readDoubleBE;arr.writeUInt8=BP.writeUInt8;arr.writeUInt16LE=BP.writeUInt16LE;arr.writeUInt16BE=BP.writeUInt16BE;arr.writeUInt32LE=BP.writeUInt32LE;arr.writeUInt32BE=BP.writeUInt32BE;arr.writeInt8=BP.writeInt8;arr.writeInt16LE=BP.writeInt16LE;arr.writeInt16BE=BP.writeInt16BE;arr.writeInt32LE=BP.writeInt32LE;arr.writeInt32BE=BP.writeInt32BE;arr.writeFloatLE=BP.writeFloatLE;arr.writeFloatBE=BP.writeFloatBE;arr.writeDoubleLE=BP.writeDoubleLE;arr.writeDoubleBE=BP.writeDoubleBE;arr.fill=BP.fill;arr.inspect=BP.inspect;arr.toArrayBuffer=BP.toArrayBuffer;return arr};var INVALID_BASE64_RE=/[^+\/0-9A-z]/g;function base64clean(str){str=stringtrim(str).replace(INVALID_BASE64_RE,"");while(str.length%4!==0){str=str+"="}return str}function stringtrim(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,"")}function clamp(index,len,defaultValue){if(typeof index!=="number")return defaultValue;index=~~index;if(index>=len)return len;if(index>=0)return index;index+=len;if(index>=0)return index;return 0}function coerce(length){length=~~Math.ceil(+length);return length<0?0:length}function isArray(subject){return(Array.isArray||function(subject){return Object.prototype.toString.call(subject)==="[object Array]"})(subject)}function isArrayish(subject){return isArray(subject)||Buffer.isBuffer(subject)||subject&&typeof subject==="object"&&typeof subject.length==="number"}function toHex(n){if(n<16)return"0"+n.toString(16);return n.toString(16)}function utf8ToBytes(str){var byteArray=[];for(var i=0;i<str.length;i++){var b=str.charCodeAt(i);if(b<=127){byteArray.push(b)}else{var start=i;if(b>=55296&&b<=57343)i++;var h=encodeURIComponent(str.slice(start,i+1)).substr(1).split("%");for(var j=0;j<h.length;j++){byteArray.push(parseInt(h[j],16))}}}return byteArray}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;i++){byteArray.push(str.charCodeAt(i)&255)}return byteArray}function utf16leToBytes(str){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;i++){c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}function base64ToBytes(str){return base64.toByteArray(str)}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;i++){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}function decodeUtf8Char(str){try{return decodeURIComponent(str)}catch(err){return String.fromCharCode(65533)}}function verifuint(value,max){assert(typeof value==="number","cannot write a non-number as a number");assert(value>=0,"specified a negative value for writing an unsigned value");assert(value<=max,"value is larger than maximum value for type");assert(Math.floor(value)===value,"value has a fractional component")}function verifsint(value,max,min){assert(typeof value==="number","cannot write a non-number as a number");assert(value<=max,"value larger than maximum allowed value");assert(value>=min,"value smaller than minimum allowed value");assert(Math.floor(value)===value,"value has a fractional component")}function verifIEEE754(value,max,min){assert(typeof value==="number","cannot write a non-number as a number");assert(value<=max,"value larger than maximum allowed value");assert(value>=min,"value smaller than minimum allowed value")}function assert(test,message){if(!test)throw new Error(message||"Failed assertion")}},{"base64-js":81,ieee754:82}],81:[function(_dereq_,module,exports){var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";(function(exports){"use strict";var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;var PLUS="+".charCodeAt(0);var SLASH="/".charCodeAt(0);var NUMBER="0".charCodeAt(0);var LOWER="a".charCodeAt(0);var UPPER="A".charCodeAt(0);function decode(elt){var code=elt.charCodeAt(0);if(code===PLUS)return 62;if(code===SLASH)return 63;if(code<NUMBER)return-1;if(code<NUMBER+10)return code-NUMBER+26+26;if(code<UPPER+26)return code-UPPER;if(code<LOWER+26)return code-LOWER+26}function b64ToByteArray(b64){var i,j,l,tmp,placeHolders,arr;if(b64.length%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var len=b64.length;placeHolders="="===b64.charAt(len-2)?2:"="===b64.charAt(len-1)?1:0;arr=new Arr(b64.length*3/4-placeHolders);l=placeHolders>0?b64.length-4:b64.length;var L=0;function push(v){arr[L++]=v}for(i=0,j=0;i<l;i+=4,j+=3){tmp=decode(b64.charAt(i))<<18|decode(b64.charAt(i+1))<<12|decode(b64.charAt(i+2))<<6|decode(b64.charAt(i+3));push((tmp&16711680)>>16);push((tmp&65280)>>8);push(tmp&255)}if(placeHolders===2){tmp=decode(b64.charAt(i))<<2|decode(b64.charAt(i+1))>>4;push(tmp&255)}else if(placeHolders===1){tmp=decode(b64.charAt(i))<<10|decode(b64.charAt(i+1))<<4|decode(b64.charAt(i+2))>>2;push(tmp>>8&255);push(tmp&255)}return arr}function uint8ToBase64(uint8){var i,extraBytes=uint8.length%3,output="",temp,length;function encode(num){return lookup.charAt(num)}function tripletToBase64(num){return encode(num>>18&63)+encode(num>>12&63)+encode(num>>6&63)+encode(num&63)}for(i=0,length=uint8.length-extraBytes;i<length;i+=3){temp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2];output+=tripletToBase64(temp)}switch(extraBytes){case 1:temp=uint8[uint8.length-1];output+=encode(temp>>2);output+=encode(temp<<4&63);output+="==";break;case 2:temp=(uint8[uint8.length-2]<<8)+uint8[uint8.length-1];output+=encode(temp>>10);output+=encode(temp>>4&63);output+=encode(temp<<2&63);output+="=";break}return output}exports.toByteArray=b64ToByteArray;exports.fromByteArray=uint8ToBase64})(typeof exports==="undefined"?this.base64js={}:exports)},{}],82:[function(_dereq_,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=nBytes*8-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8);m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8);if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=nBytes*8-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8);e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=s*128}},{}],83:[function(_dereq_,module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},{}],84:[function(_dereq_,module,exports){var process=module.exports={};process.nextTick=function(){var canSetImmediate=typeof window!=="undefined"&&window.setImmediate;var canPost=typeof window!=="undefined"&&window.postMessage&&window.addEventListener;if(canSetImmediate){return function(f){return window.setImmediate(f)}}if(canPost){var queue=[];window.addEventListener("message",function(ev){var source=ev.source;if((source===window||source===null)&&ev.data==="process-tick"){ev.stopPropagation();if(queue.length>0){var fn=queue.shift();fn()}}},true);return function nextTick(fn){queue.push(fn);window.postMessage("process-tick","*")}}return function nextTick(fn){setTimeout(fn,0)}}();process.title="browser";process.browser=true;process.env={};process.argv=[];function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")}},{}],85:[function(_dereq_,module,exports){module.exports=_dereq_(77)},{}],86:[function(_dereq_,module,exports){module.exports=_dereq_(78)},{"./support/isBuffer":85,inherits:83,sycGbZ:84}]},{},[68])(68)});

var Bitcoin	= typeof window != 'undefined' ? window.Bitcoin : null;
if (!Bitcoin) {
	Bitcoin	= require('bitcoinjs-lib');
}


/*** Bitcore ***/

require=function outer(e,t,n){function i(s,o,u){var a,f=u;if(typeof s==="string"){if(s.charAt(0)==="!"){s=s.substr(1);f=true}}if(f||!t[s]){if(!e[s]){var l=typeof require=="function"&&require;if(!o&&l)return l(s,true);if(r)return r(s,true);throw new Error("Cannot find module '"+s+"'")}a={exports:{}};var c=u?false:f;if(!f)t[s]=a;f=false;e[s][0].call(a.exports,function(t){var n=e[s][1][t];return i(n?n:t,false,c)},a,a.exports,outer,e,t,n)}return a?a.exports:t[s].exports}var r=typeof require=="function"&&require;for(var s=0;s<n.length;s++)i(n[s]);return i}({tmvhGl:[function(e,t,n){(function(n){var r=function(n,r){Object.defineProperty(t.exports,n,{get:function(){return e(r)}})};r("Bignum","./lib/Bignum"),Object.defineProperty(t.exports,"bignum",{get:function(){return console.log('bignum (with a lower-case "b") is deprecated. Use bitcore.Bignum (capital "B") instead.'),e("./lib/Bignum")}}),r("Base58","./lib/Base58"),Object.defineProperty(t.exports,"base58",{get:function(){return console.log('base58 (with a lower-case "b") is deprecated. Use bitcore.Base58 (capital "B") instead.'),e("./lib/Base58")}}),r("bufferput","bufferput"),r("buffertools","buffertools"),r("Buffers.monkey","./patches/Buffers.monkey"),r("config","./config"),r("const","./const"),r("Curve","./lib/Curve"),r("Deserialize","./lib/Deserialize"),r("log","./util/log"),r("networks","./networks"),r("SecureRandom","./lib/SecureRandom"),r("util","./util/util"),r("EncodedData","./util/EncodedData"),r("VersionedData","./util/VersionedData"),r("BinaryParser","./util/BinaryParser"),r("Address","./lib/Address"),r("BIP32","./lib/BIP32"),r("Point","./lib/Point"),r("Opcode","./lib/Opcode"),r("Script","./lib/Script"),r("Transaction","./lib/Transaction"),r("TransactionBuilder","./lib/TransactionBuilder"),r("Connection","./lib/Connection"),r("Peer","./lib/Peer"),r("Block","./lib/Block"),r("ScriptInterpreter","./lib/ScriptInterpreter"),r("Bloom","./lib/Bloom"),r("Key","./lib/Key"),Object.defineProperty(t.exports,"KeyModule",{get:function(){return console.log("KeyModule is deprecated."),e("bindings")("KeyModule")}}),r("SINKey","./lib/SINKey"),r("SIN","./lib/SIN"),r("PrivateKey","./lib/PrivateKey"),r("RpcClient","./lib/RpcClient"),r("Wallet","./lib/Wallet"),r("WalletKey","./lib/WalletKey"),r("PeerManager","./lib/PeerManager"),r("Message","./lib/Message"),r("Electrum","./lib/Electrum"),t.exports.Buffer=n}).call(this,e("buffer").Buffer)},{"./lib/Base58":"6VqyzY","./lib/Bignum":"9Sbj2J",bindings:80,buffer:87}],bitcore:[function(e,t,n){t.exports=e("tmvhGl")},{}],3:[function(e,t,n){function r(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function i(){return new r(null)}function s(e,t,n,r,i,s){for(;--s>=0;){var o=t*this[e++]+n[r]+i;i=Math.floor(o/67108864),n[r++]=67108863&o}return i}function o(e,t,n,r,i,s){for(var o=32767&t,u=t>>15;--s>=0;){var a=32767&this[e],f=this[e++]>>15,l=u*a+f*o;a=o*a+((32767&l)<<15)+n[r]+(1073741823&i),i=(a>>>30)+(l>>>15)+u*f+(i>>>30),n[r++]=1073741823&a}return i}function u(e,t,n,r,i,s){for(var o=16383&t,u=t>>14;--s>=0;){var a=16383&this[e],f=this[e++]>>14,l=u*a+f*o;a=o*a+((16383&l)<<14)+n[r]+i,i=(a>>28)+(l>>14)+u*f,n[r++]=268435455&a}return i}function a(e){return pr.charAt(e)}function f(e,t){var n=dr[e.charCodeAt(t)];return null==n?-1:n}function l(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function c(e){this.t=1,this.s=0>e?-1:0,e>0?this[0]=e:-1>e?this[0]=e+DV:this.t=0}function h(e){var t=i();return t.fromInt(e),t}function p(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var i=e.length,s=!1,o=0;--i>=0;){var u=8==n?255&e[i]:f(e,i);0>u?"-"==e.charAt(i)&&(s=!0):(s=!1,0==o?this[this.t++]=u:o+n>this.DB?(this[this.t-1]|=(u&(1<<this.DB-o)-1)<<o,this[this.t++]=u>>this.DB-o):this[this.t-1]|=u<<o,o+=n,o>=this.DB&&(o-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),s&&r.ZERO.subTo(this,this)}function d(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function v(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,s="",o=this.t,u=this.DB-o*this.DB%t;if(o-->0)for(u<this.DB&&(n=this[o]>>u)>0&&(i=!0,s=a(n));o>=0;)t>u?(n=(this[o]&(1<<u)-1)<<t-u,n|=this[--o]>>(u+=this.DB-t)):(n=this[o]>>(u-=t)&r,0>=u&&(u+=this.DB,--o)),n>0&&(i=!0),i&&(s+=a(n));return i?s:"0"}function m(){var e=i();return r.ZERO.subTo(this,e),e}function g(){return this.s<0?this.negate():this}function y(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(t=n-e.t,0!=t)return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0}function b(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function w(){return this.t<=0?0:this.DB*(this.t-1)+b(this[this.t-1]^this.s&this.DM)}function E(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function S(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function x(e,t){var n,r=e%this.DB,i=this.DB-r,s=(1<<i)-1,o=Math.floor(e/this.DB),u=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+o+1]=this[n]>>i|u,u=(this[n]&s)<<r;for(n=o-1;n>=0;--n)t[n]=0;t[o]=u,t.t=this.t+o+1,t.s=this.s,t.clamp()}function T(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)return void (t.t=0);var r=e%this.DB,i=this.DB-r,s=(1<<r)-1;t[0]=this[n]>>r;for(var o=n+1;o<this.t;++o)t[o-n-1]|=(this[o]&s)<<i,t[o-n]=this[o]>>r;r>0&&(t[this.t-n-1]|=(this.s&s)<<i),t.t=this.t-n,t.clamp()}function N(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);i>n;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=0>r?-1:0,-1>r?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()}function C(e,t){var n=this.abs(),i=e.abs(),s=n.t;for(t.t=s+i.t;--s>=0;)t[s]=0;for(s=0;s<i.t;++s)t[s+n.t]=n.am(0,i[s],t,s,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&r.ZERO.subTo(t,t)}function k(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function L(e,t,n){var s=e.abs();if(!(s.t<=0)){var o=this.abs();if(o.t<s.t)return null!=t&&t.fromInt(0),void (null!=n&&this.copyTo(n));null==n&&(n=i());var u=i(),a=this.s,f=e.s,l=this.DB-b(s[s.t-1]);l>0?(s.lShiftTo(l,u),o.lShiftTo(l,n)):(s.copyTo(u),o.copyTo(n));var c=u.t,h=u[c-1];if(0!=h){var p=h*(1<<this.F1)+(c>1?u[c-2]>>this.F2:0),d=this.FV/p,v=(1<<this.F1)/p,m=1<<this.F2,g=n.t,y=g-c,w=null==t?i():t;for(u.dlShiftTo(y,w),n.compareTo(w)>=0&&(n[n.t++]=1,n.subTo(w,n)),r.ONE.dlShiftTo(c,w),w.subTo(u,u);u.t<c;)u[u.t++]=0;for(;--y>=0;){var E=n[--g]==h?this.DM:Math.floor(n[g]*d+(n[g-1]+m)*v);if((n[g]+=u.am(0,E,n,y,0,c))<E)for(u.dlShiftTo(y,w),n.subTo(w,n);n[g]<--E;)n.subTo(w,n)}null!=t&&(n.drShiftTo(c,t),a!=f&&r.ZERO.subTo(t,t)),n.t=c,n.clamp(),l>0&&n.rShiftTo(l,n),0>a&&r.ZERO.subTo(n,n)}}}function A(e){var t=i();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(r.ZERO)>0&&e.subTo(t,t),t}function O(e){this.m=e}function M(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function _(e){return e}function D(e){e.divRemTo(this.m,null,e)}function P(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function H(e,t){e.squareTo(t),this.reduce(t)}function B(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function j(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function F(e){var t=i();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(r.ZERO)>0&&this.m.subTo(t,t),t}function I(e){var t=i();return e.copyTo(t),this.reduce(t),t}function q(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function R(e,t){e.squareTo(t),this.reduce(t)}function U(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function z(){return 0==(this.t>0?1&this[0]:this.s)}function W(e,t){if(e>4294967295||1>e)return r.ONE;var n=i(),s=i(),o=t.convert(this),u=b(e)-1;for(o.copyTo(n);--u>=0;)if(t.sqrTo(n,s),(e&1<<u)>0)t.mulTo(s,o,n);else{var a=n;n=s,s=a}return t.revert(n)}function X(e,t){var n;return n=256>e||t.isEven()?new O(t):new j(t),this.exp(e,n)}function V(){var e=i();return this.copyTo(e),e}function $(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function J(){return 0==this.t?this.s:this[0]<<24>>24}function K(){return 0==this.t?this.s:this[0]<<16>>16}function Q(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function G(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function Y(e){if(null==e&&(e=10),0==this.signum()||2>e||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=h(n),s=i(),o=i(),u="";for(this.divRemTo(r,s,o);s.signum()>0;)u=(n+o.intValue()).toString(e).substr(1)+u,s.divRemTo(r,s,o);return o.intValue().toString(e)+u}function Z(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),i=Math.pow(t,n),s=!1,o=0,u=0,a=0;a<e.length;++a){var l=f(e,a);0>l?"-"==e.charAt(a)&&0==this.signum()&&(s=!0):(u=t*u+l,++o>=n&&(this.dMultiply(i),this.dAddOffset(u,0),o=0,u=0))}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(u,0)),s&&r.ZERO.subTo(this,this)}function et(e,t,n){if("number"==typeof t)if(2>e)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(r.ONE.shiftLeft(e-1),at,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(r.ONE.shiftLeft(e-1),this);else{var i=new Array,s=7&e;i.length=(e>>3)+1,t.nextBytes(i),s>0?i[0]&=(1<<s)-1:i[0]=0,this.fromString(i,256)}}function tt(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-->0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)8>r?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,0>=r&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}function nt(e){return 0==this.compareTo(e)}function rt(e){return this.compareTo(e)<0?this:e}function it(e){return this.compareTo(e)>0?this:e}function st(e,t,n){var r,i,s=Math.min(e.t,this.t);for(r=0;s>r;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=s;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=s;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()}function ot(e,t){return e&t}function ut(e){var t=i();return this.bitwiseTo(e,ot,t),t}function at(e,t){return e|t}function ft(e){var t=i();return this.bitwiseTo(e,at,t),t}function lt(e,t){return e^t}function ct(e){var t=i();return this.bitwiseTo(e,lt,t),t}function ht(e,t){return e&~t}function pt(e){var t=i();return this.bitwiseTo(e,ht,t),t}function dt(){for(var e=i(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e}function vt(e){var t=i();return 0>e?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function mt(e){var t=i();return 0>e?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function gt(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function yt(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+gt(this[e]);return this.s<0?this.t*this.DB:-1}function bt(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function wt(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=bt(this[n]^t);return e}function Et(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)}function St(e,t){var n=r.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n}function xt(e){return this.changeBit(e,at)}function Tt(e){return this.changeBit(e,ht)}function Nt(e){return this.changeBit(e,lt)}function Ct(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);i>n;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=0>r?-1:0,r>0?t[n++]=r:-1>r&&(t[n++]=this.DV+r),t.t=n,t.clamp()}function kt(e){var t=i();return this.addTo(e,t),t}function Lt(e){var t=i();return this.subTo(e,t),t}function At(e){var t=i();return this.multiplyTo(e,t),t}function Ot(){var e=i();return this.squareTo(e),e}function Mt(e){var t=i();return this.divRemTo(e,t,null),t}function _t(e){var t=i();return this.divRemTo(e,null,t),t}function Dt(e){var t=i(),n=i();return this.divRemTo(e,t,n),new Array(t,n)}function Pt(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Ht(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}}function Bt(){}function jt(e){return e}function Ft(e,t,n){e.multiplyTo(t,n)}function It(e,t){e.squareTo(t)}function qt(e){return this.exp(e,new Bt)}function Rt(e,t,n){var r=Math.min(this.t+e.t,t);for(n.s=0,n.t=r;r>0;)n[--r]=0;var i;for(i=n.t-this.t;i>r;++r)n[r+this.t]=this.am(0,e[r],n,r,0,this.t);for(i=Math.min(e.t,t);i>r;++r)this.am(0,e[r],n,r,0,t-r);n.clamp()}function Ut(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)}function zt(e){this.r2=i(),this.q3=i(),r.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function Wt(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=i();return e.copyTo(t),this.reduce(t),t}function Xt(e){return e}function Vt(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function $t(e,t){e.squareTo(t),this.reduce(t)}function Jt(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function Kt(e,t){var n,r,s=e.bitLength(),o=h(1);if(0>=s)return o;n=18>s?1:48>s?3:144>s?4:768>s?5:6,r=8>s?new O(t):t.isEven()?new zt(t):new j(t);var u=new Array,a=3,f=n-1,l=(1<<n)-1;if(u[1]=r.convert(this),n>1){var c=i();for(r.sqrTo(u[1],c);l>=a;)u[a]=i(),r.mulTo(c,u[a-2],u[a]),a+=2}var p,d,v=e.t-1,m=!0,g=i();for(s=b(e[v])-1;v>=0;){for(s>=f?p=e[v]>>s-f&l:(p=(e[v]&(1<<s+1)-1)<<f-s,v>0&&(p|=e[v-1]>>this.DB+s-f)),a=n;0==(1&p);)p>>=1,--a;if((s-=a)<0&&(s+=this.DB,--v),m)u[p].copyTo(o),m=!1;else{for(;a>1;)r.sqrTo(o,g),r.sqrTo(g,o),a-=2;a>0?r.sqrTo(o,g):(d=o,o=g,g=d),r.mulTo(g,u[p],o)}for(;v>=0&&0==(e[v]&1<<s);)r.sqrTo(o,g),d=o,o=g,g=d,--s<0&&(s=this.DB-1,--v)}return r.revert(o)}function Qt(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),s=n.getLowestSetBit();if(0>s)return t;for(s>i&&(s=i),s>0&&(t.rShiftTo(s,t),n.rShiftTo(s,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return s>0&&n.lShiftTo(s,n),n}function Gt(e){if(0>=e)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n}function Yt(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return r.ZERO;for(var n=e.clone(),i=this.clone(),s=h(1),o=h(0),u=h(0),a=h(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(s.isEven()&&o.isEven()||(s.addTo(this,s),o.subTo(e,o)),s.rShiftTo(1,s)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;i.isEven();)i.rShiftTo(1,i),t?(u.isEven()&&a.isEven()||(u.addTo(this,u),a.subTo(e,a)),u.rShiftTo(1,u)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);n.compareTo(i)>=0?(n.subTo(i,n),t&&s.subTo(u,s),o.subTo(a,o)):(i.subTo(n,i),t&&u.subTo(s,u),a.subTo(o,a))}return 0!=i.compareTo(r.ONE)?r.ZERO:a.compareTo(e)>=0?a.subtract(e):a.signum()<0?(a.addTo(e,a),a.signum()<0?a.add(e):a):a}function Zt(e){var t,n=this.abs();if(1==n.t&&n[0]<=gr[gr.length-1]){for(t=0;t<gr.length;++t)if(n[0]==gr[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<gr.length;){for(var r=gr[t],i=t+1;i<gr.length&&yr>r;)r*=gr[i++];for(r=n.modInt(r);i>t;)if(r%gr[t++]==0)return!1}return n.millerRabin(e)}function en(e){var t=this.subtract(r.ONE),n=t.getLowestSetBit();if(0>=n)return!1;var s=t.shiftRight(n);e=e+1>>1,e>gr.length&&(e=gr.length);for(var o=i(),u=0;e>u;++u){o.fromInt(gr[Math.floor(Math.random()*gr.length)]);var a=o.modPow(s,this);if(0!=a.compareTo(r.ONE)&&0!=a.compareTo(t)){for(var f=1;f++<n&&0!=a.compareTo(t);)if(a=a.modPowInt(2,this),0==a.compareTo(r.ONE))return!1;if(0!=a.compareTo(t))return!1}}return!0}function tn(){this.i=0,this.j=0,this.S=new Array}function nn(e){var t,n,r;for(t=0;256>t;++t)this.S[t]=t;for(n=0,t=0;256>t;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0}function rn(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]}function sn(){return new tn}function on(e){xr[Tr++]^=255&e,xr[Tr++]^=e>>8&255,xr[Tr++]^=e>>16&255,xr[Tr++]^=e>>24&255,Tr>=br&&(Tr-=br)}function un(){on((new Date).getTime())}function an(){if(null==Sr){for(un(),Sr=sn(),Sr.init(xr),Tr=0;Tr<xr.length;++Tr)xr[Tr]=0;Tr=0}return Sr.next()}function fn(e){var t;for(t=0;t<e.length;++t)e[t]=an()}function ln(){}function cn(e,t){this.x=t,this.q=e}function hn(e){return e==this?!0:this.q.equals(e.q)&&this.x.equals(e.x)}function pn(){return this.x}function dn(){return new cn(this.q,this.x.negate().mod(this.q))}function vn(e){return new cn(this.q,this.x.add(e.toBigInteger()).mod(this.q))}function mn(e){return new cn(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))}function gn(e){return new cn(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))}function yn(){return new cn(this.q,this.x.square().mod(this.q))}function bn(e){return new cn(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))}function wn(e,t,n,i){this.curve=e,this.x=t,this.y=n,this.z=null==i?r.ONE:i,this.zinv=null}function En(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function Sn(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function xn(e){if(e==this)return!0;if(this.isInfinity())return e.isInfinity();if(e.isInfinity())return this.isInfinity();var t,n;return t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),t.equals(r.ZERO)?(n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q),n.equals(r.ZERO)):!1}function Tn(){return null==this.x&&null==this.y?!0:this.z.equals(r.ZERO)&&!this.y.toBigInteger().equals(r.ZERO)}function Nn(){return new wn(this.curve,this.x,this.y.negate(),this.z)}function Cn(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(r.ZERO.equals(n))return r.ZERO.equals(t)?this.twice():this.curve.getInfinity();var i=new r("3"),s=this.x.toBigInteger(),o=this.y.toBigInteger(),u=(e.x.toBigInteger(),e.y.toBigInteger(),n.square()),a=u.multiply(n),f=s.multiply(u),l=t.square().multiply(this.z),c=l.subtract(f.shiftLeft(1)).multiply(e.z).subtract(a).multiply(n).mod(this.curve.q),h=f.multiply(i).multiply(t).subtract(o.multiply(a)).subtract(l.multiply(t)).multiply(e.z).add(t.multiply(a)).mod(this.curve.q),p=a.multiply(this.z).multiply(e.z).mod(this.curve.q);return new wn(this.curve,this.curve.fromBigInteger(c),this.curve.fromBigInteger(h),p)}function kn(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new r("3"),t=this.x.toBigInteger(),n=this.y.toBigInteger(),i=n.multiply(this.z),s=i.multiply(n).mod(this.curve.q),o=this.curve.a.toBigInteger(),u=t.square().multiply(e);r.ZERO.equals(o)||(u=u.add(this.z.square().multiply(o))),u=u.mod(this.curve.q);var a=u.square().subtract(t.shiftLeft(3).multiply(s)).shiftLeft(1).multiply(i).mod(this.curve.q),f=u.multiply(e).multiply(t).subtract(s.shiftLeft(1)).shiftLeft(2).multiply(s).subtract(u.square().multiply(u)).mod(this.curve.q),l=i.square().multiply(i).shiftLeft(3).mod(this.curve.q);return new wn(this.curve,this.curve.fromBigInteger(a),this.curve.fromBigInteger(f),l)}function Ln(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,i=n.multiply(new r("3")),s=this.negate(),o=this;for(t=i.bitLength()-2;t>0;--t){o=o.twice();var u=i.testBit(t),a=n.testBit(t);u!=a&&(o=o.add(u?this:s))}return o}function An(e,t,n){var r;r=e.bitLength()>n.bitLength()?e.bitLength()-1:n.bitLength()-1;for(var i=this.curve.getInfinity(),s=this.add(t);r>=0;)i=i.twice(),e.testBit(r)?i=i.add(n.testBit(r)?s:this):n.testBit(r)&&(i=i.add(t)),--r;return i}function On(e,t,n){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(n),this.infinity=new wn(this,null,null)}function Mn(){return this.q}function _n(){return this.a}function Dn(){return this.b}function Pn(e){return e==this?!0:this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)}function Hn(){return this.infinity}function Bn(e){return new cn(this.q,e)}function jn(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var t=(e.length-2)/2,n=e.substr(2,t),i=e.substr(t+2,t);return new wn(this,this.fromBigInteger(new r(n,16)),this.fromBigInteger(new r(i,16)));default:return null}}function Fn(e,t,n,r){this.curve=e,this.g=t,this.n=n,this.h=r}function In(){return this.curve}function qn(){return this.g}function Rn(){return this.n}function Un(){return this.h}function zn(e){return new r(e,16)}function Wn(){var e=zn("FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF"),t=zn("FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC"),n=zn("E87579C11079F43DD824993C2CEE5ED3"),i=zn("FFFFFFFE0000000075A30D1B9038A115"),s=r.ONE,o=new On(e,t,n),u=o.decodePointHex("04161FF7528B899B2D0C28607CA52C5B86CF5AC8395BAFEB13C02DA292DDED7A83");return new Fn(o,u,i,s)}function Xn(){var e=zn("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73"),t=r.ZERO,n=zn("7"),i=zn("0100000000000000000001B8FA16DFAB9ACA16B6B3"),s=r.ONE,o=new On(e,t,n),u=o.decodePointHex("043B4C382CE37AA192A4019E763036F4F5DD4D7EBB938CF935318FDCED6BC28286531733C3F03C4FEE");return new Fn(o,u,i,s)}function Vn(){var e=zn("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF"),t=zn("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC"),n=zn("1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45"),i=zn("0100000000000000000001F4C8F927AED3CA752257"),s=r.ONE,o=new On(e,t,n),u=o.decodePointHex("044A96B5688EF573284664698968C38BB913CBFC8223A628553168947D59DCC912042351377AC5FB32");return new Fn(o,u,i,s)}function $n(){var e=zn("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37"),t=r.ZERO,n=zn("3"),i=zn("FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D"),s=r.ONE,o=new On(e,t,n),u=o.decodePointHex("04DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D");return new Fn(o,u,i,s)}function Jn(){var e=zn("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF"),t=zn("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC"),n=zn("64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1"),i=zn("FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831"),s=r.ONE,o=new On(e,t,n),u=o.decodePointHex("04188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF101207192B95FFC8DA78631011ED6B24CDD573F977A11E794811");return new Fn(o,u,i,s)}function Kn(){var e=zn("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001"),t=zn("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE"),n=zn("B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4"),i=zn("FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D"),s=r.ONE,o=new On(e,t,n),u=o.decodePointHex("04B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34");return new Fn(o,u,i,s)}function Qn(){var e=zn("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F"),t=r.ZERO,n=zn("7"),i=zn("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141"),s=r.ONE,o=new On(e,t,n),u=o.decodePointHex("0479BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8");return new Fn(o,u,i,s)}function Gn(){var e=zn("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF"),t=zn("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC"),n=zn("5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B"),i=zn("FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551"),s=r.ONE,o=new On(e,t,n),u=o.decodePointHex("046B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C2964FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5");return new Fn(o,u,i,s)}function Yn(e){return"secp128r1"==e?Wn():"secp160k1"==e?Xn():"secp160r1"==e?Vn():"secp192k1"==e?$n():"secp192r1"==e?Jn():"secp224r1"==e?Kn():"secp256k1"==e?Qn():"secp256r1"==e?Gn():null}function Zn(e,t){var n=e.toByteArrayUnsigned();if(t<n.length)n=n.slice(n.length-t);else for(;t>n.length;)n.unshift(0);return n}function er(e){return e instanceof r||(e=e.toBigInteger()),rr.util.bytesToHex(e.toByteArrayUnsigned())}if("undefined"==typeof window&&(window=this),Bitcoin={},"undefined"==typeof tr){var tr={};tr.appName="NodeJS"}var nr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rr=window.Crypto={},ir=rr.util={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&ir.rotl(e,8)|4278255360&ir.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=ir.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){if("function"==typeof btoa)return btoa(ur.bytesToString(e));for(var t=[],n=0;n<e.length;n+=3)for(var r=e[n]<<16|e[n+1]<<8|e[n+2],i=0;4>i;i++)t.push(8*n+6*i<=8*e.length?nr.charAt(r>>>6*(3-i)&63):"=");return t.join("")},base64ToBytes:function(e){if("function"==typeof atob)return ur.stringToBytes(atob(e));e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,r=0;n<e.length;r=++n%4)0!=r&&t.push((nr.indexOf(e.charAt(n-1))&Math.pow(2,-2*r+8)-1)<<2*r|nr.indexOf(e.charAt(n))>>>6-2*r);return t}};rr.mode={};var sr=rr.charenc={},or=sr.UTF8={stringToBytes:function(e){return ur.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(ur.bytesToString(e)))}},ur=sr.Binary={stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}},ar=ar||function(e,t){var n={},r=n.lib={},i=function(){},s=r.Base={extend:function(e){i.prototype=this;var t=new i;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=r.WordArray=s.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var i=0;e>i;i++)t[r+i>>>2]|=(n[i>>>2]>>>24-8*(i%4)&255)<<24-8*((r+i)%4);else if(65535<n.length)for(i=0;e>i;i+=4)t[r+i>>>2]=n[i>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-8*(n%4),t.length=e.ceil(n/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;t>r;r+=4)n.push(4294967296*e.random()|0);return new o.init(n,t)}}),u=n.enc={},a=u.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;e>r;r++){var i=t[r>>>2]>>>24-8*(r%4)&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-4*(r%8);return new o.init(n,t/2)}},f=u.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;e>r;r++)n.push(String.fromCharCode(t[r>>>2]>>>24-8*(r%4)&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-8*(r%4);return new o.init(n,t)}},l=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},c=r.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,s=this.blockSize,u=i/(4*s),u=t?e.ceil(u):e.max((0|u)-this._minBufferSize,0);if(t=u*s,i=e.min(4*t,i),t){for(var a=0;t>a;a+=s)this._doProcessBlock(r,a);a=r.splice(0,t),n.sigBytes-=i}return new o.init(a,i)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=c.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return(new e.init(n)).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return(new h.HMAC.init(e,n)).finalize(t)}}});var h=n.algo={};return n}(Math);!function(){var e=ar,t=e.lib,n=t.WordArray,r=t.Hasher,t=e.algo,i=n.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),o=n.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),a=n.create([0,1518500249,1859775393,2400959708,2840853838]),f=n.create([1352829926,1548603684,1836072691,2053994217,0]),t=t.RIPEMD160=r.extend({_doReset:function(){this._hash=n.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;16>n;n++){var r=t+n,l=e[r];e[r]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var c,h,p,d,v,m,g,y,b,w,r=this._hash.words,l=a.words,E=f.words,S=i.words,x=s.words,T=o.words,N=u.words;m=c=r[0],g=h=r[1],y=p=r[2],b=d=r[3],w=v=r[4];for(var C,n=0;80>n;n+=1)C=c+e[t+S[n]]|0,C=16>n?C+((h^p^d)+l[0]):32>n?C+((h&p|~h&d)+l[1]):48>n?C+(((h|~p)^d)+l[2]):64>n?C+((h&d|p&~d)+l[3]):C+((h^(p|~d))+l[4]),C|=0,C=C<<T[n]|C>>>32-T[n],C=C+v|0,c=v,v=d,d=p<<10|p>>>22,p=h,h=C,C=m+e[t+x[n]]|0,C=16>n?C+((g^(y|~b))+E[0]):32>n?C+((g&b|y&~b)+E[1]):48>n?C+(((g|~y)^b)+E[2]):64>n?C+((g&y|~g&b)+E[3]):C+((g^y^b)+E[4]),C|=0,C=C<<N[n]|C>>>32-N[n],C=C+w|0,m=w,w=b,b=y<<10|y>>>22,y=g,g=C;C=r[1]+p+b|0,r[1]=r[2]+d+w|0,r[2]=r[3]+v+m|0,r[3]=r[4]+c+g|0,r[4]=r[0]+h+y|0,r[0]=C},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;for(t[r>>>5]|=128<<24-r%32,t[(r+64>>>9<<4)+14]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process(),e=this._hash,t=e.words,n=0;5>n;n++)r=t[n],t[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return e},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});e.RIPEMD160=r._createHelper(t),e.HmacRIPEMD160=r._createHmacHelper(t)}(Math),t.exports.crypto31=ar;var fr,lr=0xdeadbeefcafe,cr=15715070==(16777215&lr);cr&&"Microsoft Internet Explorer"==tr.appName?(r.prototype.am=o,fr=30):cr&&"Netscape"!=tr.appName?(r.prototype.am=s,fr=26):(r.prototype.am=u,fr=28),r.prototype.DB=fr,r.prototype.DM=(1<<fr)-1,r.prototype.DV=1<<fr;var hr=52;r.prototype.FV=Math.pow(2,hr),r.prototype.F1=hr-fr,r.prototype.F2=2*fr-hr;var pr="0123456789abcdefghijklmnopqrstuvwxyz",dr=new Array,vr,mr;for(vr="0".charCodeAt(0),mr=0;9>=mr;++mr)dr[vr++]=mr;for(vr="a".charCodeAt(0),mr=10;36>mr;++mr)dr[vr++]=mr;for(vr="A".charCodeAt(0),mr=10;36>mr;++mr)dr[vr++]=mr;O.prototype.convert=M,O.prototype.revert=_,O.prototype.reduce=D,O.prototype.mulTo=P,O.prototype.sqrTo=H,j.prototype.convert=F,j.prototype.revert=I,j.prototype.reduce=q,j.prototype.mulTo=U,j.prototype.sqrTo=R,r.prototype.copyTo=l,r.prototype.fromInt=c,r.prototype.fromString=p,r.prototype.clamp=d,r.prototype.dlShiftTo=E,r.prototype.drShiftTo=S,r.prototype.lShiftTo=x,r.prototype.rShiftTo=T,r.prototype.subTo=N,r.prototype.multiplyTo=C,r.prototype.squareTo=k,r.prototype.divRemTo=L,r.prototype.invDigit=B,r.prototype.isEven=z,r.prototype.exp=W,r.prototype.toString=v,r.prototype.negate=m,r.prototype.abs=g,r.prototype.compareTo=y,r.prototype.bitLength=w,r.prototype.mod=A,r.prototype.modPowInt=X,r.ZERO=h(0),r.ONE=h(1),Bt.prototype.convert=jt,Bt.prototype.revert=jt,Bt.prototype.mulTo=Ft,Bt.prototype.sqrTo=It,zt.prototype.convert=Wt,zt.prototype.revert=Xt,zt.prototype.reduce=Vt,zt.prototype.mulTo=Jt,zt.prototype.sqrTo=$t;var gr=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],yr=(1<<26)/gr[gr.length-1];r.prototype.chunkSize=Q,r.prototype.toRadix=Y,r.prototype.fromRadix=Z,r.prototype.fromNumber=et,r.prototype.bitwiseTo=st,r.prototype.changeBit=St,r.prototype.addTo=Ct,r.prototype.dMultiply=Pt,r.prototype.dAddOffset=Ht,r.prototype.multiplyLowerTo=Rt,r.prototype.multiplyUpperTo=Ut,r.prototype.modInt=Gt,r.prototype.millerRabin=en,r.prototype.clone=V,r.prototype.intValue=$,r.prototype.byteValue=J,r.prototype.shortValue=K,r.prototype.signum=G,r.prototype.toByteArray=tt,r.prototype.equals=nt,r.prototype.min=rt,r.prototype.max=it,r.prototype.and=ut,r.prototype.or=ft,r.prototype.xor=ct,r.prototype.andNot=pt,r.prototype.not=dt,r.prototype.shiftLeft=vt,r.prototype.shiftRight=mt,r.prototype.getLowestSetBit=yt,r.prototype.bitCount=wt,r.prototype.testBit=Et,r.prototype.setBit=xt,r.prototype.clearBit=Tt,r.prototype.flipBit=Nt,r.prototype.add=kt,r.prototype.subtract=Lt,r.prototype.multiply=At,r.prototype.divide=Mt,r.prototype.remainder=_t,r.prototype.divideAndRemainder=Dt,r.prototype.modPow=Kt,r.prototype.modInverse=Yt,r.prototype.pow=qt,r.prototype.gcd=Qt,r.prototype.isProbablePrime=Zt,r.prototype.square=Ot,t.exports.BigInteger=r,tn.prototype.init=nn,tn.prototype.next=rn;var br=256;r.valueOf=h,r.prototype.toByteArrayUnsigned=function(){var e=this.abs().toByteArray();return e.length?(0==e[0]&&(e=e.slice(1)),e.map(function(e){return 0>e?e+256:e})):e},r.fromByteArrayUnsigned=function(e){return e.length?new r(128&e[0]?[0].concat(e):e):e.valueOf(0)},r.prototype.toByteArraySigned=function(){var e=this.abs().toByteArrayUnsigned(),t=this.compareTo(r.ZERO)<0;return t?128&e[0]?e.unshift(128):e[0]|=128:128&e[0]&&e.unshift(0),e},r.fromByteArraySigned=function(e){return 128&e[0]?(e[0]&=127,r.fromByteArrayUnsigned(e).negate()):r.fromByteArrayUnsigned(e)};var wr=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];"undefined"==typeof window.console&&(window.console={});for(var Er=0;Er<wr.length;++Er)"undefined"==typeof window.console[wr[Er]]&&(window.console[wr[Er]]=function(){});Bitcoin.Util={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},makeFilledArray:function(e,t){for(var n=[],r=0;e>r;)n[r++]=t;return n},numToVarInt:function(e){if(253>e)return[e];if(65536>e)return[253,255&e,e>>>8];if(4294967296>e)return[254].concat(rr.util.wordsToBytes([e]).reverse());throw"quadword not implemented"},valueToBigInt:function(e){return e instanceof r?e:r.fromByteArrayUnsigned(e)},formatValue:function(e){for(var t=this.valueToBigInt(e).toString(),n=t.length>8?t.substr(0,t.length-8):"0",r=t.length>8?t.substr(t.length-8):t;r.length<8;)r="0"+r;for(r=r.replace(/0*$/,"");r.length<2;)r+="0";return n+"."+r},parseValue:function(e){for(var t=e.split("."),n=t[0],i=t[1]||"0";i.length<8;)i+="0";i=i.replace(/^0+/g,"");var s=r.valueOf(parseInt(n));return s=s.multiply(r.valueOf(1e8)),s=s.add(r.valueOf(parseInt(i)))},sha256ripe160:function(e){return rr.RIPEMD160(rr.SHA256(e,{asBytes:!0}),{asBytes:!0})}};for(var Er in rr.util)rr.util.hasOwnProperty(Er)&&(Bitcoin.Util[Er]=rr.util[Er]);var Sr,xr,Tr;if(null==xr){xr=new Array,Tr=0;var Nr;if("Netscape"==tr.appName&&tr.appVersion<"5"&&window.crypto){var Cr=window.crypto.random(32);for(Nr=0;Nr<Cr.length;++Nr)xr[Tr++]=255&Cr.charCodeAt(Nr)}for(;br>Tr;)Nr=Math.floor(65536*Math.random()),xr[Tr++]=Nr>>>8,xr[Tr++]=255&Nr;Tr=0,un()}ln.prototype.nextBytes=function(){throw new Error("Should not use old RNG")},cn.prototype.equals=hn,cn.prototype.toBigInteger=pn,cn.prototype.negate=dn,cn.prototype.add=vn,cn.prototype.subtract=mn,cn.prototype.multiply=gn,cn.prototype.square=yn,cn.prototype.divide=bn,wn.prototype.getX=En,wn.prototype.getY=Sn,wn.prototype.equals=xn,wn.prototype.isInfinity=Tn,wn.prototype.negate=Nn,wn.prototype.add=Cn,wn.prototype.twice=kn,wn.prototype.multiply=Ln,wn.prototype.multiplyTwo=An,On.prototype.getQ=Mn,On.prototype.getA=_n,On.prototype.getB=Dn,On.prototype.equals=Pn,On.prototype.getInfinity=Hn,On.prototype.fromBigInteger=Bn,On.prototype.decodePointHex=jn,t.exports.ECPointFp=wn,t.exports.ECFieldElementFp=cn,Fn.prototype.getCurve=In,Fn.prototype.getG=qn,Fn.prototype.getN=Rn,Fn.prototype.getH=Un,t.exports.getSECCurveByName=Yn,cn.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},wn.prototype.getEncoded=function(e){var t=this.getX().toBigInteger(),n=this.getY().toBigInteger(),r=Zn(t,32);return e?r.unshift(n.isEven()?2:3):(r.unshift(4),r=r.concat(Zn(n,32))),r},wn.decodeFrom=function(e,t){var n=t[0],i=t.length-1;if(4===n)var s=t.slice(1,1+i/2),o=t.slice(1+i/2,1+i),u=r.fromByteArrayUnsigned(s),a=r.fromByteArrayUnsigned(o);else{var s=t.slice(1),u=r.fromByteArrayUnsigned(s),f=e.getQ(),l=u.multiply(u).multiply(u).add(new r("7")).mod(f),c=f.add(new r("1")).divide(new r("4")),a=l.modPow(c,f);a.mod(new r("2")).toString()!=""+n%2&&(a=f.subtract(a))}return new wn(e,e.fromBigInteger(u),e.fromBigInteger(a))},wn.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),n=e.y.subtract(this.y),r=n.divide(t),i=r.square().subtract(this.x).subtract(e.x),s=r.multiply(this.x.subtract(i)).subtract(this.y);return new wn(this.curve,i,s)},wn.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(r.valueOf(2)),t=this.curve.fromBigInteger(r.valueOf(3)),n=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),i=n.square().subtract(this.x.multiply(e)),s=n.multiply(this.x.subtract(i)).subtract(this.y);return new wn(this.curve,i,s)},wn.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,i=n.multiply(new r("3")),s=this.negate(),o=this;for(t=i.bitLength()-2;t>0;--t){o=o.twice();var u=i.testBit(t),a=n.testBit(t);u!=a&&(o=o.add2D(u?this:s))}return o},wn.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),r=this.curve.getB().toBigInteger(),i=this.curve.getQ(),s=t.multiply(t).mod(i),o=e.multiply(e).multiply(e).add(n.multiply(e)).add(r).mod(i);return s.equals(o)},wn.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},wn.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(t.compareTo(r.ONE)<0||t.compareTo(e.subtract(r.ONE))>0)throw new Error("x coordinate out of bounds");if(n.compareTo(r.ONE)<0||n.compareTo(e.subtract(r.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0},Bitcoin.ECDSA=function(){function e(e,t,n,i){for(var s=Math.max(t.bitLength(),i.bitLength()),o=e.add2D(n),u=e.curve.getInfinity(),a=s-1;a>=0;--a)u=u.twice2D(),u.z=r.ONE,t.testBit(a)?u=u.add2D(i.testBit(a)?o:e):i.testBit(a)&&(u=u.add2D(n));return u}var t=Yn("secp256k1"),n=new ln,i=null,s={getBigRandom:function(e){return(new r(e.bitLength(),n)).mod(e.subtract(r.ONE)).add(r.ONE)},sign:function(e,n){var i=n,o=t.getN(),u=r.fromByteArrayUnsigned(e);do var a=s.getBigRandom(o),f=t.getG(),l=f.multiply(a),c=l.getX().toBigInteger().mod(o);while(c.compareTo(r.ZERO)<=0);var h=a.modInverse(o).multiply(u.add(i.multiply(c))).mod(o);return s.serializeSig(c,h)},verify:function(e,n,i){var o,u;if(Bitcoin.Util.isArray(n)){var a=s.parseSig(n);o=a.r,u=a.s}else{if("object"!=typeof n||!n.r||!n.s)throw"Invalid value for signature";o=n.r,u=n.s}var f;if(i instanceof wn)f=i;else{if(!Bitcoin.Util.isArray(i))throw"Invalid format for pubkey value, must be byte array or ECPointFp";f=wn.decodeFrom(t.getCurve(),i)}var l=r.fromByteArrayUnsigned(e);return s.verifyRaw(l,o,u,f)},verifyRaw:function(e,n,i,s){var o=t.getN(),u=t.getG();if(n.compareTo(r.ONE)<0||n.compareTo(o)>=0)return!1;if(i.compareTo(r.ONE)<0||i.compareTo(o)>=0)return!1;var a=i.modInverse(o),f=e.multiply(a).mod(o),l=n.multiply(a).mod(o),c=u.multiply(f).add(s.multiply(l)),h=c.getX().toBigInteger().mod(o);return h.equals(n)},serializeSig:function(e,t){var n=e.toByteArraySigned(),r=t.toByteArraySigned(),i=[];return i.push(2),i.push(n.length),i=i.concat(n),i.push(2),i.push(r.length),i=i.concat(r),i.unshift(i.length),i.unshift(48),i},parseSig:function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(t=2,2!=e[t])throw new Error("First element in signature must be a DERInteger");var n=e.slice(t+2,t+2+e[t+1]);if(t+=2+e[t+1],2!=e[t])throw new Error("Second element in signature must be a DERInteger");var i=e.slice(t+2,t+2+e[t+1]);t+=2+e[t+1];var s=r.fromByteArrayUnsigned(n),o=r.fromByteArrayUnsigned(i);return{r:s,s:o}},parseSigCompact:function(e){if(65!==e.length)throw"Signature has the wrong length";var n=e[0]-27;if(0>n||n>7)throw"Invalid signature type";var i=t.getN(),s=r.fromByteArrayUnsigned(e.slice(1,33)).mod(i),o=r.fromByteArrayUnsigned(e.slice(33,65)).mod(i);return{r:s,s:o,i:n}},recoverPubKey:function(n,o,u,a){a=3&a;var f=1&a,l=a>>1,c=t.getN(),h=t.getG(),p=t.getCurve(),d=p.getQ(),v=p.getA().toBigInteger(),m=p.getB().toBigInteger();i||(i=d.add(r.ONE).divide(r.valueOf(4)));var g=l?n.add(c):n,y=g.multiply(g).multiply(g).add(v.multiply(g)).add(m).mod(d),b=y.modPow(i,d),w=(b.isEven()?a%2:(a+1)%2,(b.isEven()?!f:f)?b:d.subtract(b)),E=new wn(p,p.fromBigInteger(g),p.fromBigInteger(w));E.validate();var S=r.fromByteArrayUnsigned(u),x=r.ZERO.subtract(S).mod(c),T=n.modInverse(c),N=e(E,o,h,x).multiply(T);if(N.validate(),!s.verifyRaw(S,n,o,N))throw"Pubkey recovery unsuccessful";var C=new Bitcoin.ECKey;return C.pub=N,C},calcPubkeyRecoveryParam:function(e,t,n,r){for(var i=0;4>i;i++)try{var s=Bitcoin.ECDSA.recoverPubKey(t,n,r,i);if(s.getBitcoinAddress().toString()==e)return i}catch(o){}throw"Unable to find valid recovery factor"}};return s}(),Bitcoin.ECKey=function(){var e=Bitcoin.ECDSA,t=Yn("secp256k1"),n=(new ln,function(e){if(e)e instanceof r?this.priv=e:Bitcoin.Util.isArray(e)?this.priv=r.fromByteArrayUnsigned(e):"string"==typeof e&&(this.priv=r.fromByteArrayUnsigned(51==e.length&&"5"==e[0]?n.decodeString(e):rr.util.hexToBytes(e)));else{t.getN()}this.compressed=!!n.compressByDefault});return n.compressByDefault=!1,n.prototype.setCompressed=function(e){this.compressed=!!e},n.prototype.getPub=function(){return this.getPubPoint().getEncoded(this.compressed)},n.prototype.getPubPoint=function(){return this.pub||(this.pub=t.getG().multiply(this.priv)),this.pub},n.prototype.getPubKeyHash=function(){return this.pubKeyHash?this.pubKeyHash:this.pubKeyHash=Bitcoin.Util.sha256ripe160(this.getPub())},n.prototype.getBitcoinAddress=function(){var e=this.getPubKeyHash(),t=new Bitcoin.Address(e);return t},n.prototype.getExportedPrivateKey=function(){for(var e=this.priv.toByteArrayUnsigned();e.length<32;)e.unshift(0);e.unshift(128);var t=rr.SHA256(rr.SHA256(e,{asBytes:!0}),{asBytes:!0}),n=e.concat(t.slice(0,4));return Bitcoin.Base58.encode(n)},n.prototype.setPub=function(e){this.pub=wn.decodeFrom(t.getCurve(),e)},n.prototype.toString=function(e){return"base64"===e?rr.util.bytesToBase64(this.priv.toByteArrayUnsigned()):rr.util.bytesToHex(this.priv.toByteArrayUnsigned())},n.prototype.sign=function(t){return e.sign(t,this.priv)},n.prototype.verify=function(t,n){return e.verify(t,n,this.getPub())},n.decodeString=function(e){var t=Bitcoin.Base58.decode(e),n=t.slice(0,33),r=rr.SHA256(rr.SHA256(n,{asBytes:!0}),{asBytes:!0});if(r[0]!=t[33]||r[1]!=t[34]||r[2]!=t[35]||r[3]!=t[36])throw"Checksum validation failed!";var i=n.shift();if(128!=i)throw"Version "+i+" not supported!";return n},n}(),t.exports.ECKey=Bitcoin.ECKey},{}],"./config":[function(e,t,n){t.exports=e("4itQ50")},{}],"4itQ50":[function(e,t,n){t.exports={network:"livenet",logger:"normal"}},{}],"./const":[function(e,t,n){t.exports=e("f08cvL")},{}],f08cvL:[function(e,t,n){MSG={TX:1,BLOCK:2,FILTERED_BLOCK:3},MSG.to_str=function(e){switch(e){case MSG.TX:return"transaction";case MSG.BLOCK:return"block";case MSG.FILTERED_BLOCK:return"filtered block";default:return"unknown"}},n.MSG=MSG},{}],"G+CcXD":[function(e,t,n){(function(n){"use strict";function r(){r.super(this,arguments)}var i=e("soop").imports(),s=i.coinUtil||e("../util"),o=i.parent||e("../util/VersionedData"),u=i.networks||e("../networks"),a=i.Script||e("./Script");r.parent=o,o.applyEncodingsTo(r),r.fromPubKey=function(e,t){if(t||(t="livenet"),33!==e.length&&65!==e.length)throw new Error("Invalid public key");var n=u[t].addressVersion,i=s.sha256ripe160(e);return new r(n,i)},r.fromKey=function(e,t){return r.fromPubKey(e.public,t)},r.fromPubKeys=function(e,t,n,i){n||(n="livenet");for(var s in t){var o=t[s];if(33!=o.length&&65!=o.length)throw new Error("Invalid public key")}var u=a.createMultisig(e,t,i);return r.fromScript(u,n)},r.fromScript=function(e,t){t||(t="livenet"),"string"==typeof e&&(e=new a(new n(e,"hex")));var i=u[t].P2SHVersion,o=e.getBuffer(),f=s.sha256ripe160(o);return new r(i,f)},r.fromScriptPubKey=function(e,t){"string"==typeof e&&(e=new a(new n(e,"hex"))),t||(t="livenet");var i,o=[],f=e.capture();if(f){var l=e.classify();switch(l){case a.TX_PUBKEY:f[0]=s.sha256ripe160(f[0]),i=u[t].addressVersion;break;case a.TX_PUBKEYHASH:i=u[t].addressVersion;break;case a.TX_MULTISIG:i=u[t].addressVersion;for(var c in f)f[c]=s.sha256ripe160(f[c]);break;case a.TX_SCRIPTHASH:i=u[t].P2SHVersion}for(var c in f)o.push(new r(i,f[c]))}return o},r.prototype.validate=function(){if(this.doAsBinary(function(){if(r.super(this,"validate",arguments),21!==this.data.length)throw new Error("invalid data length")}),"undefined"==typeof this.network())throw new Error("invalid network")},r.prototype.isValid=function(){var e=r.super(this,"isValid",arguments);return e},r.prototype.network=function(){var e,t=this.version(),n=u.livenet,r=u.testnet;return t===n.addressVersion||t===n.P2SHVersion?e=n:(t===r.addressVersion||t===r.P2SHVersion)&&(e=r),e},r.prototype.isScript=function(){return this.isValid()&&this.version()===this.network().P2SHVersion},t.exports=e("soop")(r)}).call(this,e("buffer").Buffer)},{"../networks":"ULNIu2","../util":179,"../util/VersionedData":"QLzNQg","./Script":"hQ0t76",buffer:87,soop:164}],"./lib/Address":[function(e,t,n){t.exports=e("G+CcXD")},{}],"./lib/BIP32":[function(e,t,n){t.exports=e("Dad1wf")},{}],Dad1wf:[function(e,t,n){(function(n){function r(e,t){if(e.length<t)throw new Error("not enough data");for(var n=0,r=0;t>r;r++)n*=256,n+=e[r];return n}function i(e){return r(e,1)}function s(e){return r(e,4)}var o=e("soop").imports(),u=o.base58||e("./Base58").base58,a=o.coinUtil||e("../util"),f=o.Key||e("./Key"),l=o.Point||e("./Point"),c=o.SecureRandom||e("./SecureRandom"),h=o.bignum||e("./Bignum"),p=e("../networks"),d=new h("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141",16),v=(new h("79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798",16),function(e){if("undefined"==typeof e||"mainnet"==e||"livenet"==e?(e="livenet",this.version=p.livenet.bip32privateVersion):"testnet"==e&&(this.version=p.testnet.bip32privateVersion),"livenet"==e||"testnet"==e)return this.depth=0,this.parentFingerprint=new n([0,0,0,0]),this.childIndex=new n([0,0,0,0]),this.chainCode=c.getRandomBuffer(32),this.eckey=f.generateSync(),this.hasPrivateKey=!0,this.pubKeyHash=a.sha256ripe160(this.eckey.public),this.buildExtendedPublicKey(),void this.buildExtendedPrivateKey();if("string"==typeof e){var t=u.decode(e);if(82!=t.length)throw new Error("Not enough data, expected 82 and received "+t.length);var r=t.slice(78,82);e=t.slice(0,78);var i=a.sha256(a.sha256(e));if(i[0]!=r[0]||i[1]!=r[1]||i[2]!=r[2]||i[3]!=r[3])throw new Error("Invalid checksum")}void 0!==e&&null!==e&&this.initFromBytes(e)});v.seed=function(e,t){if(t||(t="livenet"),n.isBuffer(e)||(e=new n(e,"hex")),e.length<16)return!1;var r=a.sha512hmac(e,new n("Bitcoin seed")),i=new v(null);return i.depth=0,i.parentFingerprint=new n([0,0,0,0]),i.childIndex=new n([0,0,0,0]),i.chainCode=r.slice(32,64),i.version=p[t].bip32privateVersion,i.eckey=new f,i.eckey.private=r.slice(0,32),i.eckey.regenerateSync(),i.hasPrivateKey=!0,i.pubKeyHash=a.sha256ripe160(i.eckey.public),i.buildExtendedPublicKey(),i.buildExtendedPrivateKey(),i},v.prototype.initFromBytes=function(e){if(78!=e.length)throw new Error("not enough data");this.version=s(e.slice(0,4)),this.depth=i(e.slice(4,5)),this.parentFingerprint=e.slice(5,9),this.childIndex=s(e.slice(9,13)),this.chainCode=e.slice(13,45);var t=e.slice(45,78),n=this.version==p.livenet.bip32privateVersion||this.version==p.testnet.bip32privateVersion,r=this.version==p.livenet.bip32publicVersion||this.version==p.testnet.bip32publicVersion;if(n&&0==t[0])this.eckey=new f,this.eckey.private=t.slice(1,33),this.eckey.compressed=!0,this.eckey.regenerateSync(),this.pubKeyHash=a.sha256ripe160(this.eckey.public),this.hasPrivateKey=!0;else{if(!r||2!=t[0]&&3!=t[0])throw new Error("Invalid key");this.eckey=new f,this.eckey.public=t,this.pubKeyHash=a.sha256ripe160(this.eckey.public),this.hasPrivateKey=!1}this.buildExtendedPublicKey(),this.buildExtendedPrivateKey()},v.prototype.buildExtendedPublicKey=function(){this.extendedPublicKey=new n([]);var e=null;switch(this.version){case p.livenet.bip32publicVersion:case p.livenet.bip32privateVersion:e=p.livenet.bip32publicVersion;break;case p.testnet.bip32publicVersion:case p.testnet.bip32privateVersion:e=p.testnet.bip32publicVersion;break;default:throw new Error("Unknown version")}this.extendedPublicKey=n.concat([new n([e>>24]),new n([e>>16&255]),new n([e>>8&255]),new n([255&e]),new n([this.depth]),this.parentFingerprint,new n([this.childIndex>>>24]),new n([this.childIndex>>>16&255]),new n([this.childIndex>>>8&255]),new n([255&this.childIndex]),this.chainCode,this.eckey.public])},v.prototype.extendedPublicKeyString=function(e){if(void 0===e||"base58"===e){var t=a.sha256(a.sha256(this.extendedPublicKey)),r=t.slice(0,4),i=n.concat([this.extendedPublicKey,r]);return u.encode(i)}if("hex"===e)return this.extendedPublicKey.toString("hex");throw new Error("bad format")},v.prototype.buildExtendedPrivateKey=function(){if(this.hasPrivateKey){this.extendedPrivateKey=new n([]);var e=this.version;this.extendedPrivateKey=n.concat([new n([e>>24]),new n([e>>16&255]),new n([e>>8&255]),new n([255&e]),new n([this.depth]),this.parentFingerprint,new n([this.childIndex>>>24]),new n([this.childIndex>>>16&255]),new n([this.childIndex>>>8&255]),new n([255&this.childIndex]),this.chainCode,new n([0]),this.eckey.private])}},v.prototype.extendedPrivateKeyString=function(e){if(void 0===e||"base58"===e){var t=a.sha256(a.sha256(this.extendedPrivateKey)),r=t.slice(0,4),i=n.concat([this.extendedPrivateKey,r]);return u.encode(i)}if("hex"===e)return this.extendedPrivateKey.toString("hex");throw new Error("bad format")},v.prototype.derive=function(e){var t=e.split("/");if("m"==e||"M"==e||"m'"==e||"M'"==e)return this;var n=this;for(var r in t){var i=t[r];if(0!=r){var s=i.length>1&&"'"==i[i.length-1],o=2147483647&parseInt(s?i.slice(0,i.length-1):i);s&&(o+=2147483648),n=n.deriveChild(o)}else if("m"!=i)throw new Error("invalid path")}return n},v.prototype.deriveChild=function(e){var t=[];t.push(e>>24&255),t.push(e>>16&255),t.push(e>>8&255),t.push(255&e),t=new n(t);var r=0!=(2147483648&e),i=this.version==p.livenet.bip32privateVersion||this.version==p.testnet.bip32privateVersion;if(r&&(!this.hasPrivateKey||!i))throw new Error("Cannot do private key derivation without private key");var s=null;if(this.hasPrivateKey){var o=null;o=n.concat(r?[new n([0]),this.eckey.private,t]:[this.eckey.public,t]);var u=a.sha512hmac(o,this.chainCode),c=h.fromBuffer(u.slice(0,32),{size:32}),m=u.slice(32,64),g=h.fromBuffer(this.eckey.private,{size:32}),y=c.add(g).mod(d);s=new v(null),s.chainCode=m,s.eckey=new f,s.eckey.private=y.toBuffer({size:32}),s.eckey.regenerateSync(),s.hasPrivateKey=!0}else{var o=n.concat([this.eckey.public,t]),u=a.sha512hmac(o,this.chainCode),c=u.slice(0,32),m=u.slice(32,64),b=new f;b.private=c,b.regenerateSync(),b.compressed=!1;var w=l.fromUncompressedPubKey(b.public),E=new f;E.public=this.eckey.public,E.compressed=!1;var S=l.fromUncompressedPubKey(E.public),x=l.add(w,S).toUncompressedPubKey();s=new v(null),s.chainCode=new n(m);var T=new f;T.public=x,T.compressed=!0,s.eckey=T,s.hasPrivateKey=!1}return s.childIndex=e,s.parentFingerprint=this.pubKeyHash.slice(0,4),s.version=this.version,s.depth=this.depth+1,s.eckey.compressed=!0,s.pubKeyHash=a.sha256ripe160(s.eckey.public),s.buildExtendedPublicKey(),s.buildExtendedPrivateKey(),s},t.exports=e("soop")(v)}).call(this,e("buffer").Buffer)},{"../networks":"ULNIu2","../util":179,"./Base58":"6VqyzY","./Bignum":"9Sbj2J","./Key":"aEfkTx","./Point":"LK/jwR","./SecureRandom":"BaKCfn",buffer:87,soop:164}],"./lib/Base58":[function(e,t,n){t.exports=e("6VqyzY")},{}],"6VqyzY":[function(e,t,n){(function(t){function r(e){return new t(s.createHash("sha256").update(e).digest("binary"),"binary")}function i(e){return r(r(e))}for(var s=e("crypto"),o=e("./Bignum"),u=new t(1024),a=new t(0),f="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",l=f[0],c=new t(f,"ascii"),h={},p=0;p<f.length;p++)h[f[p]]=p;var d={encode:function(e){var n,r,i=o.fromBuffer(e);n=e.length<512?u:new t(e.length<<1);for(var s=n.length-1;i.gt(0);)r=i.mod(58),i=i.div(58),n[s]=c[r.toNumber()],s--;for(var a=0;0==e[a];)n[s]=c[0],a++,s--;return n.slice(s+1,n.length).toString("ascii")},decode:function(e){if(0==e.length)return a;for(var n=o(0),r=0;r<e.length;r++)n.mul(58),n=n.mul(58),n=n.add(h[e[r]]);for(var r=0;r<e.length&&e[r]==l;)r++;if(r>0){var i=new t(r);return i.fill(0),r==e.length?i:(n=n.toBuffer(),t.concat([i,n],r+n.length))}return n.toBuffer()}},v={encode:function(e){var n=new t(e.length+4),r=i(e);return e.copy(n),r.copy(n,e.length),d.encode(n)},decode:function(e){var t=d.decode(e);if(t.length<4)throw new Error("invalid input: too short");var n=t.slice(0,-4),r=t.slice(-4),s=i(n),o=s.slice(0,4);if(r.toString()!=o.toString())throw new Error("checksum mismatch");return n}};n.setBuffer=function(e){u=e},n.base58=d,n.base58Check=v,n.encode=d.encode,n.decode=d.decode}).call(this,e("buffer").Buffer)},{"./Bignum":"9Sbj2J",buffer:87,crypto:91}],"9Sbj2J":[function(e,t,n){(function(n){return n.versions?void (t.exports=e("bignum")):void (t.exports=e("./browser/Bignum"))}).call(this,e("/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"./browser/Bignum":64,"/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":103,bignum:75}],"./lib/Bignum":[function(e,t,n){t.exports=e("9Sbj2J")},{}],pJEQEB:[function(e,t,n){(function(n){function r(e){"object"!=typeof e&&(e={}),this.hash=e.hash||null,this.prev_hash=e.prev_hash||s.NULL_HASH,this.merkle_root=e.merkle_root||s.NULL_HASH,this.timestamp=e.timestamp||0,this.bits=e.bits||0,this.nonce=e.nonce||0,this.version=e.version||0,this.height=e.height||0,this.size=e.size||0,this.active=e.active||!1,this.chainWork=e.chainWork||s.EMPTY_BUFFER,this.txs=e.txs||[]}var i=e("soop").imports(),s=i.util||e("../util"),o=(i.Debug1||function(){},i.Script||e("./Script")),u=i.Bignum||e("./Bignum"),a=(i.Binary||e("binary"),i.Step||e("step"),i.buffertools||e("buffertools")),f=i.Transaction||e("./Transaction"),l=f.In,c=f.Out,h=f.COINBASE_OP,p=i.VerificationError||e("../util/error").VerificationError,d={maxTimeOffset:7200,largestHash:u(2).pow(256)};r.prototype.getHeader=function(){var e=new n(80),t=0;return e.writeUInt32LE(this.version,t),t+=4,this.prev_hash.copy(e,t),t+=32,this.merkle_root.copy(e,t),t+=32,e.writeUInt32LE(this.timestamp,t),t+=4,e.writeUInt32LE(this.bits,t),t+=4,e.writeUInt32LE(this.nonce,t),t+=4,e},r.prototype.parse=function(e,t){if(this.version=e.word32le(),this.prev_hash=e.buffer(32),this.merkle_root=e.buffer(32),this.timestamp=e.word32le(),this.bits=e.word32le(),this.nonce=e.word32le(),this.txs=[],this.size=0,!t)for(var n=e.varInt(),r=0;n>r;r++){var i=new f;i.parse(e),this.txs.push(i)}},r.prototype.calcHash=function(){var e=this.getHeader();return s.twoSha256(e)},r.prototype.checkHash=function(){return this.hash&&this.hash.length?0==a.compare(this.calcHash(),this.hash):!1},r.prototype.getHash=function(){return this.hash&&this.hash.length||(this.hash=this.calcHash()),this.hash},r.prototype.checkProofOfWork=function(){var e=s.decodeDiffBits(this.bits),t=a.reverse(this.hash);if(a.compare(t,e)>0)throw new p("Difficulty target not met");return!0},r.prototype.getWork=function(){var e=s.decodeDiffBits(this.bits,!0);return d.largestHash.div(e.add(1))},r.prototype.checkTimestamp=function(){var e=(new Date).getTime()/1e3;if(this.timestamp>e+d.maxTimeOffset)throw new p("Timestamp too far into the future");return!0},r.prototype.checkTransactions=function(e){if(!Array.isArray(e)||e.length<=0)throw new p("No transactions");if(!e[0].isCoinBase())throw new p("First tx must be coinbase");for(var t=1;t<e.length;t++)if(e[t].isCoinBase())throw new p("Tx index "+t+" must not be coinbase");return!0},r.prototype.getMerkleTree=function(e){if(0==e.length)return[s.NULL_HASH.slice(0)];for(var t=e.map(function(e){return e instanceof f?e.getHash():e}),r=0,i=e.length;i>1;i=Math.floor((i+1)/2)){for(var o=0;i>o;o+=2){var u=Math.min(o+1,i-1),a=t[r+o],l=t[r+u];t.push(s.twoSha256(n.concat([a,l])))}r+=i}return t},r.prototype.calcMerkleRoot=function(e){var t=this.getMerkleTree(e);return t[t.length-1]},r.prototype.checkMerkleRoot=function(e){if(!this.merkle_root||!this.merkle_root.length)throw new p("No merkle root");if(0!==a.compare(this.calcMerkleRoot(e),new n(this.merkle_root)))throw new p("Merkle root incorrect");return!0},r.prototype.checkBlock=function(e){if(!this.checkHash())throw new p("Block hash invalid");if(this.checkProofOfWork(),this.checkTimestamp(),e&&(this.checkTransactions(e),!this.checkMerkleRoot(e)))throw new p("Merkle hash invalid");return!0},r.getBlockValue=function(e){var t=u(50).mul(s.COIN);return t=t.div(u(2).pow(Math.floor(e/21e4)))},r.prototype.getBlockValue=function(){return r.getBlockValue(this.height)},r.prototype.toString=function(){return"<Block "+s.formatHashAlt(this.hash)+" height="+this.height+">"},r.prototype.createCoinbaseTx=function(e){var t=new f;return t.ins.push(new l({s:s.EMPTY_BUFFER,q:4294967295,o:h})),t.outs.push(new c({v:s.bigIntToValue(this.getBlockValue()),s:o.createPubKeyOut(e).getBuffer()})),t},r.prototype.solve=function(e,t){var n=this.getHeader(),r=s.decodeDiffBits(this.bits);e.solve(n,r,t)},r.prototype.getStandardizedObject=function(e){var t={hash:s.formatHashFull(this.getHash()),version:this.version,prev_block:s.formatHashFull(this.prev_hash),mrkl_root:s.formatHashFull(this.merkle_root),time:this.timestamp,bits:this.bits,nonce:this.nonce,height:this.height};if(e){var n=this.getMerkleTree(e).map(function(e){return s.formatHashFull(e)});t.mrkl_root=n[n.length-1],t.n_tx=e.length;var r=80;r+=s.getVarIntSize(e.length),e=e.map(function(e){return e=e.getStandardizedObject(),r+=e.size,e}),t.size=r,t.tx=e,t.mrkl_tree=n}else t.size=this.size;return t},t.exports=e("soop")(r)}).call(this,e("buffer").Buffer)},{"../util":179,"../util/error":178,"./Bignum":"9Sbj2J","./Script":"hQ0t76","./Transaction":"LJhYtm",binary:76,buffer:87,buffertools:"fugeBw",soop:164,step:165}],"./lib/Block":[function(e,t,n){t.exports=e("pJEQEB")},{}],"./lib/Bloom":[function(e,t,n){t.exports=e("KifRG4")},{}],KifRG4:[function(e,t,n){function r(){this.data="",this.hashFuncs=0}function i(e,t){return e<<t|e>>32-t}function s(e,t){var n=4*e,r=t[n+0]<<0|t[n+1]<<8|t[n+2]<<16|t[n+3]<<24;return r}function o(e){return~~e}function u(e,t){return t>e?e:t}var a=36e3,f=50,l=.48045301391820144,c=.6931471805599453,h=[1,2,4,8,16,32,64,128];r.prototype.hash=function(e,t){for(var n=e*(4294967295/(this.hashFuncs-1)),r=3432918353,o=461845907,u=t.length/4,a=-u;a;a++){var f=s(a);f*=r,f=ROTLF32(f,15),f*=o,n^=f,n=ROTFL(n,13),n=5*n+3864292196}var l=t.slice(4*u),f=0;switch(3&t.length){case 3:f^=l[2]<<16;case 2:f^=l[1]<<8;case 1:f^=l[0],f*=r,f=i(f,15),f*=o,n^=f}return n^=t.length,n^=n>>16,n*=2246822507,n^=n>>13,n*=3266489909,n^=n>>16,n%(8*this.data.length)},r.prototype.insert=function(e){for(var t=0;t<this.hashFuncs;t++){var n=this.hash(t,e);this.data[n>>3]|=h[7&n]}},r.prototype.contains=function(e){for(var t=0;t<this.hashFuncs;t++){var n=this.hash(t,e);if(!(this.data[n>>3]&h[7&n]))return!1}return!0},r.prototype.sizeOk=function(){return this.data.length<=a&&this.hashFuncs<=f},r.prototype.init=function(e,t){var n=u(o(-1/l*e*Math.log(t)),8*a)/8;this.data[n]=0,this.hashFuncs=u(o(8*this.data.length/e*c),f)},t.exports=e("soop")(r)},{soop:164}],"./lib/Connection":[function(e,t,n){t.exports=e("DB/p3X")},{}],"DB/p3X":[function(e,t,n){(function(n){function r(t,n,s){if(r.super(this,arguments),this.config=s||l,this.network=c[this.config.network]||c.livenet,this.socket=t,this.peer=n,this.config.proxy){var o=i.Socks5Client||e("socks5-client");this.socket=new o(this.config.proxy.host,this.config.proxy.port)}this.active=!1,this.recvVer=0,this.sendVer=0,this.bestHeight=0,this.inbound=!!this.socket.server,this.getaddr=!1,this.buffers=new f,(new Date).getTime()>1329696e6&&(this.recvVer=209,this.sendVer=209),this.setupHandlers()}var i=e("soop").imports(),s=i.log||e("../util/log"),o=1e7,u=7e4,a=i.Put||e("bufferput"),f=i.Buffers||e("buffers");e("../patches/Buffers.monkey").patch(f);var l=i.config||e("../config"),c=i.networks||e("../networks"),h=i.Block||e("./Block"),p=i.Transaction||e("./Transaction"),d=i.util||e("../util"),v=i.Parser||e("../util/BinaryParser"),m=i.buffertools||e("buffertools"),g=i.doubleSha256||d.twoSha256,y=i.SecureRandom||e("./SecureRandom"),b=y.getPseudoRandomBuffer(8),w=6e4;r.parent=i.parent||e("events").EventEmitter,r.prototype.open=function(e){return"function"==typeof e&&this.once("connect",e),this.socket.connect(this.peer.port,this.peer.host),this},r.prototype.setupHandlers=function(){this.socket.addListener("connect",this.handleConnect.bind(this)),this.socket.addListener("error",this.handleError.bind(this)),this.socket.addListener("end",this.handleDisconnect.bind(this)),this.socket.addListener("data",function(e){var t=35;s.debug("["+this.peer+"] Recieved "+e.length+" bytes of data:"),s.debug("... "+m.toHex(e.slice(0,t>e.length?e.length:t))+(e.length>t?"...":""))}.bind(this)),this.socket.addListener("data",this.handleData.bind(this))},r.prototype.handleConnect=function(){this.inbound||this.sendVersion(),this.emit("connect",{conn:this,socket:this.socket,peer:this.peer})},r.prototype.handleError=function(e){110==e.errno||"ETIMEDOUT"==e.errno?s.info("connection timed out for "+this.peer):111==e.errno||"ECONNREFUSED"==e.errno?s.info("connection refused for "+this.peer):s.warn("connection with "+this.peer+" "+e.toString()),this.emit("error",{conn:this,socket:this.socket,peer:this.peer,err:e})},r.prototype.handleDisconnect=function(){this.emit("disconnect",{conn:this,socket:this.socket,peer:this.peer})},r.prototype.handleMessage=function(e){if(e){try{switch(e.command){case"version":if(0===m.compare(b,e.nonce))return void this.socket.end();this.inbound&&this.sendVersion(),e.version>=209&&this.sendMessage("verack",new n([])),this.sendVer=Math.min(e.version,u),e.version<209?this.recvVer=Math.min(e.version,u):this.once("verack",function(){this.recvVer=e.version}.bind(this)),this.bestHeight=e.start_height;break;case"verack":this.recvVer=Math.min(e.version,u),this.active=!0;break;case"ping":"object"==typeof e.nonce&&this.sendPong(e.nonce)}}catch(t){return void s.err('Error while handling "'+e.command+'" message from '+this.peer+":\n"+(t.stack?t.stack:t.toString()))}this.emit(e.command,{conn:this,socket:this.socket,peer:this.peer,message:e})}},r.prototype.sendPong=function(e){this.sendMessage("pong",e)},r.prototype.sendVersion=function(){var e="/BitcoinX:0.1/",t=new a;t.word32le(u),t.word64le(1),t.word64le(Math.round((new Date).getTime()/1e3)),t.pad(26),t.pad(26),t.put(b),t.varint(e.length),t.put(new n(e,"ascii")),t.word32le(0),this.sendMessage("version",t.buffer())},r.prototype.sendGetBlocks=function(e,t,r){t=t||d.NULL_HASH;var i=new a;i.word32le(this.sendVer),i.varint(e.length);for(var s=0;s<e.length;s++){if(32!=e[s].length)throw new Error("Invalid hash length");i.put(e[s])}var o=new n(t,"binary");if(32!=o.length)throw new Error("Invalid hash length");i.put(o);var u="getblocks";r&&(u="getheaders"),this.sendMessage(u,i.buffer())},r.prototype.sendGetHeaders=function(e,t){this.sendGetBlocks(e,t,!0)},r.prototype.sendGetData=function(e){var t=new a;t.varint(e.length);for(var n=0;n<e.length;n++)t.word32le(e[n].type),t.put(e[n].hash);this.sendMessage("getdata",t.buffer())},r.prototype.sendGetAddr=function(){var e=new a;this.sendMessage("getaddr",e.buffer())},r.prototype.sendInv=function(e){Array.isArray(e)||(e=[e]);var t=new a;t.varint(e.length),e.forEach(function(e){t.word32le(e instanceof h?2:1),t.put(e.getHash())}),this.sendMessage("inv",t.buffer())},r.prototype.sendHeaders=function(e){var t=new a;t.varint(e.length),e.forEach(function(e){t.put(e),t.word8(0)}),this.sendMessage("headers",t.buffer())},r.prototype.sendTx=function(e){this.sendMessage("tx",e.serialize())},r.prototype.sendBlock=function(e,t){var n=new a;n.put(e.getHeader()),n.varint(t.length),t.forEach(function(e){n.put(e.serialize())}),this.sendMessage("block",n.buffer())},r.prototype.sendMessage=function(e,t){try{var r=this.network.magic,i=new n(e,"ascii");if(i.length>12)throw"Command name too long";var o;o=this.sendVer>=209?g(t).slice(0,4):new n([]);var u=new a;u.put(r),u.put(i),u.pad(12-i.length),u.word32le(t.length),u.put(o),u.put(t);var f=u.buffer();s.debug("["+this.peer+"] Sending message "+e+" ("+t.length+" bytes)"),this.socket.write(f)}catch(l){s.err("Error while sending message to peer "+this.peer+": "+(l.stack?l.stack:l.toString()))}},r.prototype.handleData=function(e){return this.buffers.push(e),this.buffers.length>o?(s.err("Peer "+this.peer+" exceeded maxreceivebuffer, disconnecting."+(err.stack?err.stack:err.toString())),void this.socket.destroy()):void this.processData()},r.prototype.processData=function(){if(!(this.buffers.length<20)){for(var e=this.network.magic,t=0;;){if(this.buffers.get(t)===e[0]&&this.buffers.get(t+1)===e[1]&&this.buffers.get(t+2)===e[2]&&this.buffers.get(t+3)===e[3]){0!==t&&(s.debug("["+this.peer+"] Received "+t+" bytes of inter-message garbage: "),s.debug("... "+this.buffers.slice(0,t)),this.buffers.skip(t));break}if(t>this.buffers.length-4)return void this.buffers.skip(t);t++}var n=this.buffers.get(16)+(this.buffers.get(17)<<8)+(this.buffers.get(18)<<16)+(this.buffers.get(19)<<24),r=this.recvVer>=209?24:20,i=r+n;if(!(this.buffers.length<i)){var o=this.buffers.slice(4,16).toString("ascii").replace(/\0+$/,""),u=this.buffers.slice(r,i),a=this.recvVer>=209?this.buffers.slice(20,24):null;if(s.debug("["+this.peer+"] Received message "+o+" ("+n+" bytes)"),null!==a){var f=g(u).slice(0,4);if(0!==m.compare(f,a))return void s.err("["+this.peer+"] Checksum failed",{cmd:o,expected:f.toString("hex"),actual:a.toString("hex")})}var l;try{l=this.parseMessage(o,u)}catch(c){s.err("Error while parsing message "+o+" from "+this.peer+":\n"+(c.stack?c.stack:c.toString()))}l&&this.handleMessage(l),this.buffers.skip(i),this.processData()}}},r.prototype.parseMessage=function(e,t){var n,r=new v(t),i={command:e};switch(e){case"version":i.version=r.word32le(),i.services=r.word64le(),i.timestamp=r.word64le(),i.addr_me=r.buffer(26),i.addr_you=r.buffer(26),i.nonce=r.buffer(8),i.subversion=r.varStr(),i.start_height=r.word32le();break;case"inv":case"getdata":for(i.count=r.varInt(),i.invs=[],n=0;n<i.count;n++)i.invs.push({type:r.word32le(),hash:r.buffer(32)});break;case"headers":for(i.count=r.varInt(),i.headers=[],n=0;n<i.count;n++){var o=new h;o.parse(r),i.headers.push(o)}break;case"block":var u=new h;u.parse(r),i.block=u,i.version=u.version,i.prev_hash=u.prev_hash,i.merkle_root=u.merkle_root,i.timestamp=u.timestamp,i.bits=u.bits,i.nonce=u.nonce,i.txs=u.txs,i.size=t.length;break;case"tx":var a=new p;return a.parse(r),{command:e,version:a.version,lock_time:a.lock_time,ins:a.ins,outs:a.outs,tx:a};case"getblocks":case"getheaders":i.version=r.word32le();var f=r.varInt();for(i.starts=[],n=0;f>n;n++)i.starts.push(r.buffer(32));i.stop=r.buffer(32);break;case"addr":var l=r.varInt();for(l>1e3&&(l=1e3),i.addrs=[],n=0;l>n;n++)i.addrs.push({time:r.word32le(),services:r.word64le(),ip:r.buffer(16),port:r.word16be()});break;case"alert":i.payload=r.varStr(),i.signature=r.varStr();break;case"ping":this.recvVer>w&&(i.nonce=r.buffer(8));break;case"getaddr":case"verack":case"reject":break;default:return s.err("Connection.parseMessage(): Command not implemented",{cmd:e}),null}return i},t.exports=e("soop")(r)}).call(this,e("buffer").Buffer)},{"../config":"4itQ50","../networks":"ULNIu2","../patches/Buffers.monkey":"kytKTK","../util":179,"../util/BinaryParser":"b3ZSD7","../util/log":"AdF7pF","./Block":"pJEQEB","./SecureRandom":"BaKCfn","./Transaction":"LJhYtm",buffer:87,bufferput:"aXRuS6",buffers:"OBo3aV",buffertools:"fugeBw",events:96,"socks5-client":157,soop:164}],"./lib/Curve":[function(e,t,n){t.exports=e("Ynul1S")},{}],Ynul1S:[function(e,t,n){(function(n){"use strict";var r=e("soop"),i=r.bignum||e("./Bignum"),s=r.Point||e("./Point"),o=i.fromBuffer(new n("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","hex"),{size:32}),u=new s(i.fromBuffer(new n("79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","hex"),{size:32}),i.fromBuffer(new n("483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8","hex"),{size:32})),a=function(){};a.getG=function(){return u},a.getN=function(){return o},t.exports=e("soop")(a)}).call(this,e("buffer").Buffer)},{"./Bignum":"9Sbj2J","./Point":"LK/jwR",buffer:87,soop:164}],"ez/meX":[function(e,t,n){n.intFromCompact=function(e){var t=(e>>>24&255)>>>0,n=(16777215&e)<<8*(t-3)>>>0;return n}},{}],"./lib/Deserialize":[function(e,t,n){t.exports=e("ez/meX")},{}],hdzBvq:[function(e,t,n){(function(n){function r(e){this.mpk=new n(e,"hex")}var i=e("./Key"),s=e("./Point"),o=e("../util").twoSha256,u=(e("buffertools"),e("./Bignum"));r.prototype.getSequence=function(e,t){var r=e?1:0,i=n.concat([new n(t+":"+r+":","utf8"),this.mpk]);return u.fromBuffer(o(i))},r.prototype.generatePubKey=function(e,t){var r=u.fromBuffer(this.mpk.slice(0,32),{size:32}),o=u.fromBuffer(this.mpk.slice(32,64),{size:32}),a=new s(r,o),f=this.getSequence(t,e),l=new i;l.private=f.toBuffer(),l.regenerateSync(),l.compressed=!1;var c=s.fromUncompressedPubKey(l.public);pt=s.add(a,c);var h=pt.x.toBuffer({size:32}),p=pt.y.toBuffer({size:32}),d=new n([4]),v=new i;return v.compressed=!1,v.public=n.concat([d,h,p]),v.public},r.prototype.generateChangePubKey=function(e){return this.generatePubKey(e,!0)},t.exports=r}).call(this,e("buffer").Buffer)},{"../util":179,"./Bignum":"9Sbj2J","./Key":"aEfkTx","./Point":"LK/jwR",buffer:87,buffertools:"fugeBw"}],"./lib/Electrum":[function(e,t,n){t.exports=e("hdzBvq")},{}],"./lib/Key":[function(e,t,n){t.exports=e("aEfkTx")},{}],aEfkTx:[function(e,t,n){(function(n){return n.versions?void (t.exports=e("./node/Key")):void (t.exports=e("./browser/Key"))}).call(this,e("/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"./browser/Key":65,"./node/Key":69,"/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":103}],"./lib/Message":[function(e,t,n){t.exports=e("CBDCgz")},{}],CBDCgz:[function(e,t,n){(function(n){"use strict";var r=e("soop").imports(),i=r.coinUtil||e("../util"),s=r.Key||e("./Key"),o=function(){};o.sign=function(e,t){var n=o.magicHash(e),r=t.signSync(n);return r},o.verifyWithPubKey=function(e,t,n){var r=o.magicHash(t),i=new s;return 65==e.length&&(i.compressed=!1),i.public=e,i.verifySignatureSync(r,n)},o.magicBytes=new n("Bitcoin Signed Message:\n"),o.magicHash=function(e){var t=o.magicBytes,r=i.varIntBuf(t.length),s=new n(e),u=i.varIntBuf(s.length),a=n.concat([r,t,u,s]),f=i.twoSha256(a);return f},t.exports=e("soop")(o)}).call(this,e("buffer").Buffer)},{"../util":179,"./Key":"aEfkTx",buffer:87,soop:164}],"Zm7/h9":[function(e,t,n){function r(e){this.code=e}var i=e("soop").imports();r.prototype.toString=function(){return r.reverseMap[this.code]},r.map={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_NOP3:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255},r.reverseMap=[];for(var s in r.map)r.map.hasOwnProperty(s)&&(r.reverseMap[r.map[s]]=s.substr(3));r.asList=function(){var e=[];for(var t in r.map)r.map.hasOwnProperty(t)&&e.push(t);return e},t.exports=e("soop")(r)},{soop:164}],"./lib/Opcode":[function(e,t,n){t.exports=e("Zm7/h9")},{}],"./lib/Peer":[function(e,t,n){t.exports=e("oolY81")},{}],oolY81:[function(e,t,n){(function(n){function r(e,t,i){if("string"==typeof e){if(e.indexOf(":")&&!t){var s=e.split(":");e=s[0],t=s[1]}this.host=e,this.port=+t||8333}else if(e instanceof r)this.host=e.host,this.port=e.port;else{if(!n.isBuffer(e))throw new Error("Could not instantiate peer, invalid parameter type: "+typeof e);if(0!=u.compare(r.IPV6_IPV4_PADDING,e.slice(0,12)))throw new Error("IPV6 not supported yet! Cannot instantiate host.");this.host=Array.prototype.slice.apply(e.slice(12)).join("."),this.port=+t||8333}this.services=i?i:null,this.lastSeen=0}var i=e("soop").imports(),s=i.Net||e("net"),o=i.Binary||e("binary"),u=i.buffertools||e("buffertools");r.IPV6_IPV4_PADDING=new n([0,0,0,0,0,0,0,0,0,0,255,255]),r.prototype.createConnection=function(){return this.connection=s.createConnection(this.port,this.host),this.connection},r.prototype.getHostAsBuffer=function(){return new n(this.host.split("."))},r.prototype.toString=function(){return this.host+":"+this.port},r.prototype.toBuffer=function(){var e=o.put();return e.word32le(this.lastSeen),e.word64le(this.services),e.put(this.getHostAsBuffer()),e.word16be(this.port),e.buffer()},t.exports=e("soop")(r)}).call(this,e("buffer").Buffer)},{binary:76,buffer:87,buffertools:"fugeBw",net:83,soop:164}],"./lib/PeerManager":[function(e,t,n){t.exports=e("nsqKeP")},{}],nsqKeP:[function(e,t,n){function r(e){this.config=s.extend(u,e||{}),this.active=!1,this.timer=null,this.peers=[],this.pool=[],this.connections=[],this.isConnected=!1,this.peerDiscovery=!1,this.interval=5e3,this.minConnections=8,this.minKnownPeers=10,this.seeds={resolved:[],failed:[]}}var i=e("soop").imports(),s=i._||e("underscore"),o=i.log||e("../util/log"),u=i.config||e("../config"),a=i.Connection||e("./Connection"),f=i.Peer||e("./Peer");GetAdjustedTime=i.GetAdjustedTime||function(){return Math.floor((new Date).getTime()/1e3)},r.parent=i.parent||e("events").EventEmitter,r.Connection=a,r.prototype.start=function(){this.active=!0,this.timer||(this.timer=setInterval(this.checkStatus.bind(this),this.interval))},r.prototype.stop=function(){this.active=!1,this.timer&&(clearInterval(this.timer),this.timer=null);for(var e=0;e<this.connections.length;e++)this.connections[e].socket.end()},r.prototype.addPeer=function(e,t){if(e instanceof f)this.peers.push(e);else{if("string"!=typeof e)throw o.err("Node.addPeer(): Invalid value provided for peer",{val:e}),"Node.addPeer(): Invalid value provided for peer.";this.addPeer(new f(e,t))}},r.prototype.removePeer=function(e){var t=this.peers.indexOf(e),n=!!~t;return n&&this.peers.splice(t,1),n},r.prototype.checkStatus=function(){if(this.peers.length){var e={};this.peers.forEach(function(t){e[t.toString()]=t}),this.connections.forEach(function(t){var n=t.peer.toString();"undefined"!==e[n]&&delete e[n]});var t=0;this.peers.forEach(function(e){e.connection&&!e.connection._connecting&&t++}),o.info(t+" of "+this.peers.length+" peers connected"),Object.keys(e).forEach(function(t){this.connectTo(e[t])}.bind(this))}},r.prototype.connectTo=function(e){o.info("connecting to "+e);try{return this.addConnection(e.createConnection(),e)}catch(t){return o.err("creating connection",t),null}},r.prototype.addConnection=function(e,t){var n=new a(e,t,this.config);return this.connections.push(n),this.emit("connection",n),n.addListener("version",this.handleVersion.bind(this)),n.addListener("verack",this.handleReady.bind(this)),n.addListener("addr",this.handleAddr.bind(this)),n.addListener("getaddr",this.handleGetAddr.bind(this)),n.addListener("error",this.handleError.bind(this)),n.addListener("disconnect",this.handleDisconnect.bind(this)),n},r.prototype.handleVersion=function(e){e.peer.version=e.message.version,e.peer.start_height=e.message.start_height,!e.conn.inbound,this.peerDiscovery&&(e.message.version>=31402||this.peers.length<1e3)&&(e.conn.sendGetAddr(),e.conn.getaddr=!0)},r.prototype.handleReady=function(e){o.info("connected to "+e.conn.peer.host+":"+e.conn.peer.port),this.emit("connect",{pm:this,conn:e.conn,socket:e.socket,peer:e.peer}),0==this.isConnected&&(this.emit("netConnected",e),this.isConnected=!0)},r.prototype.handleAddr=function(e){if(this.peerDiscovery){var t=GetAdjustedTime();e.message.addrs.forEach(function(e){try{(e.time<=1e8||e.time>t+600)&&(e.time=t-432e3);var n=new f(e.ip,e.port,e.services);n.lastSeen=e.time,this.peers.push(n)}catch(r){o.warn("Invalid addr received: "+r.message)}}.bind(this)),e.message.addrs.length<1e3&&(e.conn.getaddr=!1)}},r.prototype.handleGetAddr=function(){},r.prototype.handleError=function(e){o.err("unkown error with peer "+e.peer+" (disconnecting): "+e.err),this.handleDisconnect.apply(this,[].slice.call(arguments))},r.prototype.handleDisconnect=function(e){o.info("disconnected from peer "+e.peer);var t=this.connections.indexOf(e.conn);-1!=t&&this.connections.splice(t,1),this.removePeer(e.peer),this.pool.length&&(o.info("replacing peer using the pool of "+this.pool.length+" seeds"),this.addPeer(this.pool.pop())),this.connections.length||(this.emit("netDisconnected"),this.isConnected=!1)},r.prototype.getActiveConnection=function(){var e=this.connections.filter(function(e){return e.active});if(e.length){var t=Math.floor(Math.random()*e.length),n=e[t];return n.socket.writable?n:(e.splice(t,1),this.getActiveConnection())}return null},r.prototype.getActiveConnections=function(){return this.connections.slice(0)},r.prototype.discover=function(t,n){var r=this,s=i.async||e("async"),u=i.dns||e("dns"),a=i.networks||e("../networks"),l=a[r.config.network].dnsSeeds;r.limit=t.limit||12;var c=l.map(function(e){return function(t){return~r.seeds.resolved.indexOf(e)?t(null,r.seeds.results[e]):~r.seeds.failed.indexOf(e)?t(null,[]):(o.info("resolving dns seed "+e),void u.resolve(e,function(n,i){return n?(o.err("failed to resolve dns seed "+e,n),r.seeds.failed.push(e),t(null,[])):(o.info("found "+i.length+" peers from "+e),r.seeds.resolved.push(e),i=i.map(function(e){return new f(e,a.defaultClientPort)}),i.forEach(function(e){r.peers.length<r.limit?r.addPeer(e):r.pool.push(e)}),r.emit("peers",i),t(null,i))}))}});return s.parallel(c,function(e,t){var r=[];t.forEach(function(e){r=r.concat(e)}),"function"==typeof n&&n(null,r)}),r},t.exports=e("soop")(r)},{"../config":"4itQ50","../networks":"ULNIu2","../util/log":"AdF7pF","./Connection":"DB/p3X","./Peer":"oolY81",async:74,dns:83,events:96,soop:164,underscore:166}],"LK/jwR":[function(e,t,n){(function(n){return n.versions?void (t.exports=e("./node/Point")):void (t.exports=e("./browser/Point"))}).call(this,e("/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"./browser/Point":66,"./node/Point":70,"/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":103}],"./lib/Point":[function(e,t,n){t.exports=e("LK/jwR")},{}],izTl9z:[function(e,t,n){(function(n){function r(e,t,n){r.super(this,arguments),void 0!==n&&this.compressed(n)}var i=e("soop").imports(),s=i.parent||e("../util/VersionedData"),o=i.networks||e("../networks");r.parent=s,s.applyEncodingsTo(r),r.prototype.validate=function(){if(this.doAsBinary(function(){if(r.super(this,"validate",arguments),this.data.length<32||this.data.length>33&&!this.compressed()||34==this.data.length&&1!=this.data[33]||this.data.length>34)throw new Error("invalid data length")}),"undefined"==typeof this.network())throw new Error("invalid network")},r.prototype.payload=function(e){if(e)return this.doAsBinary(function(){e.copy(this.data,1)}),e;var t=this.as("binary");return 34==t.length?t.slice(1,33):33==t.length?t.slice(1):void 0},r.prototype.compressed=function(e){if(void 0===e){var t=34,r=this.as("binary");if(r.length==t&&1==r[t-1])return!0;if(r.length==t-1)return!1;throw new Error("invalid private key")}this.doAsBinary(function(){var t=34;if(e){var r=new n(t);this.data.copy(r),this.data=r,this.data[t-1]=1}else this.data=this.data.slice(0,t-1)})},r.prototype.network=function(){var e,t=this.version(),n=o.livenet,r=o.testnet;return t===n.privKeyVersion?e=n:t===r.privKeyVersion&&(e=r),e},t.exports=e("soop")(r)}).call(this,e("buffer").Buffer)},{"../networks":"ULNIu2","../util/VersionedData":"QLzNQg",buffer:87,soop:164}],"./lib/PrivateKey":[function(e,t,n){t.exports=e("izTl9z")},{}],"7siE1N":[function(e,t,n){(function(n){function r(e){e=e||{},this.host=e.host||"127.0.0.1",this.port=e.port||8332,this.user=e.user||"user",this.pass=e.pass||"pass",this.protocol="http"==e.protocol?u:a,this.batchedCalls=null,this.disableAgent=e.disableAgent||!1}function i(e,t,n){function r(e,t){return function(){var r=arguments.length-1;if(this.batchedCalls)var r=arguments.length;for(var i=0;r>i;i++)t[i]&&(arguments[i]=t[i](arguments[i]));this.batchedCalls?this.batchedCalls.push({jsonrpc:"2.0",method:e,params:c(arguments)}):n.call(this,{method:e,params:c(arguments,0,arguments.length-1)},arguments[arguments.length-1])}}var i={str:function(e){return e.toString()},"int":function(e){return parseFloat(e)},"float":function(e){return parseFloat(e)},bool:function(e){return e===!0||"1"==e||"true"==e||"true"==e.toString().toLowerCase()}};for(var s in t)if(t.hasOwnProperty(s)){for(var o=t[s].split(" "),u=0;u<o.length;u++)o[u]=i[o[u]]?i[o[u]]:i.string;var a=s.toLowerCase();e.prototype[s]=r(a,o),e.prototype[a]=e.prototype[s]}}function s(e,t){var e,r=this;e=JSON.stringify(e);var i=n(r.user+":"+r.pass).toString("base64"),s={host:r.host,path:"/",method:"POST",port:r.port,agent:r.disableAgent?!1:void 0};if(r.httpOptions)for(var o in r.httpOptions)s[o]=r.httpOptions[o];var u=null,a=this.protocol.request(s,function(e){var n="";e.on("data",function(e){n+=e}),e.on("end",function(){if(401==e.statusCode)return void t(new Error("bitcoin JSON-RPC connection rejected: 401 unauthorized"));if(403==e.statusCode)return void t(new Error("bitcoin JSON-RPC connection rejected: 403 forbidden"));if(u)return void t(u);try{var r=JSON.parse(n)}catch(i){return f.err(i.stack),f.err(n),f.err("HTTP Status code:"+e.statusCode),void t(i)}t(r.error,r)})});a.on("error",function(e){var n=new Error("Could not connect to bitcoin via RPC: "+e.message);f.err(n),t(n)}),a.setHeader("Content-Length",e.length),a.setHeader("Content-Type","application/json"),a.setHeader("Authorization","Basic "+i),a.write(e),a.end()}var o=e("soop").imports(),u=o.http||e("http"),a=o.https||e("https"),f=o.log||e("../util/log");r.prototype.batch=function(e,t){this.batchedCalls=[],e(),s.call(this,this.batchedCalls,t),this.batchedCalls=null};var l={addMultiSigAddress:"",addNode:"",backupWallet:"",createMultiSig:"",createRawTransaction:"",decodeRawTransaction:"",dumpPrivKey:"",encryptWallet:"",getAccount:"",getAccountAddress:"str",getAddedNodeInfo:"",getAddressesByAccount:"",getBalance:"str int",getBestBlockHash:"",getBlock:"",getBlockCount:"",getBlockHash:"int",getBlockNumber:"",getBlockTemplate:"",getConnectionCount:"",getDifficulty:"",getGenerate:"",getHashesPerSec:"",getInfo:"",getMemoryPool:"",getMiningInfo:"",getNewAddress:"",getPeerInfo:"",getRawMemPool:"",getRawTransaction:"str int",getReceivedByAccount:"str int",getReceivedByAddress:"str int",getTransaction:"",getTxOut:"str int bool",getTxOutSetInfo:"",getWork:"",help:"",importAddress:"str str bool",importPrivKey:"str str bool",keyPoolRefill:"",listAccounts:"int",listAddressGroupings:"",listReceivedByAccount:"int bool",listReceivedByAddress:"int bool",listSinceBlock:"str int",listTransactions:"str int int",listUnspent:"int int",listLockUnspent:"bool",lockUnspent:"",move:"str str float int str",sendFrom:"str str float int str str",sendMany:"str str int str",sendRawTransaction:"",sendToAddress:"str float str str",setAccount:"",setGenerate:"bool int",setTxFee:"float",signMessage:"",signRawTransaction:"",stop:"",submitBlock:"",validateAddress:"",verifyMessage:"",walletLock:"",walletPassPhrase:"string int",walletPassphraseChange:""},c=function(e,t,n){return Array.prototype.slice.call(e,t,n)};i(r,l,s),t.exports=e("soop")(r)}).call(this,e("buffer").Buffer)},{"../util/log":"AdF7pF",buffer:87,http:97,https:101,soop:164}],"./lib/RpcClient":[function(e,t,n){t.exports=e("7siE1N")},{}],tBM27q:[function(e,t,n){(function(n){function r(e,t){return"number"!=typeof e?void r.super(this,arguments):(this.data=new n(2+t.length),this.__proto__=this.encodings.binary,this.prefix(15),this.type(e),void this.payload(t))}var i=e("soop").imports(),s=i.parent||e("../util/VersionedData");r.parent=s,s.applyEncodingsTo(r),r.SIN_PERSIST_MAINNET=1,r.SIN_PERSIST_TESTNET=17,r.SIN_EPHEM=2,r.prototype.prefix=function(e){return e||0===e?(this.doAsBinary(function(){this.data.writeUInt8(e,0)}),e):this.as("binary").readUInt8(0)},r.prototype.type=function(e){return e||0===e?(this.doAsBinary(function(){this.data.writeUInt8(e,1)}),e):this.as("binary").readUInt8(1)},r.prototype.payload=function(e){return e?(this.doAsBinary(function(){e.copy(this.data,2)}),e):this.as("binary").slice(1)},r.prototype.validate=function(){this.doAsBinary(function(){if(r.super(this,"validate",arguments),22!=this.data.length)throw new Error("invalid data length")})},t.exports=e("soop")(r)}).call(this,e("buffer").Buffer)},{"../util/VersionedData":"QLzNQg",buffer:87,soop:164}],"./lib/SIN":[function(e,t,n){t.exports=e("tBM27q")},{}],EyghZQ:[function(e,t,n){function r(e){"object"!=typeof e&&(e={}),this.created=e.created,this.privKey=e.privKey}var i=e("../util"),s=e("../util/time"),o=e("./Key"),u=e("./SIN");r.prototype.generate=function(){this.privKey=o.generateSync(),this.created=s.curtime()},r.prototype.pubkeyHash=function(){return i.sha256ripe160(this.privKey.public)},r.prototype.storeObj=function(){var e=this.privKey.public.toString("hex"),t=this.pubkeyHash(),n=new u(u.SIN_EPHEM,t),r={created:this.created,priv:this.privKey.private.toString("hex"),pub:e,sin:n.toString()};return r},t.exports=e("soop")(r)},{"../util":179,"../util/time":182,"./Key":"aEfkTx","./SIN":"tBM27q",soop:164}],"./lib/SINKey":[function(e,t,n){t.exports=e("EyghZQ")},{}],hQ0t76:[function(require,module,exports){(function(Buffer){function Script(e){this.buffer=e?e:util.EMPTY_BUFFER,this.chunks=[],this.parse()}function isSmallIntOp(e){return e==OP_0||e>=OP_1&&OP_16>=e}function prefixSize(e){return OP_PUSHDATA1>e?1:255>=e?2:65535>=e?3:5}function encodeLen(e){var t=void 0;return OP_PUSHDATA1>e?(t=new Buffer(1),t.writeUInt8(e,0)):255>=e?(t=new Buffer(2),t.writeUInt8(OP_PUSHDATA1,0),t.writeUInt8(e,1)):65535>=e?(t=new Buffer(3),t.writeUInt8(OP_PUSHDATA2,0),t.writeUInt16LE(e,1)):(t=new Buffer(5),t.writeUInt8(OP_PUSHDATA4,0),t.writeUInt32LE(e,1)),t}var imports=require("soop").imports(),config=imports.config||require("../config"),log=imports.log||require("../util/log"),Opcode=imports.Opcode||require("./Opcode"),buffertools=imports.buffertools||require("buffertools");for(var i in Opcode.map)eval(i+" = "+Opcode.map[i]+";");var util=imports.util||require("../util/util"),Parser=imports.Parser||require("../util/BinaryParser"),Put=imports.Put||require("bufferput"),TX_UNKNOWN=0,TX_PUBKEY=1,TX_PUBKEYHASH=2,TX_MULTISIG=3,TX_SCRIPTHASH=4,TX_TYPES=["unknown","pubkey","pubkeyhash","multisig","scripthash"];Script.TX_UNKNOWN=TX_UNKNOWN,Script.TX_PUBKEY=TX_PUBKEY,Script.TX_PUBKEYHASH=TX_PUBKEYHASH,Script.TX_MULTISIG=TX_MULTISIG,Script.TX_SCRIPTHASH=TX_SCRIPTHASH,Script.prototype.parse=function(){this.chunks=[];for(var e=new Parser(this.buffer);!e.eof();){var t,n,r=e.word8();r>0&&OP_PUSHDATA1>r?this.chunks.push(e.buffer(r)):r===OP_PUSHDATA1?(t=e.word8(),n=e.buffer(t),this.chunks.push(n)):r===OP_PUSHDATA2?(t=e.word16le(),n=e.buffer(t),this.chunks.push(n)):r===OP_PUSHDATA4?(t=e.word32le(),n=e.buffer(t),this.chunks.push(n)):this.chunks.push(r)}},Script.prototype.isPushOnly=function(){for(var e=0;e<this.chunks.length;e++){var t=this.chunks[e];if(!Buffer.isBuffer(t)&&t>OP_16)return!1}return!0},Script.prototype.isP2SH=function(){return 3==this.chunks.length&&this.chunks[0]==OP_HASH160&&Buffer.isBuffer(this.chunks[1])&&20==this.chunks[1].length&&this.chunks[2]==OP_EQUAL},Script.prototype.isPubkey=function(){return 2==this.chunks.length&&Buffer.isBuffer(this.chunks[0])&&this.chunks[1]==OP_CHECKSIG},Script.prototype.isPubkeyHash=function(){return 5==this.chunks.length&&this.chunks[0]==OP_DUP&&this.chunks[1]==OP_HASH160&&Buffer.isBuffer(this.chunks[2])&&20==this.chunks[2].length&&this.chunks[3]==OP_EQUALVERIFY&&this.chunks[4]==OP_CHECKSIG},Script.prototype.isMultiSig=function(){return this.chunks.length>3&&isSmallIntOp(this.chunks[0])&&isSmallIntOp(this.chunks[this.chunks.length-2])&&this.chunks[this.chunks.length-1]==OP_CHECKMULTISIG},Script.prototype.isP2shScriptSig=function(){if(!isSmallIntOp(this.chunks[0])||0!==this.chunks[0])return!1;var e=new Script(this.chunks[this.chunks.length-1]),t=e.classify();return t!==TX_UNKNOWN},Script.prototype.isMultiSigScriptSig=function(){return isSmallIntOp(this.chunks[0])&&0===this.chunks[0]?!this.isP2shScriptSig():!1},Script.prototype.countSignatures=function(){var e=0,t=this.chunks.length;return e=this.isMultiSigScriptSig()?t-1:this.isP2shScriptSig()?t-2:0===buffertools.compare(this.getBuffer(),util.EMPTY_BUFFER)?0:1},Script.prototype.countMissingSignatures=function(){if(this.isMultiSig())return log.debug("Can not count missing signatures on normal Multisig script"),null;var e=0,t=this.chunks.length;if(isSmallIntOp(this.chunks[0])&&0===this.chunks[0]){var n=new Script(this.chunks[t-1]);if(isSmallIntOp(n.chunks[0])){var r=n.chunks[0]-80;e=r-(t-2)}else log.debug("Unrecognized script type")}else 0===buffertools.compare(this.getBuffer(),util.EMPTY_BUFFER)&&(e=1);return e},Script.prototype.finishedMultiSig=function(){var e=this.countMissingSignatures();return null===e?null:0===e},Script.prototype.getMultiSigInfo=function(){if(!this.isMultiSig())throw new Error("Script.getMultiSigInfo(): Not a multiSig script.");for(var e=this.chunks[0]-80,t=this.chunks[this.chunks.length-2]-80,n=[],r=1;r<this.chunks.length-2;r++)n.push(this.chunks[r]);if(n.length!=t)throw new Error("Script.getMultiSigInfo(): Amount of PKs does not match what the script specifies.");return{nsigs:e,npubkeys:t,pubkeys:n}},Script.prototype.prependOp0=function(){var e=[0];for(i in this.chunks)this.chunks.hasOwnProperty(i)&&e.push(this.chunks[i]);return this.chunks=e,this.updateBuffer(),this},Script.prototype.classify=function(){return this.isPubkeyHash()?TX_PUBKEYHASH:this.isP2SH()?TX_SCRIPTHASH:this.isMultiSig()?TX_MULTISIG:this.isPubkey()?TX_PUBKEY:TX_UNKNOWN},Script.prototype.capture=function(){var e=this.classify(),t=[];switch(e){case TX_PUBKEY:t.push(this.chunks[0]);break;case TX_PUBKEYHASH:t.push(this.chunks[2]);break;case TX_MULTISIG:for(var n=1;n<this.chunks.length-2;n++)t.push(this.chunks[n]);break;case TX_SCRIPTHASH:t.push(this.chunks[1]);break;case TX_UNKNOWN:}return t},Script.prototype.captureOne=function(){var e=this.capture();return e[0]},Script.prototype.getOutType=function(){var e=this.classify();switch(e){case TX_PUBKEY:return"Pubkey";case TX_PUBKEYHASH:return"Address";default:return"Strange"}},Script.prototype.getRawOutType=function(){return TX_TYPES[this.classify()]},Script.prototype.simpleOutHash=function(){switch(this.getOutType()){case"Address":return this.chunks[2];case"Pubkey":return util.sha256ripe160(this.chunks[0]);default:return log.debug("Encountered non-standard scriptPubKey"),log.debug("Strange script was: "+this.toString()),null}},Script.prototype.getInType=function(){return 1==this.chunks.length?"Pubkey":2==this.chunks.length&&Buffer.isBuffer(this.chunks[0])&&Buffer.isBuffer(this.chunks[1])?"Address":"Strange"},Script.prototype.simpleInPubKey=function(){switch(this.getInType()){case"Address":return this.chunks[1];case"Pubkey":return null;default:return log.debug("Encountered non-standard scriptSig"),log.debug("Strange script was: "+this.toString()),null}},Script.prototype.getBuffer=function(){return this.buffer},Script.prototype.serialize=Script.prototype.getBuffer,Script.prototype.getStringContent=function(e,t){null===e&&(e=!0),"undefined"==typeof t&&(t=15);for(var n="",r=0,i=this.chunks.length;i>r;r++){var s=this.chunks[r];if(r>0&&(n+=" "),n+=Buffer.isBuffer(s)?"0x"+util.formatBuffer(s,e?null:0):Opcode.reverseMap[s],t&&r>t){n+=" ...";break}}return n},Script.prototype.toString=function(e,t){var n="<Script ";return n+=this.getStringContent(e,t),n+=">"},Script.prototype.writeOp=function(e){var t=Buffer(this.buffer.length+1);this.buffer.copy(t),t.writeUInt8(e,this.buffer.length),this.buffer=t,this.chunks.push(e)},Script.prototype.writeN=function(e){if(0>e||e>16)throw new Error("writeN: out of range value "+e);this.writeOp(0==e?OP_0:OP_1+e-1)},Script.prototype.writeBytes=function(e){this.buffer.length+prefixSize(e.length)+e.length;this.buffer=Buffer.concat([this.buffer,encodeLen(e.length),e]),this.chunks.push(e)},Script.prototype.updateBuffer=function(){this.buffer=Script.chunksToBuffer(this.chunks)},Script.prototype.findAndDelete=function(e){var t=!1;if(Buffer.isBuffer(e))for(var n=0,r=this.chunks.length;r>n;n++)Buffer.isBuffer(this.chunks[n])&&0===buffertools.compare(this.chunks[n],e)&&(this.chunks.splice(n,1),n--,t=!0);else{if("number"!=typeof e)throw new Error("Invalid chunk datatype.");for(var n=0,r=this.chunks.length;r>n;n++)this.chunks[n]===e&&(this.chunks.splice(n,1),n--,t=!0)}t&&this.updateBuffer()},Script.createPubKeyOut=function(e){var t=new Script;return t.writeBytes(e),t.writeOp(OP_CHECKSIG),t},Script.createPubKeyHashOut=function(e){var t=new Script;return t.writeOp(OP_DUP),t.writeOp(OP_HASH160),t.writeBytes(e),t.writeOp(OP_EQUALVERIFY),t.writeOp(OP_CHECKSIG),t},Script._sortKeys=function(e){return e.sort(function(e,t){for(var n=e.length>e.length?e.length:t.length,r=0;n>=r;r++){if(void 0===e[r])return-1;if(void 0===t[r])return 1;if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0})},Script.createMultisig=function(e,t,n){n=n||{};var r=n.noSorting?t:this._sortKeys(t),i=new Script;return i.writeN(e),r.forEach(function(e){i.writeBytes(e)}),i.writeN(r.length),i.writeOp(OP_CHECKMULTISIG),i},Script.createP2SH=function(e){var t=new Script;return t.writeOp(OP_HASH160),t.writeBytes(e),t.writeOp(OP_EQUAL),t},Script.fromTestData=function(e){e=e.map(function(e){return"string"==typeof e?new Buffer(e,"hex"):e});var t=new Script;return t.chunks=e,t.updateBuffer(),t},Script.fromChunks=function(e){var t=new Script;return t.chunks=e,t.updateBuffer(),t},Script.fromHumanReadable=function(e){return new Script(Script.stringToBuffer(e))},Script.prototype.toHumanReadable=function(){for(var e="",t=0,n=this.chunks.length;n>t;t++){var r=this.chunks[t];if(t>0&&(e+=" "),Buffer.isBuffer(r))0===r.length?e+="0":(e+="0x"+util.formatBuffer(encodeLen(r.length),0)+" ",e+="0x"+util.formatBuffer(r,0));else{var i=Opcode.reverseMap[r];"undefined"==typeof i&&(i="0x"+r.toString(16)),e+=i}}return e},Script.stringToBuffer=function(e){for(var t=new Put,n=e.split(" "),r=0;r<n.length;r++){var i=n[r];if(""!==i)if(i.length>2&&"0x"===i.substring(0,2))t.put(new Buffer(i.substring(2,i.length),"hex"));else{var s=Opcode.map["OP_"+i]||Opcode.map[i];if("undefined"!=typeof s)t.word8(s);else{var o=parseInt(i);if(isNaN(o)){if("'"!==i[0]||"'"!==i[i.length-1])throw new Error('Could not parse word "'+i+'" from script "'+e+'"');i=i.substring(1,i.length-1);for(var u="",a=0;a<i.length;a++)u+=""+i.charCodeAt(a).toString(16);t.put(Script.chunksToBuffer([new Buffer(i)]))}else{var f=util.intToBufferSM(o);t.put(Script.chunksToBuffer([f]))}}}}return t.buffer()},Script.chunksToBuffer=function(e){for(var t=new Put,n=0,r=e.length;r>n;n++){var i=e[n];if(Buffer.isBuffer(i))i.length<OP_PUSHDATA1?t.word8(i.length):i.length<=255?(t.word8(OP_PUSHDATA1),t.word8(i.length)):i.length<=65535?(t.word8(OP_PUSHDATA2),t.word16le(i.length)):(t.word8(OP_PUSHDATA4),t.word32le(i.length)),t.put(i);else{if("number"!=typeof i)throw new Error("Script.chunksToBuffer(): Invalid chunk datatype");t.word8(i)}}return t.buffer()},module.exports=require("soop")(Script)}).call(this,require("buffer").Buffer)},{"../config":"4itQ50","../util/BinaryParser":"b3ZSD7","../util/log":"AdF7pF","../util/util":"ACyo5H","./Opcode":"Zm7/h9",buffer:87,bufferput:"aXRuS6",buffertools:"fugeBw",soop:164}],"./lib/Script":[function(e,t,n){t.exports=e("hQ0t76")},{}],"Q/ZWXW":[function(require,module,exports){(function(process,Buffer){function ScriptInterpreter(e){this.opts=e||{},this.stack=[],this.disableUnsafeOpcodes=!0}var imports=require("soop").imports(),config=imports.config||require("../config"),log=imports.log||require("../util/log"),util=imports.util||require("../util"),Opcode=imports.Opcode||require("./Opcode"),buffertools=imports.buffertools||require("buffertools"),bignum=imports.bignum||require("./Bignum"),Util=imports.Util||require("../util"),Script=require("./Script"),Key=require("./Key"),SIGHASH_ALL=1,SIGHASH_NONE=2,SIGHASH_SINGLE=3,SIGHASH_ANYONECANPAY=80;for(var i in Opcode.map)eval(i+" = "+Opcode.map[i]+";");var intToBufferSM=Util.intToBufferSM,bufferSMToInt=Util.bufferSMToInt;ScriptInterpreter.prototype.eval=function(e,t,n,r,i){function s(i){function d(){if(U&&I>0){var e=q[z],o=F[W];checkSig(e,o,B,t,n,r,function(e,t){!e&&t?(z++,I--):(W++,j--,I>j&&(U=!1)),d.call(this)}.bind(this))}else{if(this.stack.push(new Buffer([U?1:0])),m===OP_CHECKMULTISIGVERIFY){if(!U)throw new Error("OP_CHECKMULTISIGVERIFY negative");this.stackPop()}s.call(this,i)}}try{if(o>=e.chunks.length)return u.length?void i(new Error("Execution stack ended non-empty")):void i(null);var v=!~u.indexOf(!1),m=e.chunks[o++];if(m.length>520)throw new Error("Max push value size exceeded (>520)");if(m>OP_16&&++l>201)throw new Error("Opcode limit exceeded (>200)");if(this.disableUnsafeOpcodes&&"number"==typeof m&&(m===OP_CAT||m===OP_SUBSTR||m===OP_LEFT||m===OP_RIGHT||m===OP_INVERT||m===OP_AND||m===OP_OR||m===OP_XOR||m===OP_2MUL||m===OP_2DIV||m===OP_MUL||m===OP_DIV||m===OP_MOD||m===OP_LSHIFT||m===OP_RSHIFT))throw new Error("Encountered a disabled opcode");if(v&&Buffer.isBuffer(m))this.stack.push(m);else if(v||m>=OP_IF&&OP_ENDIF>=m)switch(m){case OP_0:this.stack.push(new Buffer([]));break;case OP_1NEGATE:case OP_1:case OP_2:case OP_3:case OP_4:case OP_5:case OP_6:case OP_7:case OP_8:case OP_9:case OP_10:case OP_11:case OP_12:case OP_13:case OP_14:case OP_15:case OP_16:var g=m-OP_1+1,y=intToBufferSM(g);this.stack.push(y);break;case OP_NOP:case OP_NOP1:case OP_NOP2:case OP_NOP3:case OP_NOP4:case OP_NOP5:case OP_NOP6:case OP_NOP7:case OP_NOP8:case OP_NOP9:case OP_NOP10:break;case OP_IF:case OP_NOTIF:var b=!1;v&&(b=castBool(this.stackPop()),m===OP_NOTIF&&(b=!b)),u.push(b);break;case OP_ELSE:if(u.length<1)throw new Error("Unmatched OP_ELSE");u[u.length-1]=!u[u.length-1];break;case OP_ENDIF:if(u.length<1)throw new Error("Unmatched OP_ENDIF");u.pop();break;case OP_VERIFY:var b=castBool(this.stackTop());if(!b)throw new Error("OP_VERIFY negative");this.stackPop();break;case OP_RETURN:throw new Error("OP_RETURN");case OP_TOALTSTACK:a.push(this.stackPop());break;case OP_FROMALTSTACK:if(a.length<1)throw new Error("OP_FROMALTSTACK with alt stack empty");this.stack.push(a.pop());break;case OP_2DROP:this.stackPop(),this.stackPop();break;case OP_2DUP:var w=this.stackTop(2),E=this.stackTop(1);this.stack.push(w),this.stack.push(E);break;case OP_3DUP:var w=this.stackTop(3),E=this.stackTop(2),S=this.stackTop(1);this.stack.push(w),this.stack.push(E),this.stack.push(S);break;case OP_2OVER:var w=this.stackTop(4),E=this.stackTop(3);this.stack.push(w),this.stack.push(E);break;case OP_2ROT:var w=this.stackTop(6),E=this.stackTop(5);this.stack.splice(this.stack.length-6,2),this.stack.push(w),this.stack.push(E);break;case OP_2SWAP:this.stackSwap(4,2),this.stackSwap(3,1);break;case OP_IFDUP:var b=this.stackTop();castBool(b)&&this.stack.push(b);break;case OP_DEPTH:var b=bignum(this.stack.length);this.stack.push(intToBufferSM(b));break;case OP_DROP:this.stackPop();break;case OP_DUP:this.stack.push(this.stackTop());break;case OP_NIP:if(this.stack.length<2)throw new Error("OP_NIP insufficient stack size");this.stack.splice(this.stack.length-2,1);break;case OP_OVER:this.stack.push(this.stackTop(2));break;case OP_PICK:case OP_ROLL:var x=castInt(this.stackPop());if(0>x||x>=this.stack.length)throw new Error("OP_PICK/OP_ROLL insufficient stack size");var b=this.stackTop(x+1);m===OP_ROLL&&this.stack.splice(this.stack.length-x-1,1),this.stack.push(b);break;case OP_ROT:this.stackSwap(3,2),this.stackSwap(2,1);break;case OP_SWAP:this.stackSwap(2,1);break;case OP_TUCK:if(this.stack.length<2)throw new Error("OP_TUCK insufficient stack size");this.stack.splice(this.stack.length-2,0,this.stackTop());break;case OP_CAT:var w=this.stackTop(2),E=this.stackTop(1);this.stackPop(),this.stackPop(),this.stack.push(Buffer.concat([w,E]));break;case OP_SUBSTR:var T=this.stackTop(3),N=castInt(this.stackTop(2)),C=castInt(this.stackTop(1));if(0>N||0>C)throw new Error("OP_SUBSTR start < 0 or len < 0");if(N+C>=T.length)throw new Error("OP_SUBSTR range out of bounds");this.stackPop(),this.stackPop(),this.stack[this.stack.length-1]=T.slice(N,N+C);break;case OP_LEFT:case OP_RIGHT:var T=this.stackTop(2),k=castInt(this.stackTop(1));if(0>k)throw new Error("OP_LEFT/OP_RIGHT size < 0");k>T.length&&(k=T.length),this.stackPop(),this.stack[this.stack.length-1]=m===OP_LEFT?T.slice(0,k):T.slice(T.length-k);break;case OP_SIZE:var b=bignum(this.stackTop().length);this.stack.push(intToBufferSM(b));break;case OP_INVERT:for(var T=this.stackTop(),L=0,A=T.length;A>L;L++)T[L]=~T[L];break;case OP_AND:case OP_OR:case OP_XOR:var w=this.stackTop(2),E=this.stackTop(1);this.stackPop(),this.stackPop();var O=new Buffer(Math.max(w.length,E.length));if(m===OP_AND)for(var L=0,A=O.length;A>L;L++)O[L]=w[L]&E[L];else if(m===OP_OR)for(var L=0,A=O.length;A>L;L++)O[L]=w[L]|E[L];else if(m===OP_XOR)for(var L=0,A=O.length;A>L;L++)O[L]=w[L]^E[L];this.stack.push(O);break;case OP_EQUAL:case OP_EQUALVERIFY:var w=this.stackTop(2),E=this.stackTop(1),b=0===buffertools.compare(w,E);if(this.stackPop(),this.stackPop(),this.stack.push(new Buffer([b?1:0])),m===OP_EQUALVERIFY){if(!b)throw new Error("OP_EQUALVERIFY negative");this.stackPop()}break;case OP_1ADD:case OP_1SUB:case OP_2MUL:case OP_2DIV:case OP_NEGATE:case OP_ABS:case OP_NOT:case OP_0NOTEQUAL:var M=bufferSMToInt(this.stackTop());switch(m){case OP_1ADD:M=M.add(bignum(1));break;case OP_1SUB:M=M.sub(bignum(1));break;case OP_2MUL:M=M.mul(bignum(2));break;case OP_2DIV:M=M.div(bignum(2));break;case OP_NEGATE:M=M.neg();break;case OP_ABS:M=M.abs();break;case OP_NOT:M=bignum(0==M.cmp(0)?1:0);break;case OP_0NOTEQUAL:M=bignum(0==M.cmp(0)?0:1)}this.stack[this.stack.length-1]=intToBufferSM(M);break;case OP_ADD:case OP_SUB:case OP_MUL:case OP_DIV:case OP_MOD:case OP_LSHIFT:case OP_RSHIFT:case OP_BOOLAND:case OP_BOOLOR:case OP_NUMEQUAL:case OP_NUMEQUALVERIFY:case OP_NUMNOTEQUAL:case OP_LESSTHAN:case OP_GREATERTHAN:case OP_LESSTHANOREQUAL:case OP_GREATERTHANOREQUAL:case OP_MIN:case OP_MAX:var M,w=bufferSMToInt(this.stackTop(2)),E=bufferSMToInt(this.stackTop(1));switch(m){case OP_ADD:M=w.add(E);break;case OP_SUB:M=w.sub(E);break;case OP_MUL:M=w.mul(E);break;case OP_DIV:M=w.div(E);break;case OP_MOD:M=w.mod(E);break;case OP_LSHIFT:if(E.cmp(0)<0||E.cmp(2048)>0)throw new Error("OP_LSHIFT parameter out of bounds");M=w.shiftLeft(E);break;case OP_RSHIFT:if(E.cmp(0)<0||E.cmp(2048)>0)throw new Error("OP_RSHIFT parameter out of bounds");M=w.shiftRight(E);break;case OP_BOOLAND:M=bignum(0!=w.cmp(0)&&0!=E.cmp(0)?1:0);break;case OP_BOOLOR:M=bignum(0!=w.cmp(0)||0!=E.cmp(0)?1:0);break;case OP_NUMEQUAL:case OP_NUMEQUALVERIFY:M=bignum(0==w.cmp(E)?1:0);break;case OP_NUMNOTEQUAL:M=bignum(0!=w.cmp(E)?1:0);break;case OP_LESSTHAN:M=bignum(w.lt(E)?1:0);break;case OP_GREATERTHAN:M=bignum(w.gt(E)?1:0);break;case OP_LESSTHANOREQUAL:M=bignum(w.gt(E)?0:1);break;case OP_GREATERTHANOREQUAL:M=bignum(w.lt(E)?0:1);break;case OP_MIN:M=w.lt(E)?w:E;break;case OP_MAX:M=w.gt(E)?w:E}if(this.stackPop(),this.stackPop(),this.stack.push(intToBufferSM(M)),m===OP_NUMEQUALVERIFY){if(!castBool(this.stackTop()))throw new Error("OP_NUMEQUALVERIFY negative");this.stackPop()}break;case OP_WITHIN:var w=bufferSMToInt(this.stackTop(3)),E=bufferSMToInt(this.stackTop(2)),S=bufferSMToInt(this.stackTop(1));this.stackPop(),this.stackPop(),this.stackPop();var b=w.cmp(E)>=0&&w.cmp(S)<0;this.stack.push(intToBufferSM(b?1:0));break;case OP_RIPEMD160:case OP_SHA1:case OP_SHA256:case OP_HASH160:case OP_HASH256:var _,b=this.stackPop();m===OP_RIPEMD160?_=Util.ripe160(b):m===OP_SHA1?_=Util.sha1(b):m===OP_SHA256?_=Util.sha256(b):m===OP_HASH160?_=Util.sha256ripe160(b):m===OP_HASH256&&(_=Util.twoSha256(b)),this.stack.push(_);break;case OP_CODESEPARATOR:f=o;break;case OP_CHECKSIG:case OP_CHECKSIGVERIFY:var D=this.stackTop(2),P=this.stackTop(1),H=e.chunks.slice(f),B=Script.fromChunks(H);return B.findAndDelete(D),this.isCanonicalSignature(new Buffer(D)),void checkSig(D,P,B,t,n,r,function(e,t){var n;if(n=e?!1:t,this.stackPop(),this.stackPop(),this.stack.push(new Buffer([n?1:0])),m===OP_CHECKSIGVERIFY){if(!n)throw new Error("OP_CHECKSIGVERIFY negative");this.stackPop()}s.call(this,i)}.bind(this));case OP_CHECKMULTISIG:case OP_CHECKMULTISIGVERIFY:var j=castInt(this.stackPop());if(0>j||j>20)throw new Error("OP_CHECKMULTISIG keysCount out of bounds");if(l+=j,l>201)throw new Error("Opcode limit exceeded (>200)");for(var F=[],L=0,A=j;A>L;L++){var P=this.stackPop();F.push(P)}var I=castInt(this.stackPop());if(0>I||I>j)throw new Error("OP_CHECKMULTISIG sigsCount out of bounds");for(var q=[],L=0,A=I;A>L;L++)q.push(this.stackPop());this.stackPop();var H=e.chunks.slice(f),B=Script.fromChunks(H),R=this;q.forEach(function(e){R.isCanonicalSignature(new Buffer(e)),B.findAndDelete(e)});var U=!0,z=0,W=0;return void d.call(this);default:throw new Error("Unknown opcode encountered")}if(this.stack.length+a.length>1e3)throw new Error("Maximum stack size exceeded");s.call(this,i)}catch(X){i(X)}}if("function"!=typeof i)throw new Error("ScriptInterpreter.eval() requires a callback");var o=0,u=[],a=[],f=0,l=0;return e.buffer.length>1e4?(i(new Error("Oversized script (> 10k bytes)")),this):void s.call(this,i)},ScriptInterpreter.prototype.evalTwo=function(e,t,n,r,i,s){var o=this;o.eval(e,n,r,i,function(e){return e?void s(e):void o.eval(t,n,r,i,s)})},ScriptInterpreter.prototype.stackTop=function(e){if(e=+e||1,1>e&&(e=1),e>this.stack.length)throw new Error("ScriptInterpreter.stackTop(): Stack underrun");return this.stack[this.stack.length-e]},ScriptInterpreter.prototype.stackBack=function(){return this.stack[this.stack.length-1]},ScriptInterpreter.prototype.stackPop=function(){if(this.stack.length<1)throw new Error("ScriptInterpreter.stackTop(): Stack underrun");return this.stack.pop()},ScriptInterpreter.prototype.stackSwap=function(e,t){if(this.stack.length<e||this.stack.length<t)throw new Error("ScriptInterpreter.stackTop(): Stack underrun");var n=this.stack,r=n.length,i=n[r-e];n[r-e]=n[r-t],n[r-t]=i},ScriptInterpreter.prototype.getPrimitiveStack=function(){return this.stack.map(function(e){if(e.length>2)return buffertools.toHex(e.slice(0));var t=bufferSMToInt(e);return t.cmp(-128)>=0&&t.cmp(127)<=0?t.toNumber():buffertools.toHex(e.slice(0))})};var castBool=ScriptInterpreter.castBool=function(e){for(var t=0,n=e.length;n>t;t++)if(0!=e[t])return t==n-1&&128==e[t]?!1:!0;return!1},castInt=ScriptInterpreter.castInt=function(e){return bufferSMToInt(e).toNumber()};ScriptInterpreter.prototype.getResult=function(){if(0===this.stack.length)throw new Error("Empty stack after script evaluation");return castBool(this.stack[this.stack.length-1])},ScriptInterpreter.verify=function(e,t,n,r,i,s){if("function"!=typeof s)throw new Error("ScriptInterpreter.verify() requires a callback");var o=new ScriptInterpreter;return o.evalTwo(e,t,n,r,i,function(e){if(e)return void s(e);var t=o.getResult();s(null,t)}),o},ScriptInterpreter.prototype.verifyStep4=function(e,t){return 0==t.stack.length?void e(null,!1):void e(null,castBool(t.stackBack()))},ScriptInterpreter.prototype.verifyStep3=function(e,t,n,r,i,s,o){if(0===this.stack.length)return void s(null,!1);if(0==castBool(this.stackBack()))return void s(null,!1);if(!this.opts.verifyP2SH||!t.isP2SH())return void s(null,!0);if(!e.isPushOnly())return void s(null,!1);if(0===o.length)throw new Error("siCopy should have length != 0");var u=new Script(o.stackPop()),a=this;o.eval(u,n,r,i,function(e){return e?s(e):void a.verifyStep4(s,o)})},ScriptInterpreter.prototype.verifyStep2=function(e,t,n,r,i,s,o){var o;this.opts.verifyP2SH&&(o=new ScriptInterpreter(this.opts),this.stack.forEach(function(e){o.stack.push(e)}));var u=this;this.eval(t,n,r,i,function(f){return f?s(f):void u.verifyStep3(e,t,n,r,i,s,o)})},ScriptInterpreter.prototype.verifyFull=function(e,t,n,r,i,s){var o=this;this.eval(e,n,r,i,function(u){return u?s(u):void o.verifyStep2(e,t,n,r,i,s)})},ScriptInterpreter.verifyFull=function(e,t,n,r,i,s,o){var u=new ScriptInterpreter(s);u.verifyFull(e,t,n,r,i,o)};var checkSig=ScriptInterpreter.checkSig=function(e,t,n,r,i,s,o){if(!e.length)return void o(null,!1);if(0===s)s=e[e.length-1];else if(s!=e[e.length-1])return void o(null,!1);e=e.slice(0,e.length-1);var u=r.hashForSignature(n,i,s),a=new Key;0===t.length&&(t=new Buffer("00","hex")),a.public=t,a.verifySignature(u,e,o)};ScriptInterpreter.prototype.isCanonicalSignature=function(e){if(!Buffer.isBuffer(e))throw new Error("arg should be a Buffer");if(this.opts.dontVerifyStrictEnc)return!0;var t=e.length;if(9>t)throw new Error("Non-canonical signature: too short");if(t>73)throw new Error("Non-canonical signature: too long");var n=e[t-1]&~SIGHASH_ANYONECANPAY;if(SIGHASH_ALL>n||n>SIGHASH_SINGLE)throw new Error("Non-canonical signature: unknown hashtype byte");if(48!==e[0])throw new Error("Non-canonical signature: wrong type");if(e[1]!==t-3)throw new Error("Non-canonical signature: wrong length marker");var r=e[3];if(5+r>=t)throw new Error("Non-canonical signature: S length misplaced");var i=e[5+r];if(r+i+7!==t)throw new Error("Non-canonical signature: R+S length mismatch");var s=4,o=new Buffer(r);if(e.copy(o,0,s,s+r),2!==e[s-2])throw new Error("Non-canonical signature: R value type mismatch");if(0==r)throw new Error("Non-canonical signature: R length is zero");if(128&o[0])throw new Error("Non-canonical signature: R value negative");if(r>1&&0==o[0]&&!(128&o[1]))throw new Error("Non-canonical signature: R value excessively padded");var u=6+r,a=new Buffer(i);if(e.copy(a,0,u,u+i),2!=e[u-2])throw new Error("Non-canonical signature: S value type mismatch");if(0==i)throw new Error("Non-canonical signature: S length is zero");if(128&a[0])throw new Error("Non-canonical signature: S value negative");if(i>1&&0==a[0]&&!(128&a[1]))throw new Error("Non-canonical signature: S value excessively padded");if(this.opts.verifyEvenS&&1&a[i-1])throw new Error("Non-canonical signature: S value odd");return!0},module.exports=require("soop")(ScriptInterpreter)}).call(this,require("/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),require("buffer").Buffer)},{"../config":"4itQ50","../util":179,"../util/log":"AdF7pF","./Bignum":"9Sbj2J","./Key":"aEfkTx","./Opcode":"Zm7/h9","./Script":"hQ0t76","/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":103,buffer:87,buffertools:"fugeBw",soop:164}],"./lib/ScriptInterpreter":[function(e,t,n){t.exports=e("Q/ZWXW")},{}],BaKCfn:[function(e,t,n){(function(n){return n.versions?void (t.exports=e("./node/SecureRandom")):void (t.exports=e("./browser/SecureRandom"))}).call(this,e("/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"./browser/SecureRandom":67,"./node/SecureRandom":71,"/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":103}],"./lib/SecureRandom":[function(e,t,n){t.exports=e("BaKCfn")},{}],"./lib/Sign":[function(e,t,n){t.exports=e("V3JdDp")},{}],V3JdDp:[function(e,t,n){(function(e){function t(t,n,r){var i=r[n],s=new e(i.priv,"hex"),o=new KeyModule.Key;o.private=s;var u=o.signSync(t);return u}function r(n,r,i,s,o,u){var a=r.ins[n],f=a.getScript(),l=a.getOutpointHash();if(!(l in i))throw new Error("signTxIn missing input hash");var c=i[l],h=a.getOutpointIndex();if(c.outs.length>=h)throw new Error("signTxIn missing input index");var p=c.outs[h],d=p.getScript(),v=d.classify();if(v==TX_UNKNOWN)throw new Error("unknown TX type");var m=d.capture(),g=void 0,y=void 0,b=void 0,w=void 0;if(v==TX_SCRIPTHASH){var E=new Address(s.P2SHVersion,m[0]),S=E.toString();if(!(S in u))throw new Error("unknown script hash address");if(g=new e(u[S],"hex"),y=new Script(g),b=y.classify(),b==TX_UNKNOWN)throw new Error("unknown subscript TX type");w=y.capture()}var x=r.hashForSignature(d,C,0);switch(v){case TX_PUBKEY:if(f.chunks.length>0)return;var T=util.sha256ripe160(m[0]),E=new Address(s.addressVersion,T),S=E.toString();if(!(S in o))throw new Error("unknown pubkey");var N=t(x,S,o);f.writeBytes(N);break;case TX_PUBKEYHASH:if(f.chunks.length>0)return;var E=new Address(s.addressVersion,m[0]),S=E.toString();if(!(S in o))throw new Error("unknown pubkey hash address");var N=t(x,S,o);f.writeBytes(N),f.writeBytes(key.public);break;case TX_SCRIPTHASH:if(f.chunks.length>0)return;var E=new Address(s.addressVersion,w[0]),S=E.toString();if(!(S in o))throw new Error("unknown script(pubkey hash) address");var N=t(x,S,o);f.writeBytes(N),f.writeBytes(key.public);break;case TX_MULTISIG:for(;f.chunks.length<m.length;)f.writeBytes(util.EMPTY_BUFFER);for(var C=0;C<m.length;C++)if(!(f.chunks[C].length>0)){var T=util.sha256ripe160(f.chunks[C]),E=new Address(s.addressVersion,T),S=E.toString();if(S in o){var N=t(x,S,o);f.chunks[C]=N}}}txtype==TX_SCRIPTHASH&&f.writeBytes(g)}n.Transaction=function(e,t,n,i,s){for(var o=0;o<e.ins.length;o++)r(o,e,t,n,i,s)}}).call(this,e("buffer").Buffer)},{buffer:87}],LJhYtm:[function(e,t,n){(function(n){function r(e){if("object"!=typeof e&&(e={}),e.o)this.o=e.o;else if(e.oTxHash&&"undefined"!=typeof e.oIndex&&e.oIndex>=0){var t=new n(e.oTxHash,"hex");t=d.reverse(t);var r=new n(4);r.writeUInt32LE(e.oIndex,0),this.o=n.concat([t,r])}this.s=n.isBuffer(e.s)?e.s:n.isBuffer(e.script)?e.script:l.EMPTY_BUFFER,this.q=e.q?e.q:e.sequence}function i(e){"object"!=typeof e&&(e={}),this.v=e.v?e.v:e.value,this.s=e.s?e.s:e.script}function s(e){"object"!=typeof e&&(e={}),this.hash=e.hash||null,this.version=e.version,this.lock_time=e.lock_time,this.ins=Array.isArray(e.ins)?e.ins.map(function(e){var t=new r;return t.s=e.s,t.q=e.q,t.o=e.o,t}):[],this.outs=Array.isArray(e.outs)?e.outs.map(function(e){var t=new i;return t.v=e.v,t.s=e.s,t}):[],e.buffer&&(this._buffer=e.buffer)}{var o=e("soop").imports(),u=(o.config||e("../config"),o.log||e("../util/log"),o.Address||e("./Address")),a=o.Script||e("./Script"),f=o.ScriptInterpreter||e("./ScriptInterpreter"),l=o.util||e("../util"),c=o.bignum||e("./Bignum"),h=o.Put||e("bufferput"),p=o.Parser||e("../util/BinaryParser"),d=(o.Step||e("step"),o.buffertools||e("buffertools")),v=(o.error||e("../util/error"),o.networks||e("../networks"),o.WalletKey||e("./WalletKey"),o.PrivateKey||e("./PrivateKey"),n.concat([l.NULL_HASH,new n("FFFFFFFF","hex")]));parseInt(1e-4*l.COIN)}s.COINBASE_OP=v,r.MAX_SEQUENCE=4294967295,r.prototype.getScript=function(){return new a(this.s)},r.prototype.isCoinBase=function(){return this.o?0===d.compare(new n(this.o),v):!1},r.prototype.serialize=function(){var e=l.varIntBuf(this.s.length),t=new n(4);t.writeUInt32LE(this.q,0);var r=n.concat([this.o,e,this.s,t]);return r},r.prototype.getOutpointHash=function(){return"undefined"!=typeof this.o.outHashCache?this.o.outHashCache:this.o.outHashCache=this.o.slice(0,32)},r.prototype.getOutpointIndex=function(){return this.o[32]+(this.o[33]<<8)+(this.o[34]<<16)+(this.o[35]<<24)},r.prototype.setOutpointIndex=function(e){this.o[32]=255&e,this.o[33]=e>>8&255,this.o[34]=e>>16&255,this.o[35]=e>>24&255},i.prototype.getValue=function(){return(new p(this.v)).word64lu()},i.prototype.getScript=function(){return new a(this.s)},i.prototype.serialize=function(){var e=l.varIntBuf(this.s.length);return n.concat([this.v,e,this.s])},s.In=r,s.Out=i,s.prototype.isCoinBase=function(){return 1==this.ins.length&&this.ins[0].isCoinBase()},s.prototype.isStandard=function(){var e;for(e=0;e<this.ins.length;e++)if("Strange"==this.ins[e].getScript().getInType())return!1;for(e=0;e<this.outs.length;e++)if("Strange"==this.outs[e].getScript().getOutType())return!1;return!0},s.prototype.serialize=function(){var e=[],t=new n(4);t.writeUInt32LE(this.version,0),e.push(t),e.push(l.varIntBuf(this.ins.length)),this.ins.forEach(function(t){e.push(t.serialize())}),e.push(l.varIntBuf(this.outs.length)),this.outs.forEach(function(t){e.push(t.serialize())});var t=new n(4);return t.writeUInt32LE(this.lock_time,0),e.push(t),this._buffer=n.concat(e),this._buffer},s.prototype.getBuffer=function(){return this._buffer?this._buffer:this.serialize()},s.prototype.calcHash=function(){return this.hash=l.twoSha256(this.getBuffer()),this.hash},s.prototype.checkHash=function(){return this.hash&&this.hash.length?0===d.compare(this.calcHash(),this.hash):!1},s.prototype.getHash=function(){return this.hash&&this.hash.length||(this.hash=this.calcHash()),this.hash},s.prototype.calcNormalizedHash=function(){return this.normalizedHash=this.hashForSignature(new a,0,g),this.normalizedHash},s.prototype.getNormalizedHash=function(){return this.normalizedHash&&this.normalizedHash.length||(this.normalizedHash=this.calcNormalizedHash()),this.normalizedHash},s.prototype.inputs=function(){for(var e=[],t=0;t<this.ins.length;t++){var n=this.ins[t],r=n.getOutpointHash(),i=n.getOutpointIndex();e.push([r,i])}return e},s.prototype.verifyInput=function(e,t,n,r){var i=this.ins[e].getScript();return f.verifyFull(i,t,this,e,0,n,r)},s.prototype.getAffectedKeys=function(e){if(!this.affects||!this.affects.length){this.affects=[];for(var t=0,n=this.outs.length;n>t;t++){var r=this.outs[t],i=r.getScript(),s=i.simpleOutPubKeyHash();s&&this.affects.push(s)}for(var o=e.txIndex,t=0,n=this.ins.length;n>t;t++){var u=this.ins[t];if(!u.isCoinBase()){var a=u.getOutpointHash(),f=u.getOutpointIndex(),l=a.toString("base64"),c=o[l];if(!c)throw new Error("Input not found!");var r=c[f],i=r.getScript(),s=i.simpleOutPubKeyHash();s&&this.affects.push(s)}}}var h={};return this.affects.forEach(function(e){h[e.toString("base64")]=e}),h};var m=171,g=1,y=2,b=3,w=128;s.SIGHASH_ALL=g,s.SIGHASH_NONE=y,s.SIGHASH_SINGLE=b,s.SIGHASH_ANYONECANPAY=w;var E=function(e,t,n,r){this.txTo=e,this.scriptCode=t,this.nIn=n,this.anyoneCanPay=!!(r&w);var i=31&r;this.hashSingle=i===b,this.hashNone=i===y,this.bytes=new h};E.prototype.serializeOutput=function(e){if(this.hashSingle&&e!=this.nIn)this.bytes.put(l.INT64_MAX),this.bytes.varint(0);else{var t=this.txTo.outs[e];this.bytes.put(t.v),this.bytes.varint(t.s.length),this.bytes.put(t.s)}},E.prototype.serializeScriptCode=function(){this.scriptCode.findAndDelete(m),this.bytes.varint(this.scriptCode.buffer.length),this.bytes.put(this.scriptCode.buffer)},E.prototype.serializeInput=function(e){this.anyoneCanPay&&(e=this.nIn),this.bytes.put(this.txTo.ins[e].o),e!==this.nIn?this.bytes.varint(0):this.serializeScriptCode(),this.bytes.word32le(e!==this.nIn&&(this.hashSingle||this.hashNone)?0:this.txTo.ins[e].q)},E.prototype.serialize=function(){this.bytes.word32le(this.txTo.version);var e=this.anyoneCanPay?1:this.txTo.ins.length;this.bytes.varint(e);for(var t=0;e>t;t++)this.serializeInput(t);var n=this.hashNone?0:this.hashSingle?this.nIn+1:this.txTo.outs.length;this.bytes.varint(n);for(var r=0;n>r;r++)this.serializeOutput(r);this.bytes.word32le(this.txTo.lock_time)},E.prototype.buffer=function(){return this.serialize(),this.bytes.buffer()},s.Serializer=E;var S=function(){var e=new n(32);e.writeUInt8(1,0);for(var t=1;32>t;t++)e.writeUInt8(0,t);return e};s.prototype.hashForSignature=function(e,t,r){if(+t!==t||0>t||t>=this.ins.length)return S();var i=31&r;if(i===b&&t>=this.outs.length)return S();var s=new E(this,e,t,r),o=s.buffer(),u=(new h).word32le(r).buffer();return o=n.concat([o,u]),l.twoSha256(o)},s.prototype.getStandardizedObject=function(){var e={hash:l.formatHashFull(this.getHash()),version:this.version,lock_time:this.lock_time},t=8;t+=l.getVarIntSize(this.ins.length);var r=this.ins.map(function(e){var r={prev_out:{hash:d.reverse(new n(e.getOutpointHash())).toString("hex"),n:e.getOutpointIndex()},sequence:e.q};return e.isCoinBase()?r.coinbase=e.s.toString("hex"):r.scriptSig=(new a(e.s)).getStringContent(!1,0),t+=36+l.getVarIntSize(e.s.length)+e.s.length+4,r});t+=l.getVarIntSize(this.outs.length);var i=this.outs.map(function(e){return t+=l.getVarIntSize(e.s.length)+e.s.length+8,{value:l.formatValue(e.v),scriptPubKey:(new a(e.s)).getStringContent(!1,0)}});return e.size=t,e["in"]=r,e.out=i,e},s.prototype.toObject=function(){return this},s.prototype.fromObj=function(e){var t={};t.version=e.version||1,t.lock_time=e.lock_time||0,t.ins=[],t.outs=[],e.inputs.forEach(function(e){var i=new r;i.s=l.EMPTY_BUFFER,i.q=4294967295;var s=new n(e.txid,"hex");s=d.reverse(s);var o=parseInt(e.vout),u=new n(4);u.writeUInt32LE(o,0),i.o=n.concat([s,u]),t.ins.push(i)});var s=Object.keys(e.outputs);s.forEach(function(n){var r=new u(n),s=a.createPubKeyHashOut(r.payload()),o=c(e.outputs[n]),f=l.bigIntToValue(o),h=new i;h.v=f,h.s=s.getBuffer(),t.outs.push(h)}),this.lock_time=t.lock_time,this.version=t.version,this.ins=t.ins,this.outs=t.outs},s.prototype.parse=function(e){n.isBuffer(e)&&(this._buffer=e,e=new p(e));{var t;e.pos}this.version=e.word32le();var s=e.varInt();for(this.ins=[],j=0;s>j;j++){var o=new r;o.o=e.buffer(36),t=e.varInt(),o.s=e.buffer(t),o.q=e.word32le(),this.ins.push(o)}var u=e.varInt();for(this.outs=[],j=0;u>j;j++){var a=new i;a.v=e.buffer(8),t=e.varInt(),a.s=e.buffer(t),this.outs.push(a)}this.lock_time=e.word32le(),this.calcHash()},s.prototype.calcSize=function(){var e=8;return e+=l.getVarIntSize(this.ins.length),this.ins.forEach(function(t){e+=36+l.getVarIntSize(t.s.length)+t.s.length+4}),e+=l.getVarIntSize(this.outs.length),this.outs.forEach(function(t){e+=l.getVarIntSize(t.s.length)+t.s.length+8}),this.size=e,e},s.prototype.getSize=function(){return this.size||(this.size=this.calcSize()),this.size},s.prototype.countInputSignatures=function(e){var t=new a(this.ins[e].s);return t.countSignatures()},s.prototype.countInputMissingSignatures=function(e){var t=new a(this.ins[e].s);return t.countMissingSignatures()},s.prototype.isInputComplete=function(e){var t=this.countInputMissingSignatures(e);return null===t?null:0===t},s.prototype.isComplete=function(){for(var e=!0,t=this.ins.length,n=0;t>n;n++)if(!this.isInputComplete(n)){e=!1;break}return e},t.exports=e("soop")(s)}).call(this,e("buffer").Buffer)},{"../config":"4itQ50","../networks":"ULNIu2","../util":179,"../util/BinaryParser":"b3ZSD7","../util/error":178,"../util/log":"AdF7pF","./Address":"G+CcXD","./Bignum":"9Sbj2J","./PrivateKey":"izTl9z","./Script":"hQ0t76","./ScriptInterpreter":"Q/ZWXW","./WalletKey":"wWje7g",buffer:87,bufferput:"aXRuS6",buffertools:"fugeBw",soop:164,step:165}],"./lib/Transaction":[function(e,t,n){t.exports=e("LJhYtm")},{}],D1Ge6m:[function(e,t,n){(function(n){"use strict";function r(e){return e=e||{},this.lockTime=e.lockTime||0,this.spendUnconfirmed=e.spendUnconfirmed||!1,(e.fee||e.feeSat)&&(this.givenFeeSat=e.fee?e.fee*u.COIN:e.feeSat),this.remainderOut=e.remainderOut,this.signhash=e.signhash||v.SIGHASH_ALL,this.tx={},this.inputsSigned=0,this.signaturesAdded=0,this}var i=e("soop").imports(),s=i.Address||e("./Address"),o=i.Script||e("./Script"),u=i.util||e("../util"),a=i.bignum||e("./Bignum"),f=i.buffertools||e("buffertools"),l=i.networks||e("../networks"),c=i.WalletKey||e("./WalletKey"),h=i.PrivateKey||e("./PrivateKey"),p=i.Key||e("./Key"),d=i.log||e("../util/log"),v=i.Transaction||e("./Transaction"),m=parseInt(1e-4*u.COIN);r.scriptForAddress=function(e){var t,n=l.livenet,r=l.testnet,i=new s(e),u=i.version();if(u===n.addressVersion||u===r.addressVersion)t=o.createPubKeyHashOut(i.payload());else{if(u!==n.P2SHVersion&&u!==r.P2SHVersion)throw new Error("invalid output address");t=o.createP2SH(i.payload())}return t},r._scriptForPubkeys=function(e){for(var t=e.pubkeys.length,r=[],i=0;t>i;i++)r.push(new n(e.pubkeys[i],"hex"));return o.createMultisig(e.nreq,r)},r._scriptForOut=function(e){var t;if(e.address)t=this.scriptForAddress(e.address);else{if(!(e.pubkeys||e.nreq||e.nreq>1))throw new Error("unknown out type");t=this._scriptForPubkeys(e)}return t},r.infoForP2sh=function(e,t){var n=this._scriptForOut(e),r=u.sha256ripe160(n.getBuffer()),i="testnet"===t?l.testnet.P2SHVersion:l.livenet.P2SHVersion,o=new s(i,r),a=o.as("base58");return{script:n,scriptBufHex:n.getBuffer().toString("hex"),hash:r,address:a}},r.prototype.setUnspent=function(e){return this.utxos=e,this},r.prototype._setInputMap=function(){for(var e=[],t=this.selectedUtxos.length,r=0;t>r;r++){var i=this.selectedUtxos[r],s=new n(i.scriptPubKey,"hex"),u=new o(s),a=u.classify();if(a===o.TX_UNKNOWN)throw new Error("unkown output type at:"+r+" Type:"+u.getRawOutType());e.push({address:i.address,scriptPubKey:u,scriptType:a,i:r})}return this.inputMap=e,this},r.prototype.getSelectedUnspent=function(){return this.selectedUtxos},r.prototype._selectUnspent=function(e){if(!this.utxos||!this.utxos.length)throw new Error("unspent not set");var t=[6,1];this.spendUnconfirmed&&t.push(0);var n=[],r=a(0),i=!1,s=null,o=this.utxos.length;do{for(var f=t.shift(),l=0;o>l;l++){var c=this.utxos[l],h=c.confirmations||0;if(!(f>h||s&&h>=s)){var p=c.amountSat||u.parseValue(c.amount);if(r=r.add(p),n.push(c),r.cmp(e)>=0){i=!0;break}}}s=f}while(!i&&t.length);if(!i)throw new Error("no enough unspent to fulfill totalNeededAmount [SAT]:"+e);return this.selectedUtxos=n,this._setInputMap(),this},r.prototype._setInputs=function(e){var t=this.selectedUtxos,r=t.length,i=a(0);e.ins=[];for(var s=0;r>s;s++){i=i.add(u.parseValue(t[s].amount));var o={};o.s=u.EMPTY_BUFFER,o.q=4294967295;var l=new n(t[s].txid,"hex"),c=f.reverse(l),h=parseInt(t[s].vout),p=new n(4);p.writeUInt32LE(h,0),o.o=n.concat([c,p]),e.ins.push(o)}return this.valueInSat=i,this},r.prototype._setFee=function(e){if("undefined"==typeof this.valueOutSat)throw new Error("valueOutSat undefined");var t=this.valueOutSat.add(e);if(this.valueInSat.cmp(t)<0){var n=this.valueInSat.toString(),r=t.toString();throw new Error("transaction input amount is less than outputs: "+n+" < "+r+" [SAT]")}return this.feeSat=e,this},r.prototype._setRemainder=function(e,t){if("undefined"==typeof this.valueInSat||"undefined"==typeof this.valueOutSat)throw new Error("valueInSat / valueOutSat undefined");var n=this.valueInSat.sub(this.valueOutSat).sub(this.feeSat),i=e.outs.length;if(this.remainderSat=a(0),i>t&&e.outs.pop(),n.cmp(0)>0){var s=this.remainderOut||this.selectedUtxos[0],o=u.bigIntToValue(n),f=r._scriptForOut(s),l={v:o,s:f.getBuffer()};e.outs.push(l),this.remainderSat=n}return this},r.prototype._setFeeAndRemainder=function(e){var t,n=500,r=e.outs.length;do{t=parseInt(n/1e3)+1;var i=this.givenFeeSat?this.givenFeeSat:t*m,s=this.valueOutSat.add(i);this._selectUnspent(s)._setInputs(e)._setFee(i)._setRemainder(e,r),n=(new v(e)).getSize()}while(n>1e3*(t+1));return this},r.prototype.setOutputs=function(e){var t=a(0),n={};n.version=1,n.lock_time=this.lockTime||0,n.ins=[],n.outs=[];for(var i=e.length,s=0;i>s;s++){var o=e[s].amountSat||u.parseValue(e[s].amount),f=u.bigIntToValue(o),l=r._scriptForOut(e[s]),c={v:f,s:l.getBuffer()};n.outs.push(c);var h=e[s].amountSat||u.parseValue(e[s].amount);t=t.add(h)}return this.valueOutSat=t,this._setFeeAndRemainder(n),this.tx=new v(n),this},r._mapKeys=function(e){for(var t,n={},r=e.length,i=0;r>i;i++){var s=e[i];if("string"==typeof s){var o=new h(s);t=new c({network:o.network()}),t.fromObj({priv:s})}else{if(!(s instanceof c))throw new Error("argument must be an array of strings (WIF format) or WalletKey objects");t=s}n[t.storeObj().addr]=t}return n},r._signHashAndVerify=function(e,t){var n,r=10;do n=e.privKey.signSync(t);while(e.privKey.verifySignatureSync(t,n)===!1&&r--);if(0>r)throw new Error("could not sign input: verification failed");return n},r.prototype._checkTx=function(){if(!this.tx||!this.tx.ins.length||!this.tx.outs.length)throw new Error("tx is not defined")},r.prototype._multiFindKey=function(e,t){var n;return[l.livenet,l.testnet].forEach(function(r){[r.addressVersion,r.P2SHVersion].forEach(function(r){var i=new s(r,t);!n&&e[i]&&(n=e[i])})}),n},r.prototype._findWalletKey=function(e,t){var n;if(t.address)n=e[t.address];else if(t.pubKeyHash)n=this._multiFindKey(e,t.pubKeyHash);else{if(!t.pubKeyBuf)throw new Error("no infomation at input to find keys");var r=u.sha256ripe160(t.pubKeyBuf);n=this._multiFindKey(e,r)}return n},r.prototype._signPubKey=function(e,t,i){if(this.tx.ins[t.i].s.length>0)return{};var s=this._findWalletKey(e,t);if(s){var u=r._signHashAndVerify(s,i),a=new n(1);a[0]=this.signhash;var f=n.concat([u,a]),l=new o;return l.chunks.push(f),l.updateBuffer(),{inputFullySigned:!0,signaturesAdded:1,script:l.getBuffer()}}},r.prototype._signPubKeyHash=function(e,t,i){if(this.tx.ins[t.i].s.length>0)return{};var s=this._findWalletKey(e,t);if(s){var u=r._signHashAndVerify(s,i),a=new n(1);a[0]=this.signhash;var f=n.concat([u,a]),l=new o;return l.chunks.push(f),l.chunks.push(s.privKey.public),l.updateBuffer(),{inputFullySigned:!0,signaturesAdded:1,script:l.getBuffer()}}},r.prototype._chunkSignedWithKey=function(e,t,r){var i,s=new p;s.public=r;for(var o=1;o<=e.countSignatures();o++){var u=e.chunks[o],a=new n(u.slice(0,u.length-1));s.verifySignatureSync(t,a)&&(i=u)}return i},r.prototype._getSignatureOrder=function(e,t,r,i){for(var s=i.length,o=0;s>o;o++){var u=new p;if(u.public=new n(i[o],"hex"),u.verifySignatureSync(r,t))break}return o},r.prototype._getNewSignatureOrder=function(e,t,r,i){for(var s,o=1;o<=t.countSignatures();o++){var u=t.chunks[o],a=new n(u.slice(0,u.length-1));if(s=this._getSignatureOrder(e,a,r,i),s>=e)break}return e===s?-1:o-1},r.prototype._chunkIsEmpty=function(e){return 0===e||0===f.compare(e,u.EMPTY_BUFFER)},r.prototype._initMultiSig=function(e){var t=!1;return 0!==e.chunks[0]&&(e.prependOp0(),t=!0),t},r.prototype._updateMultiSig=function(e,t,i,s,o){var u=this._initMultiSig(i);if(this._chunkSignedWithKey(i,s,t.privKey.public))return null;var a=r._signHashAndVerify(t,s),f=new n(1);f[0]=this.signhash;var l=n.concat([a,f]),c=this._getNewSignatureOrder(e,i,s,o);return i.chunks.splice(c+1,0,l),i.updateBuffer(),u=!0,u?i:null},r.prototype._signMultiSig=function(e,t,n){for(var r=t.scriptPubKey.capture(),i=t.scriptPubKey.chunks[0]-80,s=r.length,u=this.tx.ins[t.i].s,a=new o(u),f=0,l=0;s>l&&a.countSignatures()<i;l++){var c=this._findWalletKey(e,{pubKeyBuf:r[l]});if(c){var h=this._updateMultiSig(l,c,a,n,r);h&&(a=h,f++)}}var p={inputFullySigned:a.countSignatures()===i,signaturesAdded:f,script:a.getBuffer()};return p};var g={};r.prototype._scriptIsAppended=function(e,t){var n=e.chunks.length;return void 0===e.chunks[n-1]?!1:"number"==typeof e.chunks[n-1]?!1:0!==f.compare(e.chunks[n-1],t)?!1:!0},r.prototype._addScript=function(e,t){var n=new o(e);return this._scriptIsAppended(n,t)||(n.chunks.push(t),n.updateBuffer()),n.getBuffer()},r.prototype._getInputForP2sh=function(e,t){var n,r=e.classify();switch(r){case o.TX_PUBKEYHASH:n=e.captureOne();break;case o.TX_PUBKEY:var i=e.captureOne();n=u.sha256ripe160(i)}return{i:t,pubKeyHash:n,scriptPubKey:e,scriptType:r,isP2sh:!0}},r.prototype._p2shInput=function(e){if(!this.hashToScriptMap)throw new Error("hashToScriptMap not set");var t=this.hashToScriptMap[e.address];if(t){var r=new n(t,"hex"),i=new o(r),s=i.classify();if(!g[s]||s===o.TX_SCRIPTHASH)throw new Error("dont know how to sign p2sh script type:"+i.getRawOutType());return{input:this._getInputForP2sh(i,e.i),txSigHash:this.tx.hashForSignature(i,e.i,this.signhash),scriptType:i.classify(),scriptBuf:r}}},r.prototype._signScriptHash=function(e,t){var n=this._p2shInput(t),r=g[n.scriptType].call(this,e,n.input,n.txSigHash);return r&&r.script&&r.signaturesAdded&&(r.script=this._addScript(r.script,n.scriptBuf)),r},g[o.TX_PUBKEYHASH]=r.prototype._signPubKeyHash,g[o.TX_PUBKEY]=r.prototype._signPubKey,g[o.TX_MULTISIG]=r.prototype._signMultiSig,g[o.TX_SCRIPTHASH]=r.prototype._signScriptHash,r.prototype.sign=function(e){this._checkTx();for(var t=this.tx,n=t.ins,i=n.length,s=r._mapKeys(e),o=0;i>o;o++){var u=this.inputMap[o],a=this.tx.hashForSignature(u.scriptPubKey,o,this.signhash),f=g[u.scriptType].call(this,s,u,a);f&&f.script&&(t.ins[o].s=f.script,f.inputFullySigned&&this.inputsSigned++,f.signaturesAdded&&(this.signaturesAdded+=f.signaturesAdded))}return this},r.prototype.setHashToScriptMap=function(e){return this.hashToScriptMap=e,this},r.prototype.isFullySigned=function(){return this.inputsSigned===this.tx.ins.length},r.prototype.build=function(){return this._checkTx(),this.tx},r.prototype.toObj=function(){var e={valueInSat:this.valueInSat.toString(),valueOutSat:this.valueOutSat.toString(),feeSat:this.feeSat.toString(),remainderSat:this.remainderSat.toString(),hashToScriptMap:this.hashToScriptMap,selectedUtxos:this.selectedUtxos,inputsSigned:this.inputsSigned,signaturesAdded:this.signaturesAdded,signhash:this.signhash,spendUnconfirmed:this.spendUnconfirmed};return this.tx&&(e.tx=this.tx.serialize().toString("hex")),e},r.fromObj=function(e){var t=new r;if(t.valueInSat=e.valueInSat.toString(),t.valueOutSat=e.valueOutSat.toString(),t.feeSat=e.feeSat.toString(),t.remainderSat=e.remainderSat.toString(),t.hashToScriptMap=e.hashToScriptMap,t.selectedUtxos=e.selectedUtxos,t.inputsSigned=e.inputsSigned,t.signaturesAdded=e.signaturesAdded,t.signhash=e.signhash,t.spendUnconfirmed=e.spendUnconfirmed,t._setInputMap(),e.tx){var i=new v;i.parse(new n(e.tx,"hex")),t.tx=i}return t},r.prototype._checkMergeability=function(e){var t=this;if(["valueInSat","valueOutSat","feeSat","remainderSat","signhash","spendUnconfirmed"].forEach(function(n){if(t[n].toString()!==e[n].toString())throw new Error("mismatch at TransactionBuilder match: "+n+": "+t[n]+" vs. "+e[n])}),t.hashToScriptMap){var n=0;if(e.hashToScriptMap||(n=1),Object.keys(t.hashToScriptMap).forEach(function(r){e.hashToScriptMap[r]||(n=1),t.hashToScriptMap[r]!==e.hashToScriptMap[r]&&(n=1)}),n)throw new Error("mismatch at TransactionBuilder hashToScriptMap")}var n=0,r=0;if(t.selectedUtxos.forEach(function(t){if(!n){var i=e.selectedUtxos[r++];i||(n=1),["address","hash","scriptPubKey","vout","amount"].forEach(function(e){t[e]!==i[e]&&(n=e)})}}),n)throw new Error("mismatch at TransactionBuilder selectedUtxos #"+r-1+" Key:"+n);if(n=0,r=0,t.inputMap.forEach(function(t){if(!n){var i=e.inputMap[r++];i||(n=1),["address","scriptType","scriptPubKey","i"].forEach(function(e){t[e].toString()!==i[e].toString()&&(n=e)})}}),n)throw new Error("mismatch at TransactionBuilder inputMap #"+r-1+" Key:"+n)},r.prototype._mergeInputSigP2sh=function(e,t,n){for(var r=this._p2shInput(e),i=new o(r.scriptBuf),s=i.capture(),u={},a=s.length,f=0;a>f;f++)this._chunkSignedWithKey(t,r.txSigHash,s[f])&&(u[s[f].toString("hex")]=1);for(var l=[],f=0;a>f;f++){var c=this._chunkSignedWithKey(n,r.txSigHash,s[f]),h=s[f].toString("hex");c&&!u[h]&&l.push({prio:f,chunk:c,pubHex:h})}for(var f in l){var p=l[f],d=this._getNewSignatureOrder(p.prio,t,r.txSigHash,s);t.chunks.splice(d+1,0,p.chunk),this.signaturesAdded++}return t.updateBuffer(),t.getBuffer()},r.prototype._mergeInputSig=function(e,t,n){if(0===f.compare(t,n))return t;var r=new o(t),i=new o(n),s=r.chunks.length,u=i.chunks.length;if(s&&u&&(2>s&&u>2||2>u&&s>2))throw new Error("TX sig types mismatch in merge");if(!s&&!u||s&&!u||!s&&u)return n;var a=this.inputMap[e],l=a.scriptPubKey.classify();if(l===o.TX_PUBKEYHASH||l===o.TX_PUBKEY)return d.debug("Merging two signed inputs type:"+a.scriptPubKey.getRawOutType()+". Signatures differs. Using the first version."),t;if(l!==o.TX_SCRIPTHASH)throw new Error("Script type:"+a.scriptPubKey.getRawOutType()+"not supported at #merge");return this._mergeInputSigP2sh(a,r,i)},r.prototype._mergeTx=function(e){var t=this.tx,n=e,r=t.ins.length;if(r!==n.ins.length)throw new Error("TX in length mismatch in merge");this.inputsSigned=0;for(var i=0;r>i;i++){var s=t.ins[i],o=n.ins[i];if(s.q!==o.q)throw new Error("TX sequence ins mismatch in merge. Input:",i);if(0!==f.compare(s.o,o.o))throw new Error("TX .o in mismatch in merge. Input:",i);s.s=this._mergeInputSig(i,s.s,o.s),t.isInputComplete(i)&&this.inputsSigned++}},r.prototype.merge=function(e){if(this._checkMergeability(e),this.tx||e.tx){if(this.tx.getNormalizedHash().toString("hex")!==e.tx.getNormalizedHash().toString("hex"))throw new Error("mismatch at TransactionBuilder NTXID");this._mergeTx(e.tx)}},t.exports=e("soop")(r)}).call(this,e("buffer").Buffer)},{"../networks":"ULNIu2","../util":179,"../util/log":"AdF7pF","./Address":"G+CcXD","./Bignum":"9Sbj2J","./Key":"aEfkTx","./PrivateKey":"izTl9z","./Script":"hQ0t76","./Transaction":"LJhYtm","./WalletKey":"wWje7g",buffer:87,buffertools:"fugeBw",soop:164}],"./lib/TransactionBuilder":[function(e,t,n){t.exports=e("D1Ge6m")},{}],yUY4WV:[function(e,t,n){(function(n){function r(e){"object"!=typeof e&&(e={}),this.datastore=JSON.parse(e.datastore?JSON.stringify(e.datastore):JSON.stringify(h)),this.network=void 0,this.dirty=e.dirty||!0}var i=e("soop").imports(),s=function(e){return new n(e,"hex")},o=e("fs"),u=e("../util/EncFile"),a=e("./Address"),f=e("../networks"),l=i.util||e("../util"),c="aes-256-cbc",h={client:"libcoin",client_version:"0.0.1",network:"testnet",version:1,best_hash:null,best_height:-1,keys:[],sin:{},scripts:{}};r.prototype.readSync=function(e,t){this.datastore=u.readJFileSync(c,t,e),this.dirty=!1},r.prototype.writeSync=function(e,t){var n=e+".tmp";u.writeJFileSync(c,t,n,this.datastore),o.renameSync(n,e),this.dirty=!1},r.prototype.setNetwork=function(e){switch(e||(e=this.datastore.network),e){case"mainnet":case"livenet":this.network=f.livenet;break;case"testnet":this.network=f.testnet;break;default:throw new Error("Unsupported network")}this.datastore.network=this.network.name,this.dirty=!0},r.prototype.addKey=function(e){this.datastore.keys.push(e),this.dirty=!0},r.prototype.addSIN=function(e){this.datastore.sin[e.sin]=e,this.dirty=!0},r.prototype.findKeyHash=function(e){for(var t=e.toString(),n=0;n<this.datastore.keys.length;n++){var r=this.datastore.keys[n],i=r.addr,s=new a(i);if(s.payload().toString()==t)return r}return void 0},r.prototype.expandKey=function(e){var t=new a(e);try{t.validate();var n=t.payload(),r=this.findKeyHash(n);e=r.pub}catch(i){}var o=/^[a-fA-F0-9]+$/;if(!e.match(o))throw new Error("Unknown key type");return s(e)},r.prototype.expandKeys=function(e){var t=[],n=this;return e.forEach(function(e){var r=n.expandKey(e);t.push(r)}),t},r.prototype.addScript=function(e){var t=e.getBuffer(),n=l.sha256ripe160(t),r=new a(this.network.P2SHVersion,n),i=r.as("base58");return this.datastore.scripts[i]=t.toString("hex"),this.dirty=!0,i},t.exports=e("soop")(r)}).call(this,e("buffer").Buffer)},{"../networks":"ULNIu2","../util":179,"../util/EncFile":173,"./Address":"G+CcXD",buffer:87,fs:83,soop:164}],"./lib/Wallet":[function(e,t,n){t.exports=e("yUY4WV")},{}],"./lib/WalletKey":[function(e,t,n){t.exports=e("wWje7g")},{}],wWje7g:[function(e,t,n){(function(n){function r(e){if(e||(e={}),!e.network)throw new Error("network parameter is required");this.network=e.network,this.created=e.created,this.privKey=e.privKey}var i=(e("soop").imports(),e("../util")),s=e("../util/time"),o=e("./Key"),u=e("./PrivateKey"),a=e("./Address");r.prototype.generate=function(){this.privKey=o.generateSync(),this.created=s.curtime()},r.prototype.storeObj=function(){var e=this.privKey.public.toString("hex"),t=i.sha256ripe160(this.privKey.public),n=new a(this.network.addressVersion,t),r=new u(this.network.privKeyVersion,this.privKey.private,this.privKey.compressed),s={created:this.created,priv:r.toString(),pub:e,addr:n.toString()};return s},r.prototype.fromObj=function(e){if(this.created=e.created,this.privKey=new o,64==e.priv.length)this.privKey.private=new n(e.priv,"hex"),this.privKey.compressed="undefined"==typeof e.compressed?!0:e.compressed;else{var t=new u(e.priv);t.validate(),this.privKey.private=new n(t.payload()),this.privKey.compressed=t.compressed()}this.privKey.regenerateSync()},t.exports=e("soop")(r)}).call(this,e("buffer").Buffer)},{"../util":179,"../util/time":182,"./Address":"G+CcXD","./Key":"aEfkTx","./PrivateKey":"izTl9z",buffer:87,soop:164}],64:[function(e,t,n){(function(e){function n(e,t){var s,o,u,l,c,d,v=this;if(!(v instanceof n))return new n(e,t);if(e instanceof n){if(S=0,t===s)return v.s=e.s,v.e=e.e,void (v.c=(e=e.c)?e.slice():e);e+=""}if(""===e&&(e=0),"string"!=typeof e&&(e=(u="number"==typeof e||"[object Number]"==Object.prototype.toString.call(e))&&0===e&&0>1/e?"-0":e+""),d=e,t===s&&x.test(e))v.s="-"==e.charAt(0)?(e=e.slice(1),-1):1;else{if(10==t)return a(e,h,p);if(e=T.call(e).replace(/^\+(?!-)/,""),v.s="-"==e.charAt(0)?(e=e.replace(/^-(?!-)/,""),-1):1,null!=t?t!=(0|t)&&y||(f=!(t>=2&&65>t))?(r(t,2),c=x.test(e)):(l="["+E.slice(0,t=0|t)+"]+",e=e.replace(/\.$/,"").replace(/^\./,"0."),(c=(new RegExp("^"+l+"(?:\\."+l+")?$",37>t?"i":"")).test(e))?(u&&(e.replace(/^0\.0*|\./,"").length>15&&r(d,0),u=!u),e=i(e,10,t,v.s)):"Infinity"!=e&&"NaN"!=e&&(r(d,1,t),e="NaN")):c=x.test(e),!c)return v.c=v.e=null,"Infinity"!=e&&("NaN"!=e&&r(d,3),v.s=null),void (S=0)}for((s=e.indexOf("."))>-1&&(e=e.replace(".","")),(o=e.search(/e/i))>0?(0>s&&(s=o),s+=+e.slice(o+1),e=e.substring(0,o)):0>s&&(s=e.length),o=0;"0"==e.charAt(o);o++);if(t=e.length,u&&t>15&&e.slice(o).length>15&&r(d,0),S=0,(s-=o+1)>g)v.c=v.e=null;else if(o==t||m>s)v.c=[v.e=0];else{for(;"0"==e.charAt(--t););for(v.e=s,v.c=[],s=0;t>=o;v.c[s++]=+e.charAt(o++));}}function r(e,t,n,r,i,s){if(y){var o,u=["new BigNumber","cmp","div","eq","gt","gte","lt","lte","minus","mod","plus","times","toFr"][S?0>S?-S:S:0>1/S?1:0]+"()",a=f?" out of range":" not a"+(i?" non-zero":"n")+" integer";throw a=([u+" number type has more than 15 significant digits",u+" not a base "+n+" number",u+" base"+a,u+" not a number"][t]||n+"() "+t+(s?" not a boolean or binary digit":a+(r?" or not ["+(f?" negative, positive":" integer, integer")+" ]":"")))+": "+e,f=S=0,o=new Error(a),o.name="BigNumber Error",o}}function i(e,t,r,i){function o(e,n){var i,s,o=0,u=e.length,a=[0];for(n=n||r;u>o;o++){for(s=a.length,i=0;s>i;a[i]*=n,i++);for(a[0]+=E.indexOf(e.charAt(o)),i=0;i<a.length;i++)a[i]>t-1&&(null==a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/t^0,a[i]%=t)}return a.reverse()}function u(e){for(var t=0,n=e.length,r="";n>t;r+=E.charAt(e[t++]));return r}var a,f,l,c,h,p;if(37>r&&(e=e.toLowerCase()),(a=e.indexOf("."))>-1)if(a=e.length-a-1,f=o((new n(r)).pow(a).toF(),10),c=e.split("."),l=o(c[1]),c=o(c[0]),p=s(l,f,l.length-f.length,i,t,1&c[c.length-1]),h=p.c,a=p.e){for(;++a;h.unshift(0));e=u(c)+"."+u(h)}else h[0]?c[a=c.length-1]<t-1?(++c[a],e=u(c)):e=(new n(u(c),t)).plus(N).toS(t):e=u(c);else e=u(o(e));return e}function s(e,t,r,i,s,o){var a,f,l,c,p,d=t.slice(),v=a=t.length,y=e.length,b=e.slice(0,a),w=b.length,E=new n(N),S=E.c=[],x=0,T=h+(E.e=r)+1;for(E.s=i,i=0>T?0:T;w++<a;b.push(0));d.unshift(0);do{for(l=0;s>l;l++){if(a!=(w=b.length))c=a>w?1:-1;else for(p=-1,c=0;++p<a;)if(t[p]!=b[p]){c=t[p]>b[p]?1:-1;break}if(!(0>c))break;for(f=w==a?t:d;w;){if(b[--w]<f[w]){for(p=w;p&&!b[--p];b[p]=s-1);--b[p],b[w]+=s}b[w]-=f[w]}for(;!b[0];b.shift());}S[x++]=c?l:++l,b[0]&&c?b[w]=e[v]||0:b=[e[v]]}while((v++<y||null!=b[0])&&i--);return S[0]||1==x||(--E.e,S.shift()),x>T&&u(E,h,s,o,null!=b[0]),E.e>g?E.c=E.e=null:E.e<m&&(E.c=[E.e=0]),E}function o(e,t,r){var i=t-(e=new n(e)).e,s=e.c;if(!s)return e.toS();for(s.length>++t&&u(e,i,10),i=0==s[0]?i+1:r?t:e.e+i+1;s.length<i;s.push(0));return i=e.e,1==r||2==r&&(--t<i||d>=i)?(e.s<0&&s[0]?"-":"")+(s.length>1?(s.splice(1,0,"."),s.join("")):s[0])+(0>i?"e":"e+")+i:e.toS()}function u(e,t,n,r,i){var s=e.c,o=e.s<0,u=n/2,a=e.e+t+1,f=s[a],l=i||0>a||null!=s[a+1];if(i=4>p?(null!=f||l)&&(0==p||2==p&&!o||3==p&&o):f>u||f==u&&(4==p||l||6==p&&(1&s[a-1]||!t&&r)||7==p&&!o||8==p&&o),1>a||!s[0])return s.length=0,s.push(0),i?(s[0]=1,e.e=-t):e.e=0,e;if(s.length=a--,i)for(--n;++s[a]>n;)s[a]=0,a--||(++e.e,s.unshift(1));for(a=s.length;!s[--a];s.pop());return e}function a(e,t,r){var i=p;return p=r,e=new n(e),e.c&&u(e,t,10),p=i,e}var f,l=1e9,c=1e6,h=20,p=4,d=-7,v=21,m=-l,g=l,y=!0,b=parseInt,w=n.prototype,E="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",S=0,x=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,T=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},N=n(1);n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.fromBuffer=function(e,t){t||(t={});var r={1:"big","-1":"little"}[t.endian]||t.endian||"big",i="auto"===t.size?Math.ceil(e.length):t.size||1;if(e.length%i!==0)throw new RangeError("Buffer length ("+e.length+") must be a multiple of size ("+i+")");for(var s=[],o=0;o<e.length;o+=i){for(var u=[],a=0;i>a;a++)u.push(e[o+("big"===r?a:i-a-1)]);s.push(u.map(function(e){return(16>e?"0":"")+e.toString(16)}).join(""))}return n(s.join(""),16)},n.config=function(){var e,t,n=0,i={},s=arguments,o=s[0],u="config",a=function(e,t,n){return!((f=t>e||e>n)||b(e)!=e&&0!==e)},c=o&&"object"==typeof o?function(){return o.hasOwnProperty(t)?null!=(e=o[t]):void 0}:function(){return s.length>n?null!=(e=s[n++]):void 0};return c(t="DECIMAL_PLACES")&&(a(e,0,l)?h=0|e:r(e,t,u)),i[t]=h,c(t="ROUNDING_MODE")&&(a(e,0,8)?p=0|e:r(e,t,u)),i[t]=p,c(t="EXPONENTIAL_AT")&&(a(e,-l,l)?d=-(v=~~(0>e?-e:+e)):!f&&e&&a(e[0],-l,0)&&a(e[1],0,l)?(d=~~e[0],v=~~e[1]):r(e,t,u,1)),i[t]=[d,v],c(t="RANGE")&&(a(e,-l,l)&&~~e?m=-(g=~~(0>e?-e:+e)):!f&&e&&a(e[0],-l,-1)&&a(e[1],1,l)?(m=~~e[0],g=~~e[1]):r(e,t,u,1,1)),i[t]=[m,g],c(t="ERRORS")&&(e===!!e||1===e||0===e?(f=S=0,b=(y=!!e)?parseInt:parseFloat):r(e,t,u,0,0,1)),i[t]=y,i},w.abs=w.absoluteValue=function(){var e=new n(this);return e.s<0&&(e.s=1),e},w.bitLength=function(){return this.toString(2).length},w.ceil=function(){return a(this,0,2)},w.comparedTo=w.cmp=function(e,t){var r,i=this,s=i.c,o=(S=-S,e=new n(e,t)).c,u=i.s,a=e.s,f=i.e,l=e.e;if(!u||!a)return null;if(r=s&&!s[0],t=o&&!o[0],r||t)return r?t?0:-a:u;if(u!=a)return u;if(r=0>u,t=f==l,!s||!o)return t?0:!s^r?1:-1;if(!t)return f>l^r?1:-1;for(u=-1,a=(f=s.length)<(l=o.length)?f:l;++u<a;)if(s[u]!=o[u])return s[u]>o[u]^r?1:-1;return f==l?0:f>l^r?1:-1},w.dividedBy=w.div=function(e,t){var r=this.c,i=this.e,o=this.s,u=(S=2,e=new n(e,t)).c,a=e.e,f=e.s,l=o==f?1:-1;return(i||r&&r[0])&&(a||u&&u[0])?s(r,u,i-a,l,10):new n(o&&f&&(r?!u||r[0]!=u[0]:u)?r&&0==r[0]||!u?0*l:l/0:0/0)},w.equals=w.eq=function(e,t){return S=3,0===this.cmp(e,t)},w.floor=function(){return a(this,0,3)},w.greaterThan=w.gt=function(e,t){return S=4,this.cmp(e,t)>0},w.greaterThanOrEqualTo=w.gte=function(e,t){return S=5,1==(t=this.cmp(e,t))||0===t},w.isFinite=w.isF=function(){return!!this.c},w.isNaN=function(){return!this.s},w.isNegative=w.isNeg=function(){return this.s<0},w.isZero=w.isZ=function(){return!!this.c&&0==this.c[0]},w.lessThan=w.lt=function(e,t){return S=6,this.cmp(e,t)<0},w.lessThanOrEqualTo=w.lte=w.le=function(e,t){return S=7,-1==(t=this.cmp(e,t))||0===t},w.minus=w.sub=function(e,t){var r,i,s,o,u=this,a=u.s;if(t=(S=8,e=new n(e,t)).s,!a||!t)return new n(0/0);if(a!=t)return e.s=-t,u.plus(e);var f=u.c,l=u.e,c=e.c,h=e.e;if(!l||!h){if(!f||!c)return f?(e.s=-t,e):new n(c?u:0/0);if(!f[0]||!c[0])return c[0]?(e.s=-t,e):new n(f[0]?u:3==p?-0:0)}if(f=f.slice(),a=l-h){for(r=(o=0>a)?(a=-a,f):(h=l,c),r.reverse(),t=a;t--;r.push(0));r.reverse()}else for(s=((o=f.length<c.length)?f:c).length,a=t=0;s>t;t++)if(f[t]!=c[t]){o=f[t]<c[t];break}if(o&&(r=f,f=c,c=r,e.s=-e.s),(t=-((s=f.length)-c.length))>0)for(;t--;f[s++]=0);for(t=c.length;t>a;){if(f[--t]<c[t]){for(i=t;i&&!f[--i];f[i]=9);--f[i],f[t]+=10}f[t]-=c[t]}for(;0==f[--s];f.pop());for(;0==f[0];f.shift(),--h);return(m>h||!f[0])&&(f[0]||(e.s=3==p?-1:1),f=[h=0]),e.c=f,e.e=h,e},w.modulo=w.mod=function(e,t){var r=this,i=r.c,s=(S=9,e=new n(e,t)).c,o=r.s,u=e.s;return t=!o||!u||s&&!s[0],t||i&&!i[0]?new n(t?0/0:r):(r.s=e.s=1,t=1==e.cmp(r),r.s=o,e.s=u,t?new n(r):(o=h,u=p,h=0,p=1,r=r.div(e),h=o,p=u,this.minus(r.times(e))))},w.negated=w.neg=function(){var e=new n(this);return e.s=-e.s||null,e},w.plus=w.add=function(e,t){var r,i=this,s=i.s;if(t=(S=10,e=new n(e,t)).s,!s||!t)return new n(0/0);if(s!=t)return e.s=-t,i.minus(e);var o=i.e,u=i.c,a=e.e,f=e.c;if(!o||!a){if(!u||!f)return new n(s/0);if(!u[0]||!f[0])return f[0]?e:new n(u[0]?i:0*s)}if(u=u.slice(),s=o-a){for(r=s>0?(a=o,f):(s=-s,u),r.reverse();s--;r.push(0));r.reverse()}for(u.length-f.length<0&&(r=f,f=u,u=r),s=f.length,t=0;s;t=(u[--s]=u[s]+f[s]+t)/10^0,u[s]%=10);for(t&&(u.unshift(t),++a>g&&(u=a=null)),s=u.length;0==u[--s];u.pop());return e.c=u,e.e=a,e},w.toPower=w.pow=function(e){var t=0*e==0?0|e:e,i=new n(this),s=new n(N);if(((f=-c>e||e>c)&&(t=1*e/0)||b(e)!=e&&0!==e&&!(t=0/0))&&!r(e,"exponent","pow")||!t)return new n(Math.pow(i.toS(),t));for(t=0>t?-t:t;1&t&&(s=s.times(i)),t>>=1,t;)i=i.times(i);return 0>e?N.div(s):s},w.powm=function(e,t){return this.pow(e).mod(t)},w.round=function(e,t){return e=null==e||((f=0>e||e>l)||b(e)!=e)&&!r(e,"decimal places","round")?0:0|e,t=null==t||((f=0>t||t>8)||b(t)!=t&&0!==t)&&!r(t,"mode","round")?p:0|t,a(this,e,t)},w.squareRoot=w.sqrt=function(){var e,t,r,i,s=this,o=s.c,a=s.s,f=s.e,l=h,c=p,d=new n("0.5");if(1!==a||!o||!o[0])return new n(!a||0>a&&(!o||o[0])?0/0:o?s:1/0);for(a=Math.sqrt(s.toS()),p=1,0==a||a==1/0?(e=o.join(""),e.length+f&1||(e+="0"),t=new n(Math.sqrt(e)+""),t.c||(t.c=[1]),t.e=((f+1)/2|0)-(0>f||1&f)):t=new n(e=a.toString()),r=t.e,a=r+(h+=4),3>a&&(a=0),f=a;;)if(i=t,t=d.times(i.plus(s.div(i))),i.c.slice(0,a).join("")===t.c.slice(0,a).join("")){if(o=t.c,a-=e&&t.e<r,9!=o[a]||9!=o[a-1]||9!=o[a-2]||!(9==o[a-3]||e&&4==o[a-3])){if(!(o[f]||o[f-1]||o[f-2]||o[f-3]&&5!=o[f-3]||(o.length>f-2&&(o.length=f-2),t.times(t).eq(s)))){for(;o.length<f-3;)o.push(0);o[f-3]++}return p=c,u(t,h=l,10),t}if(e&&9==o[a-3]&&(i=t.round(l,0),i.times(i).eq(s)))return p=c,h=l,i;h+=4,a+=4,e=""}},w.times=w.mul=function(e,t){var r,i=this,s=i.c,o=(S=11,e=new n(e,t)).c,u=i.e,a=e.e,f=i.s;if(e.s=f==(t=e.s)?1:-1,!((u||s&&s[0])&&(a||o&&o[0])))return new n(!f||!t||s&&!s[0]&&!o||o&&!o[0]&&!s?0/0:s&&o?0*e.s:e.s/0);for(e.e=u+a,(f=s.length)<(t=o.length)&&(r=s,s=o,o=r,a=f,f=t,t=a),a=f+t,r=[];a--;r.push(0));for(u=t-1;u>-1;u--){for(t=0,a=f+u;a>u;t=r[a]+o[u]*s[a-u-1]+t,r[a--]=t%10|0,t=t/10|0);t&&(r[a]=(r[a]+t)%10)}for(t&&++e.e,!r[0]&&r.shift(),a=r.length;!r[--a];r.pop());return e.c=e.e>g?e.e=null:e.e<m?[e.e=0]:r,e},w.toBuffer=function(t){if("string"==typeof t){if("mpint"!==t)return"Unsupported Buffer representation";var n=this.abs(),r=n.toBuffer({size:1,endian:"big"}),i=1===r.length&&0===r[0]?0:r.length;128&r[0]&&i++;var s=new e(4+i);i>0&&r.copy(s,4+(128&r[0]?1:0)),128&r[0]&&(s[4]=0),s[0]=i&255<<24,s[1]=i&255<<16,s[2]=65280&i,s[3]=255&i;var o=this.lt(0);if(o)for(var u=4;u<s.length;u++)s[u]=255-s[u];return s[4]=127&s[4]|(o?128:0),o&&s[s.length-1]++,s}t||(t={});var a={1:"big","-1":"little"}[t.endian]||t.endian||"big",f=this.toString(16);if("-"===f.charAt(0))throw new Error("converting negative numbers to Buffers not supported yet");for(var l="auto"===t.size?Math.ceil(f.length/2):t.size||1,i=Math.ceil(f.length/(2*l))*l,r=new e(i);f.length<2*i;)f="0"+f;var c=f.split(new RegExp("(.{"+2*l+"})")).filter(function(e){return e.length>0});return c.forEach(function(e,t){for(var n=0;l>n;n++){var i=t*l+("big"===a?n:l-n-1);r[i]=parseInt(e.slice(2*n,2*n+2),16)}}),r},w.toExponential=w.toE=function(e){return o(this,(null==e||((f=0>e||e>l)||b(e)!=e&&0!==e)&&!r(e,"decimal places","toE"))&&this.c?this.c.length-1:0|e,1)},w.toFixed=w.toF=function(e){var t,n,i,s=this;return null==e||((f=0>e||e>l)||b(e)!=e&&0!==e)&&!r(e,"decimal places","toF")||(i=s.e+(0|e)),t=d,e=v,d=-(v=1/0),i==n?n=s.toS():(n=o(s,i),s.s<0&&s.c&&(s.c[0]?n.indexOf("-")<0&&(n="-"+n):n=n.replace(/^-/,""))),d=t,v=e,n},w.toFraction=w.toFr=function(e){var t,i,s,o,u,a,l,c=o=new n(N),d=s=new n("0"),v=this,m=v.c,b=g,w=h,E=p,x=new n(N);if(!m)return v.toS();for(l=x.e=m.length-v.e-1,(null==e||(!(S=12,a=new n(e)).s||(f=a.cmp(c)<0||!a.c)||y&&a.e<a.c.length-1)&&!r(e,"max denominator","toFr")||(e=a).cmp(x)>0)&&(e=l>0?x:c),g=1/0,a=new n(m.join("")),h=0,p=1;t=a.div(x),u=o.plus(t.times(d)),1!=u.cmp(e);)o=d,d=u,c=s.plus(t.times(u=c)),s=u,x=a.minus(t.times(u=x)),a=u;return u=e.minus(o).div(d),s=s.plus(u.times(c)),o=o.plus(u.times(d)),s.s=c.s=v.s,h=2*l,p=E,i=c.div(d).minus(v).abs().cmp(s.div(o).minus(v).abs())<1?[c.toS(),d.toS()]:[s.toS(),o.toS()],g=b,h=w,i},w.toPrecision=w.toP=function(e){return null==e||((f=1>e||e>l)||b(e)!=e)&&!r(e,"precision","toP")?this.toS():o(this,0|--e,2)},w.toString=w.toS=function(e){var t,n,s,u=this,a=u.e;if(null===a)n=u.s?"Infinity":"NaN";else{if(e===t&&(d>=a||a>=v))return o(u,u.c.length-1,1);if(n=u.c.join(""),0>a){for(;++a;n="0"+n);n="0."+n}else if(s=n.length,a>0)if(++a>s)for(a-=s;a--;n+="0");else s>a&&(n=n.slice(0,a)+"."+n.slice(a));else if(t=n.charAt(0),s>1)n=t+"."+n.slice(1);else if("0"==t)return t;if(null!=e)if((f=!(e>=2&&65>e))||e!=(0|e)&&y)r(e,"base","toS");else if(n=i(n,0|e,10,u.s),"0"==n)return n}return u.s<0?"-"+n:n},w.toNumber=function(){return parseInt(this.toString(),10)},w.valueOf=function(){return this.toS()},n.config({EXPONENTIAL_AT:9999999,DECIMAL_PLACES:0,ROUNDING_MODE:1}),t.exports=n}).call(this,e("buffer").Buffer)},{buffer:87}],65:[function(e,t,n){(function(n){var r=e("../../browser/vendor-bundle.js").ECKey,i=e("../SecureRandom"),s=e("../Curve"),o=e("../Bignum"),u=function(){this._pub=null,this._compressed=!0},a=u.bufferToArray=function(e){for(var t=[],n=e.length,r=0;n>r;r++)t.push(e.readUInt8(r));return t};Object.defineProperty(u.prototype,"public",{set:function(e){if(!n.isBuffer(e))throw new Error("Arg should be a buffer");var t=e[0];this._compressed=4!==t,this._pub=e},get:function(){return this._pub}}),Object.defineProperty(u.prototype,"compressed",{set:function(e){var t=this._compressed;if(this._compressed=!!e,t!=this._compressed){{this._pub}if(this._pub){var i=new r;i.setPub(a(this.public)),i.setCompressed(this._compressed),this._pub=new n(i.getPub())}!this._compressed}},get:function(){return this._compressed}}),u.generateSync=function(){for(var e;;)if(e=i.getRandomBuffer(32),o.fromBuffer(e,{size:32}).cmp(s.getN())<0)break;var t=e.toString("hex"),a=new r(t);a.setCompressed(!0);a.getPub();return ret=new u,ret.private=e,ret._compressed=!0,ret.public=new n(a.getPub()),ret},u.prototype.regenerateSync=function(){if(!this.private)throw new Error("Key does not have a private key set");var e=new r(this.private.toString("hex"));return e.setCompressed(this._compressed),this._pub=new n(e.getPub()),this},u.prototype.signSync=function(t){var r=e("../../browser/vendor-bundle.js").getSECCurveByName,s=e("../../browser/vendor-bundle.js").BigInteger,o=new i,u=r("secp256k1"),o={};o.nextBytes=function(e){var t=(i.getRandomBuffer(e.length),a(i.getRandomBuffer(e.length)));for(var n in t)e[n]=t[n]};var f=function(e){return(new s(e.bitLength(),o)).mod(e.subtract(s.ONE)).add(s.ONE)},l=function(e,t){var n=t,r=u.getN(),i=s.fromByteArrayUnsigned(e);do var o=f(r),a=u.getG(),l=a.multiply(o),h=l.getX().toBigInteger().mod(r);while(h.compareTo(s.ZERO)<=0);var p=o.modInverse(r).multiply(i.add(n.multiply(h))).mod(r);return c(h,p)},c=function(e,t){var n=e.toByteArraySigned(),r=t.toByteArraySigned(),i=[];return i.push(2),i.push(n.length),i=i.concat(n),i.push(2),i.push(r.length),i=i.concat(r),i.unshift(i.length),i.unshift(48),i};if(!this.private)throw new Error("Key does not have a private key set");if(!n.isBuffer(t)||32!==t.length)throw new Error("Arg should be a 32 bytes hash buffer");var h=this.private.toString("hex"),p=new s(h,16),d=l(a(t),p);return new n(d)},u.prototype.verifySignature=function(e,t,n){try{var r=this.verifySignatureSync(e,t);n(null,r)}catch(i){n(i)}},u.prototype.verifySignatureSync=function(e,t){var i=this;if(!n.isBuffer(e)||32!==e.length)throw new Error("Arg 1 should be a 32 bytes hash buffer");if(!n.isBuffer(t))throw new Error("Arg 2 should be a buffer");if(!i.public)throw new Error("Key does not have a public key set");var s=new r;s.setPub(a(i.public)),s.setCompressed(i._compressed);var o=a(t),u=s.verify(a(e),o);return u},t.exports=u}).call(this,e("buffer").Buffer)},{"../../browser/vendor-bundle.js":3,"../Bignum":"9Sbj2J","../Curve":"Ynul1S","../SecureRandom":"BaKCfn",buffer:87}],66:[function(e,t,n){(function(n){"use strict";var r=e("soop").imports(),i=(r.Key||e("./Key"),r.bignum||e("../Bignum")),s=e("assert"),o=e("../../browser/vendor-bundle.js").ECPointFp,u=e("../../browser/vendor-bundle.js").ECFieldElementFp,a=e("../../browser/vendor-bundle.js").getSECCurveByName,f=e("../../browser/vendor-bundle.js").BigInteger,l=(e("chai").should(),function(e,t){this.x=e,this.y=t});l.add=function(e,t){var r=a("secp256k1"),c=e.x.toBuffer({size:32}).toString("hex"),h=new f(c,16),p=e.y.toBuffer({size:32}).toString("hex"),d=new f(p,16),v=new u(r.getCurve().getQ(),h),m=new u(r.getCurve().getQ(),d),g=new o(r.getCurve(),v,m),y=t.x.toBuffer({size:32}).toString("hex"),b=new f(y,16),w=t.y.toBuffer({size:32}).toString("hex"),E=new f(w,16),S=new u(r.getCurve().getQ(),b),x=new u(r.getCurve().getQ(),E),T=new o(r.getCurve(),S,x),N=g.add(T),C=new l,k=new n(N.getX().toBigInteger().toByteArrayUnsigned());C.x=i.fromBuffer(k,{size:k.length}),s(k.length<=32);var L=new n(N.getY().toBigInteger().toByteArrayUnsigned());return s(L.length<=32),C.y=i.fromBuffer(L,{size:L.length}),C},l.fromUncompressedPubKey=function(e){var t=new l;return t.x=i.fromBuffer((new n(e)).slice(1,33),{size:32}),t.y=i.fromBuffer((new n(e)).slice(33,65),{size:32}),t},l.prototype.toUncompressedPubKey=function(){var e=this.x.toBuffer({size:32}),t=this.y.toBuffer({size:32}),r=new n([4]),i=n.concat([r,e,t]);return i},t.exports=e("soop")(l)}).call(this,e("buffer").Buffer)},{"../../browser/vendor-bundle.js":3,"../Bignum":"9Sbj2J","./Key":65,assert:84,buffer:87,chai:124,soop:164}],67:[function(e,t,n){(function(n){var r=(e("soop"),e("../common/SecureRandom"));r.getRandomBuffer=function(e){if(!window.crypto&&!window.msCrypto)throw new Error("window.crypto not available");if(window.crypto&&window.crypto.getRandomValues)var t=window.crypto;else{if(!window.msCrypto||!window.msCrypto.getRandomValues)throw new Error("window.crypto.getRandomValues not available");var t=window.msCrypto}var r=new Uint8Array(e);t.getRandomValues(r);var i=new n(r);return i},t.exports=e("soop")(r)}).call(this,e("buffer").Buffer)},{"../common/SecureRandom":68,buffer:87,soop:164}],68:[function(e,t,n){(function(n){var i=(e("soop"),function(){});i.getRandomBuffer=function(){},i.getPseudoRandomBuffer=function(e){for(var t=4294967296,i=new n(e),s=0;e>=s;s++){var o=Math.floor(s/4),u=s-4*o;0==u?(r=Math.random()*t,i[s]=255&r):i[s]=255&(r>>>=8)}return i},t.exports=e("soop")(i)}).call(this,e("buffer").Buffer)},{buffer:87,soop:164}],69:[function(e,t,n){var r=e("bindings")("KeyModule").Key;t.exports=r},{bindings:80}],70:[function(e,t,n){(function(n){"use strict";var r=e("soop").imports(),i=r.bignum||e("../Bignum"),s=r.CPPKey||e("bindings")("KeyModule").Key,o=(e("assert"),function(e,t){this.x=e,this.y=t});o.add=function(e,t){var n=e.toUncompressedPubKey(),r=t.toUncompressedPubKey(),i=s.addUncompressed(n,r);return o.fromUncompressedPubKey(i)},o.fromUncompressedPubKey=function(e){var t=new o;return t.x=i.fromBuffer(e.slice(1,33),{size:32}),t.y=i.fromBuffer(e.slice(33,65),{size:32}),t},o.prototype.toUncompressedPubKey=function(){var e=this.x.toBuffer({size:32}),t=this.y.toBuffer({size:32}),r=new n([4]),i=n.concat([r,e,t]);return i},t.exports=e("soop")(o)}).call(this,e("buffer").Buffer)},{"../Bignum":"9Sbj2J",assert:84,bindings:80,buffer:87,soop:164}],71:[function(e,t,n){var r=e("soop"),i=r.crypto||e("crypto"),s=e("../common/SecureRandom");s.getRandomBuffer=function(e){return i.randomBytes(e)},t.exports=e("soop")(s)},{"../common/SecureRandom":68,crypto:91,soop:164}],ULNIu2:[function(e,t,n){(function(t){var r=(e("bufferput"),e("buffertools")),i=function(e){return new t(e,"hex")};n.livenet={name:"livenet",magic:i("f9beb4d9"),addressVersion:0,privKeyVersion:128,P2SHVersion:5,bip32publicVersion:76067358,bip32privateVersion:76066276,genesisBlock:{hash:i("6FE28C0AB6F1B372C1A6A246AE63F74F931E8365E15A089C68D6190000000000"),merkle_root:i("3BA3EDFD7A7B12B27AC72C3E67768F617FC81BC3888A51323A9FB8AA4B1E5E4A"),height:0,nonce:2083236893,version:1,prev_hash:r.fill(new t(32),0),timestamp:1231006505,bits:486604799},dnsSeeds:["seed.bitcoin.sipa.be","dnsseed.bluematt.me","dnsseed.bitcoin.dashjr.org","seed.bitcoinstats.com","seed.bitnodes.io","bitseed.xf2.org"],defaultClientPort:8333},n.testnet={name:"testnet",magic:i("0b110907"),addressVersion:111,privKeyVersion:239,P2SHVersion:196,bip32publicVersion:70617039,bip32privateVersion:70615956,genesisBlock:{hash:i("43497FD7F826957108F4A30FD9CEC3AEBA79972084E90EAD01EA330900000000"),merkle_root:i("3BA3EDFD7A7B12B27AC72C3E67768F617FC81BC3888A51323A9FB8AA4B1E5E4A"),height:0,nonce:414098458,version:1,prev_hash:r.fill(new t(32),0),timestamp:1296688602,bits:486604799},dnsSeeds:["testnet-seed.bitcoin.petertodd.org","testnet-seed.bluematt.me"],defaultClientPort:18333}}).call(this,e("buffer").Buffer)},{buffer:87,bufferput:"aXRuS6",buffertools:"fugeBw"}],"./networks":[function(e,t,n){t.exports=e("ULNIu2")},{}],74:[function(e,t,n){(function(e){!function(){function n(e){var t=!1;return function(){if(t)throw new Error("Callback was already called.");t=!0,e.apply(r,arguments)}}var r,i,s={};r=this,null!=r&&(i=r.async),s.noConflict=function(){return r.async=i,s};var o=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n+=1)t(e[n],n,e)},u=function(e,t){if(e.map)return e.map(t);var n=[];return o(e,function(e,r,i){n.push(t(e,r,i))}),n},a=function(e,t,n){return e.reduce?e.reduce(t,n):(o(e,function(e,r,i){n=t(n,e,r,i)}),n)},f=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};"undefined"!=typeof e&&e.nextTick?(s.nextTick=e.nextTick,s.setImmediate="undefined"!=typeof setImmediate?function(e){setImmediate(e)}:s.nextTick):"function"==typeof setImmediate?(s.nextTick=function(e){setImmediate(e)},s.setImmediate=s.nextTick):(s.nextTick=function(e){setTimeout(e,0)},s.setImmediate=s.nextTick),s.each=function(e,t,r){if(r=r||function(){},!e.length)return r();var i=0;o(e,function(s){t(s,n(function(t){t?(r(t),r=function(){}):(i+=1,i>=e.length&&r(null))}))})},s.forEach=s.each,s.eachSeries=function(e,t,n){if(n=n||function(){},!e.length)return n();var r=0,i=function(){t(e[r],function(t){t?(n(t),n=function(){}):(r+=1,r>=e.length?n(null):i())})};i()},s.forEachSeries=s.eachSeries,s.eachLimit=function(e,t,n,r){var i=l(t);i.apply(null,[e,n,r])},s.forEachLimit=s.eachLimit;var l=function(e){return function(t,n,r){if(r=r||function(){},!t.length||0>=e)return r();var i=0,s=0,o=0;!function u(){if(i>=t.length)return r();for(;e>o&&s<t.length;)s+=1,o+=1,n(t[s-1],function(e){e?(r(e),r=function(){}):(i+=1,o-=1,i>=t.length?r():u())})}()}},c=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[s.each].concat(t))}},h=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[l(e)].concat(n))}},p=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[s.eachSeries].concat(t))}},d=function(e,t,n,r){var i=[];t=u(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n,r){i[e.index]=r,t(n)})},function(e){r(e,i)})};s.map=c(d),s.mapSeries=p(d),s.mapLimit=function(e,t,n,r){return v(t)(e,n,r)};var v=function(e){return h(e,d)};s.reduce=function(e,t,n,r){s.eachSeries(e,function(e,r){n(t,e,function(e,n){t=n,r(e)})},function(e){r(e,t)})},s.inject=s.reduce,s.foldl=s.reduce,s.reduceRight=function(e,t,n,r){var i=u(e,function(e){return e}).reverse();s.reduce(i,t,n,r)},s.foldr=s.reduceRight;var m=function(e,t,n,r){var i=[];t=u(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n&&i.push(e),t()})},function(){r(u(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};s.filter=c(m),s.filterSeries=p(m),s.select=s.filter,s.selectSeries=s.filterSeries;var g=function(e,t,n,r){var i=[];t=u(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n||i.push(e),t()})},function(){r(u(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};s.reject=c(g),s.rejectSeries=p(g);var y=function(e,t,n,r){e(t,function(e,t){n(e,function(n){n?(r(e),r=function(){}):t()})},function(){r()})};s.detect=c(y),s.detectSeries=p(y),s.some=function(e,t,n){s.each(e,function(e,r){t(e,function(e){e&&(n(!0),n=function(){}),r()})},function(){n(!1)})},s.any=s.some,s.every=function(e,t,n){s.each(e,function(e,r){t(e,function(e){e||(n(!1),n=function(){}),r()})},function(){n(!0)})},s.all=s.every,s.sortBy=function(e,t,n){s.map(e,function(e,n){t(e,function(t,r){t?n(t):n(null,{value:e,criteria:r})})},function(e,t){if(e)return n(e);var r=function(e,t){var n=e.criteria,r=t.criteria;return r>n?-1:n>r?1:0};n(null,u(t.sort(r),function(e){return e.value}))})},s.auto=function(e,t){t=t||function(){};var n=f(e);if(!n.length)return t(null);var r={},i=[],u=function(e){i.unshift(e)},l=function(e){for(var t=0;t<i.length;t+=1)if(i[t]===e)return void i.splice(t,1)},c=function(){o(i.slice(0),function(e){e()})};u(function(){f(r).length===n.length&&(t(null,r),t=function(){})}),o(n,function(n){var i=e[n]instanceof Function?[e[n]]:e[n],h=function(e){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),e){var u={};o(f(r),function(e){u[e]=r[e]}),u[n]=i,t(e,u),t=function(){}}else r[n]=i,s.setImmediate(c)},p=i.slice(0,Math.abs(i.length-1))||[],d=function(){return a(p,function(e,t){return e&&r.hasOwnProperty(t)},!0)&&!r.hasOwnProperty(n)};if(d())i[i.length-1](h,r);else{var v=function(){d()&&(l(v),i[i.length-1](h,r))};u(v)}})},s.waterfall=function(e,t){if(t=t||function(){},e.constructor!==Array){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length)return t();var r=function(e){return function(n){if(n)t.apply(null,arguments),t=function(){};else{var i=Array.prototype.slice.call(arguments,1),o=e.next();i.push(o?r(o):t),s.setImmediate(function(){e.apply(null,i)})}}};r(s.iterator(e))()};var b=function(e,t,n){if(n=n||function(){},t.constructor===Array)e.map(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var r={};e.each(f(t),function(e,n){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[e]=i,n(t)})},function(e){n(e,r)})}};s.parallel=function(e,t){b({map:s.map,each:s.each},e,t)},s.parallelLimit=function(e,t,n){b({map:v(t),each:l(t)},e,n)},s.series=function(e,t){if(t=t||function(){},e.constructor===Array)s.mapSeries(e,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},t);else{var n={};s.eachSeries(f(e),function(t,r){e[t](function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),n[t]=i,r(e)})},function(e){t(e,n)})}},s.iterator=function(e){var t=function(n){var r=function(){return e.length&&e[n].apply(null,arguments),r.next()};return r.next=function(){return n<e.length-1?t(n+1):null},r};return t(0)},s.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var w=function(e,t,n,r){var i=[];e(t,function(e,t){n(e,function(e,n){i=i.concat(n||[]),t(e)})},function(e){r(e,i)})};s.concat=c(w),s.concatSeries=p(w),s.whilst=function(e,t,n){e()?t(function(r){return r?n(r):void s.whilst(e,t,n)}):n()},s.doWhilst=function(e,t,n){e(function(r){return r?n(r):void (t()?s.doWhilst(e,t,n):n())})},s.until=function(e,t,n){e()?n():t(function(r){return r?n(r):void s.until(e,t,n)})},s.doUntil=function(e,t,n){e(function(r){return r?n(r):void (t()?n():s.doUntil(e,t,n))})},s.queue=function(e,t){function r(e,n,r,i){n.constructor!==Array&&(n=[n]),o(n,function(n){var o={data:n,callback:"function"==typeof i?i:null};r?e.tasks.unshift(o):e.tasks.push(o),e.saturated&&e.tasks.length===t&&e.saturated(),s.setImmediate(e.process)})}void 0===t&&(t=1);var i=0,u={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,push:function(e,t){r(u,e,!1,t)},unshift:function(e,t){r(u,e,!0,t)},process:function(){if(i<u.concurrency&&u.tasks.length){var t=u.tasks.shift();u.empty&&0===u.tasks.length&&u.empty(),i+=1;var r=function(){i-=1,t.callback&&t.callback.apply(t,arguments),u.drain&&u.tasks.length+i===0&&u.drain(),u.process()},s=n(r);e(t.data,s)}},length:function(){return u.tasks.length},running:function(){return i}};return u},s.cargo=function(e,t){var n=!1,r=[],i={tasks:r,payload:t,saturated:null,empty:null,drain:null,push:function(e,n){e.constructor!==Array&&(e=[e]),o(e,function(e){r.push({data:e,callback:"function"==typeof n?n:null}),i.saturated&&r.length===t&&i.saturated()}),s.setImmediate(i.process)},process:function a(){if(!n){if(0===r.length)return void (i.drain&&i.drain());var s="number"==typeof t?r.splice(0,t):r.splice(0),f=u(s,function(e){return e.data});i.empty&&i.empty(),n=!0,e(f,function(){n=!1;var e=arguments;o(s,function(t){t.callback&&t.callback.apply(null,e)}),a()})}},length:function(){return r.length},running:function(){return n}};return i};var E=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&o(n,function(t){console[e](t)}))}]))}};s.log=E("log"),s.dir=E("dir"),s.memoize=function(e,t){var n={},r={};t=t||function(e){return e};var i=function(){var i=Array.prototype.slice.call(arguments),s=i.pop(),o=t.apply(null,i);o in n?s.apply(null,n[o]):o in r?r[o].push(s):(r[o]=[s],e.apply(null,i.concat([function(){n[o]=arguments;var e=r[o];delete r[o];for(var t=0,i=e.length;i>t;t++)e[t].apply(null,arguments)}])))};return i.memo=n,i.unmemoized=e,i},s.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},s.times=function(e,t,n){for(var r=[],i=0;e>i;i++)r.push(i);return s.map(r,t,n)},s.timesSeries=function(e,t,n){for(var r=[],i=0;e>i;i++)r.push(i);return s.mapSeries(r,t,n)},s.compose=function(){var e=Array.prototype.reverse.call(arguments);return function(){var t=this,n=Array.prototype.slice.call(arguments),r=n.pop();s.reduce(e,n,function(e,n,r){n.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);r(e,t)}]))},function(e,n){r.apply(t,[e].concat(n))})}};var S=function(e,t){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();return e(t,function(e,t){e.apply(n,r.concat([t]))},i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};s.applyEach=c(S),s.applyEachSeries=p(S),s.forever=function(e,t){function n(r){if(r){if(t)return t(r);throw r}e(n)}n()},"undefined"!=typeof define&&define.amd?define([],function(){return s}):"undefined"!=typeof t&&t.exports?t.exports=s:r.async=s}()}).call(this,e("/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":103}],75:[function(e,t,n){(function(n){try{var r=new e("./build/Debug/bignum")}catch(i){var r=new e("./build/Release/bignum")}var s=r.BigNum;t.exports=s,s.conditionArgs=function(e,t){if("string"!=typeof e&&(e=e.toString(t||10)),e.match(/e\+/)){if(Number(e).toString().match(/e\+/)){var n=Math.ceil(Math.log(e)/Math.log(2)),r=(e/Math.pow(2,n)).toString(2).replace(/^0/,""),i=r.length-r.indexOf(".");for(r=r.replace(/\./,"");n>=i;i++)r+="0";return{num:r,base:2}}return{num:Math.floor(Number(e)).toString(),base:10}}return e.match(/e\-/)?{num:Math.floor(Number(e)).toString(),base:t||10}:{num:e,base:t||10}},r.setJSConditioner(s.conditionArgs),s.prototype.inspect=function(){return"<BigNum "+this.toString(10)+">"},s.prototype.toString=function(e){var t;return t=e?this.tostring(e):this.tostring(),e>10&&"string"==typeof t&&(t=t.toLowerCase()),t},s.prototype.toNumber=function(){return parseInt(this.toString(),10)},["add","sub","mul","div","mod"].forEach(function(e){s.prototype[e]=function(t){if(t instanceof s)return this["b"+e](t);if("number"==typeof t){if(t>=0)return this["u"+e](t);if("add"===e)return this.usub(-t);if("sub"===e)return this.uadd(-t);var n=s(t);return this["b"+e](n)}if("string"==typeof t){var n=s(t);return this["b"+e](n)}throw new TypeError("Unspecified operation for type "+typeof t+" for "+e)}}),s.prototype.abs=function(){return this.babs()},s.prototype.neg=function(){return this.bneg()},s.prototype.powm=function(e,t){var n;if("number"==typeof t||"string"==typeof t?n=s(t):t instanceof s&&(n=t),"number"==typeof e)return this.upowm(e,n);if("string"==typeof e){var r=s(e);return this.bpowm(r,n)}return e instanceof s?this.bpowm(e,n):void 0},s.prototype.mod=function(e,t){var n;if("number"==typeof t||"string"==typeof t?n=s(t):t instanceof s&&(n=t),"number"==typeof e)return this.umod(e,n);if("string"==typeof e){var r=s(e);return this.bmod(r,n)}return e instanceof s?this.bmod(e,n):void 0},s.prototype.pow=function(e){if("number"==typeof e)return e>=0?this.upow(e):s.prototype.powm.call(this,e,this);var t=parseInt(e.toString(),10);return s.prototype.pow.call(this,t)},s.prototype.shiftLeft=function(e){if("number"==typeof e)return e>=0?this.umul2exp(e):this.shiftRight(-e);var t=parseInt(e.toString(),10);return s.prototype.shiftLeft.call(this,t)},s.prototype.shiftRight=function(e){if("number"==typeof e)return e>=0?this.udiv2exp(e):this.shiftLeft(-e);var t=parseInt(e.toString(),10);return s.prototype.shiftRight.call(this,t)},s.prototype.cmp=function(e){if(e instanceof s)return this.bcompare(e);if("number"==typeof e)return 0>e?this.scompare(e):this.ucompare(e);var t=s(e);return this.bcompare(t)},s.prototype.gt=function(e){return this.cmp(e)>0},s.prototype.ge=function(e){return this.cmp(e)>=0},s.prototype.eq=function(e){return 0===this.cmp(e)},s.prototype.ne=function(e){return 0!==this.cmp(e)},s.prototype.lt=function(e){return this.cmp(e)<0},s.prototype.le=function(e){return this.cmp(e)<=0},"and or xor".split(" ").forEach(function(e){s.prototype[e]=function(t){if(t instanceof s)return this["b"+e](t);var n=s(t);return this["b"+e](n)}}),s.prototype.sqrt=function(){return this.bsqrt()},s.prototype.root=function(e){if(e instanceof s)return this.broot(e);s(e);return this.broot(e)},s.prototype.rand=function(e){if(void 0===e)return"1"===this.toString()?s(0):this.brand0();var t=e instanceof s?e.sub(this):s(e).sub(this);return t.brand0().add(this)},s.prototype.invertm=function(e){if(e instanceof s)return this.binvertm(e);var t=s(e);return this.binvertm(t)},s.prime=function(e,t){return"undefined"==typeof t&&(t=!0),e>>>=0,s.uprime0(e,!!t)},s.prototype.probPrime=function(e){var t=this.probprime(e||10);return{1:!0,0:!1}[t]},s.prototype.nextPrime=function(){var e=this;do e=e.add(1);while(!e.probPrime());return e},s.fromBuffer=function(e,t){t||(t={});var n={1:"big","-1":"little"}[t.endian]||t.endian||"big",r="auto"===t.size?Math.ceil(e.length):t.size||1;if(e.length%r!==0)throw new RangeError("Buffer length ("+e.length+") must be a multiple of size ("+r+")");for(var i=[],o=0;o<e.length;o+=r){for(var u=[],a=0;r>a;a++)u.push(e[o+("big"===n?a:r-a-1)]);i.push(u.map(function(e){return(16>e?"0":"")+e.toString(16)}).join(""))}return s(i.join(""),16)},s.prototype.toBuffer=function(e){if("string"==typeof e){if("mpint"!==e)return"Unsupported Buffer representation";var t=this.abs(),r=t.toBuffer({size:1,endian:"big"}),i=1===r.length&&0===r[0]?0:r.length;128&r[0]&&i++;var s=new n(4+i);i>0&&r.copy(s,4+(128&r[0]?1:0)),128&r[0]&&(s[4]=0),s[0]=i&255<<24,s[1]=i&255<<16,s[2]=65280&i,s[3]=255&i;var o=this.lt(0);if(o)for(var u=4;u<s.length;u++)s[u]=255-s[u];return s[4]=127&s[4]|(o?128:0),o&&s[s.length-1]++,s}e||(e={});var a={1:"big","-1":"little"}[e.endian]||e.endian||"big",f=this.toString(16);if("-"===f.charAt(0))throw new Error("converting negative numbers to Buffers not supported yet");for(var l="auto"===e.size?Math.ceil(f.length/2):e.size||1,i=Math.ceil(f.length/(2*l))*l,r=new n(i);f.length<2*i;)f="0"+f;var c=f.split(new RegExp("(.{"+2*l+"})")).filter(function(e){return e.length>0});return c.forEach(function(e,t){for(var n=0;l>n;n++){var i=t*l+("big"===a?n:l-n-1);r[i]=parseInt(e.slice(2*n,2*n+2),16)}}),r},Object.keys(s.prototype).forEach(function(e){"inspect"!==e&&"toString"!==e&&(s[e]=function(t){var n=[].slice.call(arguments,1);if(t instanceof s)return t[e].apply(t,n);var r=s(t);return r[e].apply(r,n)})})}).call(this,e("buffer").Buffer)},{buffer:87}],76:[function(e,t,n){(function(r){function i(e){for(var t=0,n=0;n<e.length;n++)t+=Math.pow(256,n)*e[n];return t}function s(e){for(var t=0,n=0;n<e.length;n++)t+=Math.pow(256,e.length-n-1)*e[n];return t}function o(e){var t=s(e);return 128==(128&e[0])&&(t-=Math.pow(256,e.length)),t}function u(e){var t=i(e);return 128==(128&e[e.length-1])&&(t-=Math.pow(256,e.length)),t}function a(e){var t={};return[1,2,4,8].forEach(function(n){var r=8*n;t["word"+r+"le"]=t["word"+r+"lu"]=e(n,i),t["word"+r+"ls"]=e(n,u),t["word"+r+"be"]=t["word"+r+"bu"]=e(n,s),t["word"+r+"bs"]=e(n,o)}),t.word8=t.word8u=t.word8be,t.word8s=t.word8bs,t}var f=e("chainsaw"),l=e("events").EventEmitter,c=e("buffers"),h=e("./lib/vars.js"),p=e("stream").Stream;n=t.exports=function(e,t){if(r.isBuffer(e))return n.parse(e);var i=n.stream();return e&&e.pipe?e.pipe(i):e&&(e.on(t||"data",function(e){i.write(e)}),e.on("end",function(){i.end()})),i},n.stream=function(e){function t(e,t,n){o={bytes:e,skip:n,cb:function(e){o=null,t(e)}},i()}function i(){if(!o)return void (y&&(g=!0));if("function"==typeof o)o();else{var e=u+o.bytes;if(v.length>=e){var t;null==u?(t=v.splice(0,e),o.skip||(t=t.slice())):(o.skip||(t=v.slice(u,e)),u=e),o.skip?o.cb():o.cb(t)}}}function s(e){function n(){g||e.next()}var s=a(function(e,r){return function(i){t(e,function(e){m.set(i,r(e)),n()})}});return s.tap=function(t){e.nest(t,m.store)},s.into=function(t,n){m.get(t)||m.set(t,{});var r=m;m=h(r.get(t)),e.nest(function(){n.apply(this,arguments),this.tap(function(){m=r})},m.store)},s.flush=function(){m.store={},n()},s.loop=function(t){var r=!1;e.nest(!1,function i(){this.vars=m.store,t.call(this,function(){r=!0,n()},m.store),this.tap(function(){r?e.next():i.call(this)}.bind(this))},m.store)},s.buffer=function(e,r){"string"==typeof r&&(r=m.get(r)),t(r,function(t){m.set(e,t),n()})},s.skip=function(e){"string"==typeof e&&(e=m.get(e)),t(e,function(){n()})},s.scan=function(e,t){if("string"==typeof t)t=new r(t);else if(!r.isBuffer(t))throw new Error("search must be a Buffer or a string");var s=0;o=function(){var r=v.indexOf(t,u+s),a=r-u-s;-1!==r?(o=null,null!=u?(m.set(e,v.slice(u,u+s+a)),u+=s+a+t.length):(m.set(e,v.slice(0,s+a)),v.splice(0,s+a+t.length)),n(),i()):a=Math.max(v.length-t.length-u-s,0),s+=a},i()},s.peek=function(t){u=0,e.nest(function(){t.call(this,m.store),this.tap(function(){u=null})})},s}if(e)return n.apply(null,arguments);var o=null,u=null,d=f.light(s);d.writable=!0;var v=c();d.write=function(e){v.push(e),i()};var m=h(),g=!1,y=!1;return d.end=function(){y=!0},d.pipe=p.prototype.pipe,Object.getOwnPropertyNames(l.prototype).forEach(function(e){d[e]=l.prototype[e]}),d},n.parse=function(e){var t=a(function(r,s){return function(o){if(n+r<=e.length){var u=e.slice(n,n+r);n+=r,i.set(o,s(u))}else i.set(o,null);return t}}),n=0,i=h();return t.vars=i.store,t.tap=function(e){return e.call(t,i.store),t},t.into=function(e,n){i.get(e)||i.set(e,{});var r=i;return i=h(r.get(e)),n.call(t,i.store),i=r,t},t.loop=function(e){for(var n=!1,r=function(){n=!0};n===!1;)e.call(t,r,i.store);return t},t.buffer=function(r,s){"string"==typeof s&&(s=i.get(s));var o=e.slice(n,Math.min(e.length,n+s));return n+=s,i.set(r,o),t},t.skip=function(e){return"string"==typeof e&&(e=i.get(e)),n+=e,t},t.scan=function(s,o){if("string"==typeof o)o=new r(o);else if(!r.isBuffer(o))throw new Error("search must be a Buffer or a string");i.set(s,null);for(var u=0;u+n<=e.length-o.length+1;u++){for(var a=0;a<o.length&&e[n+u+a]===o[a];a++);if(a===o.length)break}return i.set(s,e.slice(n,n+u)),n+=u+o.length,t},t.peek=function(e){var r=n;return e.call(t,i.store),n=r,t},t.flush=function(){return i.store={},t},t.eof=function(){return n>=e.length},t}}).call(this,e("buffer").Buffer)},{"./lib/vars.js":77,buffer:87,buffers:"OBo3aV",chainsaw:78,events:96,stream:110}],77:[function(e,t,n){t.exports=function(e){function t(e,t){var i=n.store,s=e.split(".");s.slice(0,-1).forEach(function(e){void 0===i[e]&&(i[e]={}),i=i[e]});var o=s[s.length-1];return 1==arguments.length?i[o]:i[o]=t}var n={get:function(e){return t(e)},set:function(e,n){return t(e,n)},store:e||{}};return n}},{}],78:[function(e,t,n){(function(n){function r(e){var t=r.saw(e,{}),n=e.call(t.handlers,t);return void 0!==n&&(t.handlers=n),t.record(),t.chain()}function i(e){e.step=0,e.pop=function(){return e.actions[e.step++]},e.trap=function(t,n){var r=Array.isArray(t)?t:[t];e.actions.push({path:r,step:e.step,cb:n,trap:!0})},e.down=function(t){var n=(Array.isArray(t)?t:[t]).join("/"),r=e.actions.slice(e.step).map(function(t){return t.trap&&t.step<=e.step?!1:t.path.join("/")==n}).indexOf(!0);r>=0?e.step+=r:e.step=e.actions.length;var i=e.actions[e.step-1];i&&i.trap?(e.step=i.step,i.cb()):e.next()},e.jump=function(t){e.step=t,e.next()}}var s=e("traverse"),o=e("events").EventEmitter;t.exports=r,r.light=function(e){var t=r.saw(e,{}),n=e.call(t.handlers,t);return void 0!==n&&(t.handlers=n),t.chain()},r.saw=function(e,t){var u=new o;return u.handlers=t,u.actions=[],u.chain=function(){var e=s(u.handlers).map(function(t){if(this.isRoot)return t;var n=this.path;"function"==typeof t&&this.update(function(){return u.actions.push({path:n,args:[].slice.call(arguments)}),e})});return n.nextTick(function(){u.emit("begin"),u.next()}),e},u.pop=function(){return u.actions.shift()},u.next=function(){var e=u.pop();if(e){if(!e.trap){var t=u.handlers;e.path.forEach(function(e){t=t[e]}),t.apply(u.handlers,e.args)}}else u.emit("end")},u.nest=function(t){var n=[].slice.call(arguments,1),i=!0;if("boolean"==typeof t){var i=t;t=n.shift()}var s=r.saw(e,{}),o=e.call(s.handlers,s);void 0!==o&&(s.handlers=o),"undefined"!=typeof u.step&&s.record(),t.apply(s.chain(),n),i!==!1&&s.on("end",u.next)},u.record=function(){i(u)},["trap","down","jump"].forEach(function(e){u[e]=function(){throw new Error("To use the trap, down and jump features, please call record() first to start recording actions.")}}),u}}).call(this,e("/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":103,events:96,traverse:79}],79:[function(e,t,n){function r(e){return this instanceof r?void (this.value=e):new r(e)}function i(e,t,n){var r=[],i=[],o=!0;return function u(e){var f=n?s(e):e,l={},c={node:f,node_:e,path:[].concat(r),parent:i.slice(-1)[0],key:r.slice(-1)[0],isRoot:0===r.length,level:r.length,circular:null,update:function(e){c.isRoot||(c.parent.node[c.key]=e),c.node=e},"delete":function(){delete c.parent.node[c.key]},remove:function(){Array.isArray(c.parent.node)?c.parent.node.splice(c.key,1):delete c.parent.node[c.key]},before:function(e){l.before=e},after:function(e){l.after=e},pre:function(e){l.pre=e},post:function(e){l.post=e},stop:function(){o=!1}};if(!o)return c;if("object"==typeof f&&null!==f){c.isLeaf=0==Object.keys(f).length;for(var h=0;h<i.length;h++)if(i[h].node_===e){c.circular=i[h];break}}else c.isLeaf=!0;c.notLeaf=!c.isLeaf,c.notRoot=!c.isRoot;var p=t.call(c,c.node);if(void 0!==p&&c.update&&c.update(p),l.before&&l.before.call(c,c.node),"object"==typeof c.node&&null!==c.node&&!c.circular){i.push(c);var d=Object.keys(c.node);d.forEach(function(e,t){r.push(e),l.pre&&l.pre.call(c,c.node[e],e);var i=u(c.node[e]);n&&Object.hasOwnProperty.call(c.node,e)&&(c.node[e]=i.node),i.isLast=t==d.length-1,i.isFirst=0==t,l.post&&l.post.call(c,i),r.pop()}),i.pop()}return l.after&&l.after.call(c,c.node),c}(e).node}function s(e){if("object"==typeof e&&null!==e){var t;return t=Array.isArray(e)?[]:e instanceof Date?new Date(e):e instanceof Boolean?new Boolean(e):e instanceof Number?new Number(e):e instanceof String?new String(e):Object.create(Object.getPrototypeOf(e)),Object.keys(e).forEach(function(n){t[n]=e[n]}),t}return e}t.exports=r,r.prototype.get=function(e){for(var t=this.value,n=0;n<e.length;n++){var r=e[n];if(!Object.hasOwnProperty.call(t,r)){t=void 0;break}t=t[r]}return t},r.prototype.set=function(e,t){for(var n=this.value,r=0;r<e.length-1;r++){var i=e[r];Object.hasOwnProperty.call(n,i)||(n[i]={}),n=n[i]}return n[e[r]]=t,t},r.prototype.map=function(e){return i(this.value,e,!0)},r.prototype.forEach=function(e){return this.value=i(this.value,e,!1),this.value},r.prototype.reduce=function(e,t){var n=1===arguments.length,r=n?this.value:t;return this.forEach(function(t){this.isRoot&&n||(r=e.call(this,r,t))}),r},r.prototype.deepEqual=function(e){if(1!==arguments.length)throw new Error("deepEqual requires exactly one object to compare against");var t=!0,n=e;return this.forEach(function(i){var s=function(){return void (t=!1)}.bind(this);if(!this.isRoot){if("object"!=typeof n)return s();n=n[this.key]}var o=n;this.post(function(){n=o});var u=function(e){return Object.prototype.toString.call(e)};if(this.circular)r(e).get(this.circular.path)!==o&&s();else if(typeof o!=typeof i)s();else if(null===o||null===i||void 0===o||void 0===i)o!==i&&s();else if(o.__proto__!==i.__proto__)s();else if(o===i);else if("function"==typeof o)o instanceof RegExp?o.toString()!=i.toString()&&s():o!==i&&s();else if("object"==typeof o)if("[object Arguments]"===u(i)||"[object Arguments]"===u(o))u(o)!==u(i)&&s();else if(o instanceof Date||i instanceof Date)o instanceof Date&&i instanceof Date&&o.getTime()===i.getTime()||s();else{var a=Object.keys(o),f=Object.keys(i);if(a.length!==f.length)return s();for(var l=0;l<a.length;l++){var c=a[l];Object.hasOwnProperty.call(i,c)||s()}}}),t},r.prototype.paths=function(){var e=[];return this.forEach(function(){e.push(this.path)}),e},r.prototype.nodes=function(){var e=[];return this.forEach(function(){e.push(this.node)}),e},r.prototype.clone=function(){var e=[],t=[];return function n(r){for(var i=0;i<e.length;i++)if(e[i]===r)return t[i];if("object"==typeof r&&null!==r){var o=s(r);return e.push(r),t.push(o),Object.keys(r).forEach(function(e){o[e]=n(r[e])}),e.pop(),t.pop(),o}return r}(this.value)},Object.keys(r.prototype).forEach(function(e){r[e]=function(t){var n=[].slice.call(arguments,1),i=r(t);return i[e].apply(i,n)}})},{}],80:[function(e,t,n){(function(r,i){function s(t){"string"==typeof t?t={bindings:t}:t||(t={}),t.__proto__=c,t.module_root||(t.module_root=n.getRoot(n.getFileName())),".node"!=u.extname(t.bindings)&&(t.bindings+=".node");for(var r,i,s,o=[],f=0,l=t.try.length;l>f;f++){r=a.apply(null,t.try[f].map(function(e){return t[e]||e})),o.push(r);try{return i=t.path?e.resolve(r):e(r),t.path||(i.path=r),i}catch(h){if(!/not find/i.test(h.message))throw h}}throw s=new Error("Could not locate the bindings file. Tried:\n"+o.map(function(e){return t.arrow+e}).join("\n")),s.tries=o,s}var o=e("fs"),u=e("path"),a=u.join,f=u.dirname,l=o.existsSync||u.existsSync,c={arrow:r.env.NODE_BINDINGS_ARROW||"  ",compiled:r.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:r.platform,arch:r.arch,version:r.versions.node,bindings:"bindings.node","try":[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"]]};t.exports=n=s,n.getFileName=function(){var e,t=Error.prepareStackTrace,n=Error.stackTraceLimit,r={};return Error.stackTraceLimit=10,Error.prepareStackTrace=function(t,n){for(var r=0,s=n.length;s>r;r++)if(e=n[r].getFileName(),e!==i)return},Error.captureStackTrace(r),r.stack,Error.prepareStackTrace=t,Error.stackTraceLimit=n,e},n.getRoot=function(e){for(var t,n=f(e);;){if("."===n&&(n=r.cwd()),l(a(n,"package.json"))||l(a(n,"node_modules")))return n;if(t===n)throw new Error('Could not find module root given file: "'+e+'". Do you have a `package.json` file? ');t=n,n=a(n,"..")}}}).call(this,e("/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"/node_modules/bindings/bindings.js")},{"/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":103,fs:83,path:104}],buffertools:[function(e,t,n){t.exports=e("fugeBw")},{}],fugeBw:[function(e,t,n){(function(r){"use strict";function i(){this.writable=!0,this.buffer=null}var s=e("events"),o=e("util"),u={};t.exports.Buffer=r;var a=function(e){return e instanceof r||e instanceof Uint8Array},f=function(e){return function(){var t=this;if(a(t));else{if(!a(arguments[0]))throw new Error("Argument should be a buffer object.");t=arguments[0],Array.prototype.shift.apply(arguments)}return e.apply(t,arguments)}},l=function(e){return function(){var t=this;if(a(t));else{if(!a(arguments[0]))throw Error("Argument should be a buffer object.");t=arguments[0],Array.prototype.shift.apply(arguments)}var n=arguments[0];if("string"==typeof n||n instanceof String||a(n))return e.apply(t,arguments);throw new Error("Second argument must be a string or a buffer.")}};u.clear=f(function(){for(var e=0;e<this.length;e++)this[e]=0;return this}),u.fill=f(function(e){for(var t="undefined"==typeof e.length?1:e.length,n=0;n<this.length;n+=t)for(var r=0;t>r;r++)this[n+r]="undefined"==typeof e.length?e:"string"==typeof e[r]?e[r].charCodeAt(0):e[r];return this}),u.indexOf=f(function(e,t){if(t=t||0,0===e.length)return-1;for(var n=t;n<this.length-e.length+1;n+=1){for(var r=!0,i=0;i<e.length;i++){var s=this[n+i],o=e[i];if("string"==typeof o&&(o=o.charCodeAt(0)),s!==o){r=!1;break}}if(r)return n}return-1}),u.equals=l(function(e){return 0===u.compare(this,e)}),u.compare=l(function(e){var t=this,n=t.length,r=e.length;if(n!==r)return n>r?1:-1;for(var i=0;n>i;i++){var s=t[i],o=e[i];if("string"==typeof o&&(o=o.charCodeAt(0)),s!==o)return s>o?1:-1}return 0}),u.concat=function(){for(var e=0,t=0;t<arguments.length;t++){if(void 0===arguments[t].length)throw Error("all arguments must be strings or Buffers");e+=arguments[t].length}for(var n=new r(e),i=0,t=0;t<arguments.length;t++)for(var s=0;s<arguments[t].length;s++)n[i++]="string"==typeof arguments[t][s]?arguments[t][s].charCodeAt(0):arguments[t][s];return n},u.reverse=f(function(){for(var e=new r(this.length),t=0;t<this.length;t++)e[t]=this[this.length-t-1];return e}),u.toHex=f(function(){for(var e="",t=0;t<this.length;t++){var n=this[t].toString(16);1==n.length&&(n="0"+n),n.length>2&&(n=n.substring(1,3)),e+=n}return e}),u.fromHex=f(function(){var e=this.length;if(e%2!==0)throw new Error("Invalid hex string length");for(var t=new r(e/2),n=0;n<t.length;n++){var i=String.fromCharCode(this[2*n]),s=String.fromCharCode(this[2*n+1]);t[n]=parseInt(i+s,16)}return t}),n.extend=function(){var e;e=arguments.length>0?Array.prototype.slice.call(arguments):"function"==typeof Uint8Array?[r.prototype,Uint8Array.prototype]:[r.prototype];for(var t=0,i=e.length;i>t;t+=1){var s=e[t];for(var o in u)s[o]=u[o];s!==n&&(s.concat=function(){var e=[this].concat(Array.prototype.slice.call(arguments));return u.concat.apply(u,e)})}},n.extend(n),o.inherits(i,s.EventEmitter),i.prototype._append=function(e,t){if(!this.writable)throw new Error("Stream is not writable.");if(r.isBuffer(e));else{if("string"!=typeof e)throw new Error("Argument should be either a buffer or a string.");e=new r(e,t||"utf8")}this.buffer?this.buffer=u.concat(this.buffer,e):(this.buffer=new r(e.length),e.copy(this.buffer))},i.prototype.write=function(e,t){return this._append(e,t),!0},i.prototype.end=function(e,t){e&&this._append(e,t),this.emit("close"),this.writable=!1},i.prototype.getBuffer=function(){return this.buffer?this.buffer:new r(0)},i.prototype.toString=function(){return this.getBuffer().toString()},n.WritableBufferStream=i}).call(this,e("buffer").Buffer)},{buffer:87,events:96,util:119}],83:[function(e,t,n){},{}],84:[function(e,t,n){function r(e,t){return p.isUndefined(t)?""+t:!p.isNumber(t)||!isNaN(t)&&isFinite(t)?p.isFunction(t)||p.isRegExp(t)?t.toString():t:t.toString()}function i(e,t){return p.isString(e)?e.length<t?e:e.slice(0,t):e}function s(e){return i(JSON.stringify(e.actual,r),128)+" "+e.operator+" "+i(JSON.stringify(e.expected,r),128)}function o(e,t,n,r,i){throw new m.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function u(e,t){e||o(e,!0,t,"==",m.ok)}function a(e,t){if(e===t)return!0;if(p.isBuffer(e)&&p.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return p.isDate(e)&&p.isDate(t)?e.getTime()===t.getTime():p.isRegExp(e)&&p.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:p.isObject(e)||p.isObject(t)?l(e,t):e==t}function f(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function l(e,t){if(p.isNullOrUndefined(e)||p.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(f(e))return f(t)?(e=d.call(e),t=d.call(t),a(e,t)):!1;try{var n,r,i=g(e),s=g(t)}catch(o){return!1}if(i.length!=s.length)return!1;for(i.sort(),s.sort(),r=i.length-1;r>=0;r--)if(i[r]!=s[r])return!1;for(r=i.length-1;r>=0;r--)if(n=i[r],!a(e[n],t[n]))return!1;return!0}function c(e,t){return e&&t?"[object RegExp]"==Object.prototype.toString.call(t)?t.test(e):e instanceof t?!0:t.call({},e)===!0?!0:!1:!1}function h(e,t,n,r){var i;p.isString(n)&&(r=n,n=null);try{t()}catch(s){i=s}if(r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&o(i,n,"Missing expected exception"+r),!e&&c(i,n)&&o(i,n,"Got unwanted exception"+r),e&&i&&n&&!c(i,n)||!e&&i)throw i}var p=e("util/"),d=Array.prototype.slice,v=Object.prototype.hasOwnProperty,m=t.exports=u;m.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=s(this),this.generatedMessage=!0);var t=e.stackStartFunction||o;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=t.name,u=r.indexOf("\n"+i);if(u>=0){var a=r.indexOf("\n",u+1);r=r.substring(a+1)}this.stack=r}}},p.inherits(m.AssertionError,Error),m.fail=o,m.ok=u,m.equal=function(e,t,n){e!=t&&o(e,t,n,"==",m.equal)},m.notEqual=function(e,t,n){e==t&&o(e,t,n,"!=",m.notEqual)},m.deepEqual=function(e,t,n){a(e,t)||o(e,t,n,"deepEqual",m.deepEqual)},m.notDeepEqual=function(e,t,n){a(e,t)&&o(e,t,n,"notDeepEqual",m.notDeepEqual)},m.strictEqual=function(e,t,n){e!==t&&o(e,t,n,"===",m.strictEqual)},m.notStrictEqual=function(e,t,n){e===t&&o(e,t,n,"!==",m.notStrictEqual)},m.throws=function(){h.apply(this,[!0].concat(d.call(arguments)))},m.doesNotThrow=function(){h.apply(this,[!1].concat(d.call(arguments)))},m.ifError=function(e){if(e)throw e};var g=Object.keys||function(e){var t=[];for(var n in e)v.call(e,n)&&t.push(n);return t}},{"util/":86}],85:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],86:[function(e,t,n){(function(t,r){function i(e,t){var r={seen:[],stylize:o};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(t)?r.showHidden=t:t&&n._extend(r,t),E(r.showHidden)&&(r.showHidden=!1),E(r.depth)&&(r.depth=2),E(r.colors)&&(r.colors=!1),E(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),a(r,e,r.depth)}function s(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function o(e){return e}function u(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function a(e,t,r){if(e.customInspect&&t&&C(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return b(i)||(i=a(e,i,r)),i}var s=f(e,t);if(s)return s;var o=Object.keys(t),v=u(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),N(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return l(t);if(0===o.length){if(C(t)){var m=t.name?": "+t.name:"";return e.stylize("[Function"+m+"]","special")}if(S(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(T(t))return e.stylize(Date.prototype.toString.call(t),"date");if(N(t))return l(t)}var g="",y=!1,w=["{","}"];if(d(t)&&(y=!0,w=["[","]"]),C(t)){var E=t.name?": "+t.name:"";g=" [Function"+E+"]"}if(S(t)&&(g=" "+RegExp.prototype.toString.call(t)),T(t)&&(g=" "+Date.prototype.toUTCString.call(t)),N(t)&&(g=" "+l(t)),0===o.length&&(!y||0==t.length))return w[0]+g+w[1];if(0>r)return S(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var x;return x=y?c(e,t,r,v,o):o.map(function(n){return h(e,t,r,v,n,y)}),e.seen.pop(),p(x,g,w)}function f(e,t){if(E(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):v(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function c(e,t,n,r,i){for(var s=[],o=0,u=t.length;u>o;++o)s.push(M(t,String(o))?h(e,t,n,r,String(o),!0):"");return i.forEach(function(i){i.match(/^\d+$/)||s.push(h(e,t,n,r,i,!0))}),s}function h(e,t,n,r,i,s){var o,u,f;if(f=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},f.get?u=f.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):f.set&&(u=e.stylize("[Setter]","special")),M(r,i)||(o="["+i+"]"),u||(e.seen.indexOf(f.value)<0?(u=m(n)?a(e,f.value,null):a(e,f.value,n-1),u.indexOf("\n")>-1&&(u=s?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),E(o)){if(s&&i.match(/^\d+$/))return u;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+u}function p(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function d(e){return Array.isArray(e)}function v(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function E(e){return void 0===e}function S(e){return x(e)&&"[object RegExp]"===L(e)}function x(e){return"object"==typeof e&&null!==e}function T(e){return x(e)&&"[object Date]"===L(e)}function N(e){return x(e)&&("[object Error]"===L(e)||e instanceof Error)}function C(e){return"function"==typeof e}function k(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function L(e){return Object.prototype.toString.call(e)}function A(e){return 10>e?"0"+e.toString(10):e.toString(10)}function O(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),H[e.getMonth()],t].join(" ")}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var _=/%[sdj%]/g;n.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,s=r.length,o=String(e).replace(_,function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"};default:return e}}),u=r[n];s>n;u=r[++n])o+=m(u)||!x(u)?" "+u:" "+i(u);return o},n.deprecate=function(e,i){function s(){if(!o){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),o=!0}return e.apply(this,arguments)}if(E(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(t.noDeprecation===!0)return e;var o=!1;return s};var D,P={};n.debuglog=function(e){if(E(D)&&(D=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!P[e])if((new RegExp("\\b"+e+"\\b","i")).test(D)){var r=t.pid;P[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else P[e]=function(){};return P[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow","undefined":"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=d,n.isBoolean=v,n.isNull=m,n.isNullOrUndefined=g,n.isNumber=y,n.isString=b,n.isSymbol=w,n.isUndefined=E,n.isRegExp=S,n.isObject=x,n.isDate=T,n.isError=N,n.isFunction=C,n.isPrimitive=k,n.isBuffer=e("./support/isBuffer");var H=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",O(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!x(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":85,"/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":103,inherits:102}],87:[function(e,t,n){function r(e,t,n){if(!(this instanceof r))return new r(e,t,n);var i=typeof e;if("base64"===t&&"string"===i)for(e=L(e);e.length%4!==0;)e+="=";var s;if("number"===i)s=O(e);else if("string"===i)s=r.byteLength(e,t);else{if("object"!==i)throw new Error("First argument needs to be a number, array or string.");s=O(e.length)}var o;r._useTypedArrays?o=r._augment(new Uint8Array(s)):(o=this,o.length=s,o._isBuffer=!0);var u;if(r._useTypedArrays&&"number"==typeof e.byteLength)o._set(e);else if(_(e))for(u=0;s>u;u++)o[u]=r.isBuffer(e)?e.readUInt8(u):e[u];else if("string"===i)o.write(e,0,t);else if("number"===i&&!r._useTypedArrays&&!n)for(u=0;s>u;u++)o[u]=0;return o}function i(e,t,n,i){n=Number(n)||0;var s=e.length-n;i?(i=Number(i),i>s&&(i=s)):i=s;var o=t.length;z(o%2===0,"Invalid hex string"),i>o/2&&(i=o/2);for(var u=0;i>u;u++){var a=parseInt(t.substr(2*u,2),16);z(!isNaN(a),"Invalid hex string"),e[n+u]=a}return r._charsWritten=2*u,u}function s(e,t,n,i){var s=r._charsWritten=F(P(t),e,n,i);return s}function o(e,t,n,i){var s=r._charsWritten=F(H(t),e,n,i);return s}function u(e,t,n,r){return o(e,t,n,r)}function a(e,t,n,i){var s=r._charsWritten=F(j(t),e,n,i);return s}function f(e,t,n,i){var s=r._charsWritten=F(B(t),e,n,i);return s}function l(e,t,n){return W.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function c(e,t,n){var r="",i="";n=Math.min(e.length,n);for(var s=t;n>s;s++)e[s]<=127?(r+=I(i)+String.fromCharCode(e[s]),i=""):i+="%"+e[s].toString(16);return r+I(i)}function h(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;n>i;i++)r+=String.fromCharCode(e[i]);return r}function p(e,t,n){return h(e,t,n)}function d(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var i="",s=t;n>s;s++)i+=D(e[s]);return i}function v(e,t,n){for(var r=e.slice(t,n),i="",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function m(e,t,n,r){r||(z("boolean"==typeof n,"missing or invalid endian"),z(void 0!==t&&null!==t,"missing offset"),z(t+1<e.length,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){var s;return n?(s=e[t],i>t+1&&(s|=e[t+1]<<8)):(s=e[t]<<8,i>t+1&&(s|=e[t+1])),s}}function g(e,t,n,r){r||(z("boolean"==typeof n,"missing or invalid endian"),z(void 0!==t&&null!==t,"missing offset"),z(t+3<e.length,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){var s;return n?(i>t+2&&(s=e[t+2]<<16),i>t+1&&(s|=e[t+1]<<8),s|=e[t],i>t+3&&(s+=e[t+3]<<24>>>0)):(i>t+1&&(s=e[t+1]<<16),i>t+2&&(s|=e[t+2]<<8),i>t+3&&(s|=e[t+3]),s+=e[t]<<24>>>0),s}}function y(e,t,n,r){r||(z("boolean"==typeof n,"missing or invalid endian"),z(void 0!==t&&null!==t,"missing offset"),z(t+1<e.length,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){var s=m(e,t,n,!0),o=32768&s;return o?-1*(65535-s+1):s}}function b(e,t,n,r){r||(z("boolean"==typeof n,"missing or invalid endian"),z(void 0!==t&&null!==t,"missing offset"),z(t+3<e.length,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){var s=g(e,t,n,!0),o=2147483648&s;return o?-1*(4294967295-s+1):s}}function w(e,t,n,r){return r||(z("boolean"==typeof n,"missing or invalid endian"),z(t+3<e.length,"Trying to read beyond buffer length")),X.read(e,t,n,23,4)}function E(e,t,n,r){return r||(z("boolean"==typeof n,"missing or invalid endian"),z(t+7<e.length,"Trying to read beyond buffer length")),X.read(e,t,n,52,8)}function S(e,t,n,r,i){i||(z(void 0!==t&&null!==t,"missing value"),z("boolean"==typeof r,"missing or invalid endian"),z(void 0!==n&&null!==n,"missing offset"),z(n+1<e.length,"trying to write beyond buffer length"),q(t,65535));var s=e.length;if(!(n>=s))for(var o=0,u=Math.min(s-n,2);u>o;o++)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function x(e,t,n,r,i){i||(z(void 0!==t&&null!==t,"missing value"),z("boolean"==typeof r,"missing or invalid endian"),z(void 0!==n&&null!==n,"missing offset"),z(n+3<e.length,"trying to write beyond buffer length"),q(t,4294967295));var s=e.length;if(!(n>=s))for(var o=0,u=Math.min(s-n,4);u>o;o++)e[n+o]=t>>>8*(r?o:3-o)&255}function T(e,t,n,r,i){i||(z(void 0!==t&&null!==t,"missing value"),z("boolean"==typeof r,"missing or invalid endian"),z(void 0!==n&&null!==n,"missing offset"),z(n+1<e.length,"Trying to write beyond buffer length"),R(t,32767,-32768));var s=e.length;n>=s||(t>=0?S(e,t,n,r,i):S(e,65535+t+1,n,r,i))}function N(e,t,n,r,i){i||(z(void 0!==t&&null!==t,"missing value"),z("boolean"==typeof r,"missing or invalid endian"),z(void 0!==n&&null!==n,"missing offset"),z(n+3<e.length,"Trying to write beyond buffer length"),R(t,2147483647,-2147483648));var s=e.length;n>=s||(t>=0?x(e,t,n,r,i):x(e,4294967295+t+1,n,r,i))}function C(e,t,n,r,i){i||(z(void 0!==t&&null!==t,"missing value"),z("boolean"==typeof r,"missing or invalid endian"),z(void 0!==n&&null!==n,"missing offset"),z(n+3<e.length,"Trying to write beyond buffer length"),U(t,3.4028234663852886e38,-3.4028234663852886e38));var s=e.length;n>=s||X.write(e,t,n,r,23,4)}function k(e,t,n,r,i){i||(z(void 0!==t&&null!==t,"missing value"),z("boolean"==typeof r,"missing or invalid endian"),z(void 0!==n&&null!==n,"missing offset"),z(n+7<e.length,"Trying to write beyond buffer length"),U(t,1.7976931348623157e308,-1.7976931348623157e308));var s=e.length;n>=s||X.write(e,t,n,r,52,8)}function L(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function A(e,t,n){return"number"!=typeof e?n:(e=~~e,e>=t?t:e>=0?e:(e+=t,e>=0?e:0))}function O(e){return e=~~Math.ceil(+e),0>e?0:e}function M(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function _(e){return M(e)||r.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}function D(e){return 16>e?"0"+e.toString(16):e.toString(16)}function P(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(127>=r)t.push(e.charCodeAt(n));else{var i=n;r>=55296&&57343>=r&&n++;for(var s=encodeURIComponent(e.slice(i,n+1)).substr(1).split("%"),o=0;o<s.length;o++)t.push(parseInt(s[o],16))}}return t}function H(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function B(e){for(var t,n,r,i=[],s=0;s<e.length;s++)t=e.charCodeAt(s),n=t>>8,r=t%256,i.push(r),i.push(n);return i}function j(e){return W.toByteArray(e)}function F(e,t,n,r){for(var i=0;r>i&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}function I(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}function q(e,t){z("number"==typeof e,"cannot write a non-number as a number"),z(e>=0,"specified a negative value for writing an unsigned value"),z(t>=e,"value is larger than maximum value for type"),z(Math.floor(e)===e,"value has a fractional component")}function R(e,t,n){z("number"==typeof e,"cannot write a non-number as a number"),z(t>=e,"value larger than maximum allowed value"),z(e>=n,"value smaller than minimum allowed value"),z(Math.floor(e)===e,"value has a fractional component")}function U(e,t,n){z("number"==typeof e,"cannot write a non-number as a number"),z(t>=e,"value larger than maximum allowed value"),z(e>=n,"value smaller than minimum allowed value")}function z(e,t){if(!e)throw new Error(t||"Failed assertion")}var W=e("base64-js"),X=e("ieee754");n.Buffer=r,n.SlowBuffer=r,n.INSPECT_MAX_BYTES=50,r.poolSize=8192,r._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(n){return!1}}(),r.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.isBuffer=function(e){return!(null===e||void 0===e||!e._isBuffer)},r.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=P(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=j(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;default:throw new Error("Unknown encoding")}return n},r.concat=function(e,t){if(z(M(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new r(0);if(1===e.length)return e[0];var n;if("number"!=typeof t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var i=new r(t),s=0;for(n=0;n<e.length;n++){var o=e[n];o.copy(i,s),s+=o.length}return i},r.prototype.write=function(e,t,n,r){if(isFinite(t))isFinite(n)||(r=n,n=void 0);else{var l=r;r=t,t=n,n=l}t=Number(t)||0;var c=this.length-t;n?(n=Number(n),n>c&&(n=c)):n=c,r=String(r||"utf8").toLowerCase();var h;switch(r){case"hex":h=i(this,e,t,n);break;case"utf8":case"utf-8":h=s(this,e,t,n);break;case"ascii":h=o(this,e,t,n);break;case"binary":h=u(this,e,t,n);break;case"base64":h=a(this,e,t,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":h=f(this,e,t,n);break;default:throw new Error("Unknown encoding")}return h},r.prototype.toString=function(e,t,n){var r=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,n=void 0!==n?Number(n):n=r.length,n===t)return"";var i;switch(e){case"hex":i=d(r,t,n);break;case"utf8":case"utf-8":i=c(r,t,n);break;case"ascii":i=h(r,t,n);break;case"binary":i=p(r,t,n);break;case"base64":i=l(r,t,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=v(r,t,n);break;default:throw new Error("Unknown encoding")}return i},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},r.prototype.copy=function(e,t,n,i){var s=this;if(n||(n=0),i||0===i||(i=this.length),t||(t=0),i!==n&&0!==e.length&&0!==s.length){z(i>=n,"sourceEnd < sourceStart"),z(t>=0&&t<e.length,"targetStart out of bounds"),z(n>=0&&n<s.length,"sourceStart out of bounds"),z(i>=0&&i<=s.length,"sourceEnd out of bounds"),i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var o=i-n;if(100>o||!r._useTypedArrays)for(var u=0;o>u;u++)e[u+t]=this[u+n];else e._set(this.subarray(n,n+o),t)}},r.prototype.slice=function(e,t){var n=this.length;if(e=A(e,n,0),t=A(t,n,n),r._useTypedArrays)return r._augment(this.subarray(e,t));for(var i=t-e,s=new r(i,void 0,!0),o=0;i>o;o++)s[o]=this[o+e];return s},r.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},r.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},r.prototype.readUInt8=function(e,t){return t||(z(void 0!==e&&null!==e,"missing offset"),z(e<this.length,"Trying to read beyond buffer length")),e>=this.length?void 0:this[e]},r.prototype.readUInt16LE=function(e,t){return m(this,e,!0,t)},r.prototype.readUInt16BE=function(e,t){return m(this,e,!1,t)},r.prototype.readUInt32LE=function(e,t){return g(this,e,!0,t)},r.prototype.readUInt32BE=function(e,t){return g(this,e,!1,t)},r.prototype.readInt8=function(e,t){if(t||(z(void 0!==e&&null!==e,"missing offset"),z(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length)){var n=128&this[e];return n?-1*(255-this[e]+1):this[e]}},r.prototype.readInt16LE=function(e,t){return y(this,e,!0,t)},r.prototype.readInt16BE=function(e,t){return y(this,e,!1,t)},r.prototype.readInt32LE=function(e,t){return b(this,e,!0,t)},r.prototype.readInt32BE=function(e,t){return b(this,e,!1,t)},r.prototype.readFloatLE=function(e,t){return w(this,e,!0,t)},r.prototype.readFloatBE=function(e,t){return w(this,e,!1,t)},r.prototype.readDoubleLE=function(e,t){return E(this,e,!0,t)},r.prototype.readDoubleBE=function(e,t){return E(this,e,!1,t)},r.prototype.writeUInt8=function(e,t,n){n||(z(void 0!==e&&null!==e,"missing value"),z(void 0!==t&&null!==t,"missing offset"),z(t<this.length,"trying to write beyond buffer length"),q(e,255)),t>=this.length||(this[t]=e)},r.prototype.writeUInt16LE=function(e,t,n){S(this,e,t,!0,n)},r.prototype.writeUInt16BE=function(e,t,n){S(this,e,t,!1,n)},r.prototype.writeUInt32LE=function(e,t,n){x(this,e,t,!0,n)},r.prototype.writeUInt32BE=function(e,t,n){x(this,e,t,!1,n)},r.prototype.writeInt8=function(e,t,n){n||(z(void 0!==e&&null!==e,"missing value"),z(void 0!==t&&null!==t,"missing offset"),z(t<this.length,"Trying to write beyond buffer length"),R(e,127,-128)),t>=this.length||(e>=0?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},r.prototype.writeInt16LE=function(e,t,n){T(this,e,t,!0,n)},r.prototype.writeInt16BE=function(e,t,n){T(this,e,t,!1,n)},r.prototype.writeInt32LE=function(e,t,n){N(this,e,t,!0,n)},r.prototype.writeInt32BE=function(e,t,n){N(this,e,t,!1,n)},r.prototype.writeFloatLE=function(e,t,n){C(this,e,t,!0,n)},r.prototype.writeFloatBE=function(e,t,n){C(this,e,t,!1,n)},r.prototype.writeDoubleLE=function(e,t,n){k(this,e,t,!0,n)},r.prototype.writeDoubleBE=function(e,t,n){k(this,e,t,!1,n)},r.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),"string"==typeof e&&(e=e.charCodeAt(0)),z("number"==typeof e&&!isNaN(e),"value is not a number"),z(n>=t,"end < start"),n!==t&&0!==this.length){z(t>=0&&t<this.length,"start out of bounds"),z(n>=0&&n<=this.length,"end out of bounds");for(var r=t;n>r;r++)this[r]=e}},r.prototype.inspect=function(){for(var e=[],t=this.length,r=0;t>r;r++)if(e[r]=D(this[r]),r===n.INSPECT_MAX_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},r.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(r._useTypedArrays)return(new r(this)).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;n>t;t+=1)e[t]=this[t];return e.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var V=r.prototype;r._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=V.get,e.set=V.set,e.write=V.write,e.toString=V.toString,e.toLocaleString=V.toString,e.toJSON=V.toJSON,e.copy=V.copy,e.slice=V.slice,e.readUInt8=V.readUInt8,e.readUInt16LE=V.readUInt16LE,e.readUInt16BE=V.readUInt16BE,e.readUInt32LE=V.readUInt32LE,e.readUInt32BE=V.readUInt32BE,e.readInt8=V.readInt8,e.readInt16LE=V.readInt16LE,e.readInt16BE=V.readInt16BE,e.readInt32LE=V.readInt32LE,e.readInt32BE=V.readInt32BE,e.readFloatLE=V.readFloatLE,e.readFloatBE=V.readFloatBE,e.readDoubleLE=V.readDoubleLE,e.readDoubleBE=V.readDoubleBE,e.writeUInt8=V.writeUInt8,e.writeUInt16LE=V.writeUInt16LE,e.writeUInt16BE=V.writeUInt16BE,e.writeUInt32LE=V.writeUInt32LE,e.writeUInt32BE=V.writeUInt32BE,e.writeInt8=V.writeInt8,e.writeInt16LE=V.writeInt16LE,e.writeInt16BE=V.writeInt16BE,e.writeInt32LE=V.writeInt32LE,e.writeInt32BE=V.writeInt32BE,e.writeFloatLE=V.writeFloatLE,e.writeFloatBE=V.writeFloatBE,e.writeDoubleLE=V.writeDoubleLE,e.writeDoubleBE=V.writeDoubleBE,e.fill=V.fill,e.inspect=V.inspect,e.toArrayBuffer=V.toArrayBuffer,e}},{"base64-js":88,ieee754:89}],88:[function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(){"use strict";function e(e){var t=e.charCodeAt(0);return t===o?62:t===u?63:a>t?-1:a+10>t?t-a+26+26:l+26>t?t-l:f+26>t?t-f+26:void 0}function n(t){function n(e){f[c++]=e}var r,i,o,u,a,f;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=t.length;a="="===t.charAt(l-2)?2:"="===t.charAt(l-1)?1:0,f=new s(3*t.length/4-a),o=a>0?t.length-4:t.length;var c=0;for(r=0,i=0;o>r;r+=4,i+=3)u=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&u)>>16),n((65280&u)>>8),n(255&u);return 2===a?(u=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&u)):1===a&&(u=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(u>>8&255),n(255&u)),f}function i(e){function t(e){return r.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var i,s,o,u=e.length%3,a="";for(i=0,o=e.length-u;o>i;i+=3)s=(e[i]<<16)+(e[i+1]<<8)+e[i+2],a+=n(s);switch(u){case 1:s=e[e.length-1],a+=t(s>>2),a+=t(s<<4&63),a+="==";break;case 2:s=(e[e.length-2]<<8)+e[e.length-1],a+=t(s>>10),a+=t(s>>4&63),a+=t(s<<2&63),a+="="}return a}var s="undefined"!=typeof Uint8Array?Uint8Array:Array,o=("0".charCodeAt(0),"+".charCodeAt(0)),u="/".charCodeAt(0),a="0".charCodeAt(0),f="a".charCodeAt(0),l="A".charCodeAt(0);t.exports.toByteArray=n,t.exports.fromByteArray=i}()},{}],89:[function(e,t,n){n.read=function(e,t,n,r,i){var s,o,u=8*i-r-1,a=(1<<u)-1,f=a>>1,l=-7,c=n?i-1:0,h=n?-1:1,p=e[t+c];for(c+=h,s=p&(1<<-l)-1,p>>=-l,l+=u;l>0;s=256*s+e[t+c],c+=h,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=r;l>0;o=256*o+e[t+c],c+=h,l-=8);if(0===s)s=1-f;else{if(s===a)return o?0/0:1/0*(p?-1:1);o+=Math.pow(2,r),s-=f}return(p?-1:1)*o*Math.pow(2,s-r)},n.write=function(e,t,n,r,i,s){var o,u,a,f=8*s-i-1,l=(1<<f)-1,c=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,d=r?1:-1,v=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(u=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-o))<1&&(o--,a*=2),t+=o+c>=1?h/a:h*Math.pow(2,1-c),t*a>=2&&(o++,a/=2),o+c>=l?(u=0,o=l):o+c>=1?(u=(t*a-1)*Math.pow(2,i),o+=c):(u=t*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;e[n+p]=255&u,p+=d,u/=256,i-=8);for(o=o<<i|u,f+=i;f>0;e[n+p]=255&o,p+=d,o/=256,f-=8);e[n+p-d]|=128*v}},{}],90:[function(e,t,n){function r(e,t){if(e.length%u!==0){var n=e.length+(u-e.length%u);e=o.concat([e,a],n)}for(var r=[],i=t?e.readInt32BE:e.readInt32LE,s=0;s<e.length;s+=u)r.push(i.call(e,s));return r}function i(e,t,n){for(var r=new o(t),i=n?r.writeInt32BE:r.writeInt32LE,s=0;s<e.length;s++)i.call(r,e[s],4*s,!0);return r}function s(e,t,n,s){o.isBuffer(e)||(e=new o(e));var u=t(r(e,s),e.length*f);return i(u,n,s)}var o=e("buffer").Buffer,u=4,a=new o(u);a.fill(0);var f=8;t.exports={hash:s}},{buffer:87}],91:[function(e,t,n){function r(e,t,n){u.isBuffer(t)||(t=new u(t)),u.isBuffer(n)||(n=new u(n)),t.length>p?t=e(t):t.length<p&&(t=u.concat([t,d],p));for(var r=new u(p),i=new u(p),s=0;p>s;s++)r[s]=54^t[s],i[s]=92^t[s];var o=e(u.concat([r,n]));return e(u.concat([i,o]))}function i(e,t){e=e||"sha1";var n=h[e],i=[],o=0;return n||s("algorithm:",e,"is not yet supported"),{update:function(e){return u.isBuffer(e)||(e=new u(e)),i.push(e),o+=e.length,this},digest:function(e){var s=u.concat(i),o=t?r(n,t,s):n(s);return i=null,e?o.toString(e):o}}}function s(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function o(e,t){for(var n in e)t(e[n],n)}var u=e("buffer").Buffer,a=e("./sha"),f=e("./sha256"),l=e("./rng"),c=e("./md5"),h={sha1:a,sha256:f,md5:c},p=64,d=new u(p);d.fill(0),n.createHash=function(e){return i(e)},n.createHmac=function(e,t){return i(e,t)},n.randomBytes=function(e,t){if(!t||!t.call)return new u(l(e));try{t.call(this,void 0,new u(l(e)))}catch(n){t(n)}},o(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],function(e){n[e]=function(){s("sorry,",e,"is not implemented yet")}})},{"./md5":92,"./rng":93,"./sha":94,"./sha256":95,buffer:87}],92:[function(e,t,n){function r(){return"900150983cd24fb0d6963f7d28e17f72"==hex_md5("abc")}function i(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,c=0;c<e.length;c+=16){var h=n,p=r,d=i,v=s;n=o(n,r,i,s,e[c+0],7,-680876936),s=o(s,n,r,i,e[c+1],12,-389564586),i=o(i,s,n,r,e[c+2],17,606105819),r=o(r,i,s,n,e[c+3],22,-1044525330),n=o(n,r,i,s,e[c+4],7,-176418897),s=o(s,n,r,i,e[c+5],12,1200080426),i=o(i,s,n,r,e[c+6],17,-1473231341),r=o(r,i,s,n,e[c+7],22,-45705983),n=o(n,r,i,s,e[c+8],7,1770035416),s=o(s,n,r,i,e[c+9],12,-1958414417),i=o(i,s,n,r,e[c+10],17,-42063),r=o(r,i,s,n,e[c+11],22,-1990404162),n=o(n,r,i,s,e[c+12],7,1804603682),s=o(s,n,r,i,e[c+13],12,-40341101),i=o(i,s,n,r,e[c+14],17,-1502002290),r=o(r,i,s,n,e[c+15],22,1236535329),n=u(n,r,i,s,e[c+1],5,-165796510),s=u(s,n,r,i,e[c+6],9,-1069501632),i=u(i,s,n,r,e[c+11],14,643717713),r=u(r,i,s,n,e[c+0],20,-373897302),n=u(n,r,i,s,e[c+5],5,-701558691),s=u(s,n,r,i,e[c+10],9,38016083),i=u(i,s,n,r,e[c+15],14,-660478335),r=u(r,i,s,n,e[c+4],20,-405537848),n=u(n,r,i,s,e[c+9],5,568446438),s=u(s,n,r,i,e[c+14],9,-1019803690),i=u(i,s,n,r,e[c+3],14,-187363961),r=u(r,i,s,n,e[c+8],20,1163531501),n=u(n,r,i,s,e[c+13],5,-1444681467),s=u(s,n,r,i,e[c+2],9,-51403784),i=u(i,s,n,r,e[c+7],14,1735328473),r=u(r,i,s,n,e[c+12],20,-1926607734),n=a(n,r,i,s,e[c+5],4,-378558),s=a(s,n,r,i,e[c+8],11,-2022574463),i=a(i,s,n,r,e[c+11],16,1839030562),r=a(r,i,s,n,e[c+14],23,-35309556),n=a(n,r,i,s,e[c+1],4,-1530992060),s=a(s,n,r,i,e[c+4],11,1272893353),i=a(i,s,n,r,e[c+7],16,-155497632),r=a(r,i,s,n,e[c+10],23,-1094730640),n=a(n,r,i,s,e[c+13],4,681279174),s=a(s,n,r,i,e[c+0],11,-358537222),i=a(i,s,n,r,e[c+3],16,-722521979),r=a(r,i,s,n,e[c+6],23,76029189),n=a(n,r,i,s,e[c+9],4,-640364487),s=a(s,n,r,i,e[c+12],11,-421815835),i=a(i,s,n,r,e[c+15],16,530742520),r=a(r,i,s,n,e[c+2],23,-995338651),n=f(n,r,i,s,e[c+0],6,-198630844),s=f(s,n,r,i,e[c+7],10,1126891415),i=f(i,s,n,r,e[c+14],15,-1416354905),r=f(r,i,s,n,e[c+5],21,-57434055),n=f(n,r,i,s,e[c+12],6,1700485571),s=f(s,n,r,i,e[c+3],10,-1894986606),i=f(i,s,n,r,e[c+10],15,-1051523),r=f(r,i,s,n,e[c+1],21,-2054922799),n=f(n,r,i,s,e[c+8],6,1873313359),s=f(s,n,r,i,e[c+15],10,-30611744),i=f(i,s,n,r,e[c+6],15,-1560198380),r=f(r,i,s,n,e[c+13],21,1309151649),n=f(n,r,i,s,e[c+4],6,-145523070),s=f(s,n,r,i,e[c+11],10,-1120210379),i=f(i,s,n,r,e[c+2],15,718787259),r=f(r,i,s,n,e[c+9],21,-343485551),n=l(n,h),r=l(r,p),i=l(i,d),s=l(s,v)}return Array(n,r,i,s)}function s(e,t,n,r,i,s){return l(c(l(l(t,e),l(r,s)),i),n)}function o(e,t,n,r,i,o,u){return s(t&n|~t&r,e,t,i,o,u)}function u(e,t,n,r,i,o,u){return s(t&r|n&~r,e,t,i,o,u)}function a(e,t,n,r,i,o,u){return s(t^n^r,e,t,i,o,u)}function f(e,t,n,r,i,o,u){return s(n^(t|~r),e,t,i,o,u)}function l(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function c(e,t){return e<<t|e>>>32-t}var h=e("./helpers");t.exports=function(e){return h.hash(e,i,16)}},{"./helpers":90}],93:[function(e,t,n){!function(){var e,n,r=this;e=function(e){for(var t,t,n=new Array(e),r=0;e>r;r++)0==(3&r)&&(t=4294967296*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n},r.crypto&&crypto.getRandomValues&&(n=function(e){var t=new Uint8Array(e);return crypto.getRandomValues(t),t}),t.exports=n||e}()},{}],94:[function(e,t,n){function r(e,t){e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t;for(var n=Array(80),r=1732584193,a=-271733879,f=-1732584194,l=271733878,c=-1009589776,h=0;h<e.length;h+=16){for(var p=r,d=a,v=f,m=l,g=c,y=0;80>y;y++){n[y]=16>y?e[h+y]:u(n[y-3]^n[y-8]^n[y-14]^n[y-16],1);var b=o(o(u(r,5),i(y,a,f,l)),o(o(c,n[y]),s(y)));c=l,l=f,f=u(a,30),a=r,r=b}r=o(r,p),a=o(a,d),f=o(f,v),l=o(l,m),c=o(c,g)}return Array(r,a,f,l,c)}function i(e,t,n,r){return 20>e?t&n|~t&r:40>e?t^n^r:60>e?t&n|t&r|n&r:t^n^r}function s(e){return 20>e?1518500249:40>e?1859775393:60>e?-1894007588:-899497514}function o(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function u(e,t){return e<<t|e>>>32-t}var a=e("./helpers");t.exports=function(e){return a.hash(e,r,20,!0)}},{"./helpers":90}],95:[function(e,t,n){var r=e("./helpers"),i=function(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n},s=function(e,t){return e>>>t|e<<32-t},o=function(e,t){return e>>>t},u=function(e,t,n){return e&t^~e&n},a=function(e,t,n){return e&t^e&n^t&n},f=function(e){return s(e,2)^s(e,13)^s(e,22)},l=function(e){return s(e,6)^s(e,11)^s(e,25)},c=function(e){return s(e,7)^s(e,18)^o(e,3)},h=function(e){return s(e,17)^s(e,19)^o(e,10)},p=function(e,t){var n,r,s,o,p,d,v,m,g,y,b,w,E=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),S=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),x=new Array(64);e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t;for(var g=0;g<e.length;g+=16){n=S[0],r=S[1],s=S[2],o=S[3],p=S[4],d=S[5],v=S[6],m=S[7];for(var y=0;64>y;y++)x[y]=16>y?e[y+g]:i(i(i(h(x[y-2]),x[y-7]),c(x[y-15])),x[y-16]),b=i(i(i(i(m,l(p)),u(p,d,v)),E[y]),x[y]),w=i(f(n),a(n,r,s)),m=v,v=d,d=p,p=i(o,b),o=s,s=r,r=n,n=i(b,w);S[0]=i(n,S[0]),S[1]=i(r,S[1]),S[2]=i(s,S[2]),S[3]=i(o,S[3]),S[4]=i(p,S[4]),S[5]=i(d,S[5]),S[6]=i(v,S[6]),S[7]=i(m,S[7])}return S};t.exports=function(e){return r.hash(e,p,32,!0)}},{"./helpers":90}],96:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function s(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function u(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!s(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,s,a,f;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length))throw t=arguments[1],t instanceof Error?t:TypeError('Uncaught, unspecified "error" event.');if(n=this._events[e],u(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,s=new Array(r-1),a=1;r>a;a++)s[a-1]=arguments[a];n.apply(this,s)}else if(o(n)){for(r=arguments.length,s=new Array(r-1),a=1;r>a;a++)s[a-1]=arguments[a];for(f=n.slice(),r=f.length,a=0;r>a;a++)f[a].apply(this,s)}return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned){var n;n=u(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,s,u;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(u=s;u-->0;)if(n[u]===t||n[u].listener&&n[u].listener===t){r=u;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},{}],97:[function(e,t,n){var r=t.exports,i=e("events").EventEmitter,s=e("./lib/request"),o=e("url");r.request=function(e,t){"string"==typeof e&&(e=o.parse(e)),e||(e={}),e.host||e.port||(e.port=parseInt(window.location.port,10)),!e.host&&e.hostname&&(e.host=e.hostname),e.scheme||(e.scheme=window.location.protocol.split(":")[0]),e.host||(e.host=window.location.hostname||window.location.host),/:/.test(e.host)&&(e.port||(e.port=e.host.split(":")[1]),e.host=e.host.split(":")[0]),e.port||(e.port="https"==e.scheme?443:80);var n=new s(new u,e);return t&&n.on("response",t),n},r.get=function(e,t){e.method="GET";var n=r.request(e,t);return n.end(),n},r.Agent=function(){},r.Agent.defaultMaxSockets=4;var u=function(){if("undefined"==typeof window)throw new Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){for(var e=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{var n=new window.ActiveXObject(e[t]);return function(){if(n){var r=n;return n=null,r}return new window.ActiveXObject(e[t])}}catch(r){}throw new Error("ajax not supported in this browser")}throw new Error("ajax not supported in this browser")}();r.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{"./lib/request":98,events:96,url:117}],98:[function(e,t,n){var r=e("stream"),i=e("./response"),s=e("Base64"),o=e("inherits"),u=t.exports=function(e,t){var n=this;n.writable=!0,n.xhr=e,n.body=[],n.uri=(t.scheme||"http")+"://"+t.host+(t.port?":"+t.port:"")+(t.path||"/"),"undefined"==typeof t.withCredentials&&(t.withCredentials=!0);try{e.withCredentials=t.withCredentials}catch(r){}if(e.open(t.method||"GET",n.uri,!0),n._headers={},t.headers)for(var o=a(t.headers),u=0;u<o.length;u++){var f=o[u];if(n.isSafeRequestHeader(f)){var l=t.headers[f];n.setHeader(f,l)}}t.auth&&this.setHeader("Authorization","Basic "+s.btoa(t.auth));var c=new i;c.on("close",function(){n.emit("close")}),c.on("ready",function(){n.emit("response",c)}),e.onreadystatechange=function(){e.__aborted||c.handle(e)}};o(u,r),u.prototype.setHeader=function(e,t){this._headers[e.toLowerCase()]=t},u.prototype.getHeader=function(e){return this._headers[e.toLowerCase()]},u.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},u.prototype.write=function(e){this.body.push(e)},u.prototype.destroy=function(){this.xhr.__aborted=!0,this.xhr.abort(),this.emit("close")},u.prototype.end=function(e){void 0!==e&&this.body.push(e);for(var t=a(this._headers),n=0;n<t.length;n++){var r=t[n],i=this._headers[r];if(f(i))for(var s=0;s<i.length;s++)this.xhr.setRequestHeader(r,i[s]);else this.xhr.setRequestHeader(r,i)}if(0===this.body.length)this.xhr.send("");else if("string"==typeof this.body[0])this.xhr.send(this.body.join(""));else if(f(this.body[0])){for(var o=[],n=0;n<this.body.length;n++)o.push.apply(o,this.body[n]);this.xhr.send(o)}else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){for(var u=0,n=0;n<this.body.length;n++)u+=this.body[n].length;for(var o=new this.body[0].constructor(u),l=0,n=0;n<this.body.length;n++)for(var c=this.body[n],s=0;s<c.length;s++)o[l++]=c[s];this.xhr.send(o)}else{for(var o="",n=0;n<this.body.length;n++)o+=this.body[n].toString();this.xhr.send(o)}},u.unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],u.prototype.isSafeRequestHeader=function(e){return e?-1===l(u.unsafeHeaders,e.toLowerCase()):!1};var a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},l=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}},{"./response":99,Base64:100,inherits:102,stream:110}],99:[function(e,t,n){function r(e){for(var t=e.getAllResponseHeaders().split(/\r?\n/),n={},r=0;r<t.length;r++){var i=t[r];if(""!==i){var s=i.match(/^([^:]+):\s*(.*)/);if(s){var o=s[1].toLowerCase(),u=s[2];void 0!==n[o]?a(n[o])?n[o].push(u):n[o]=[n[o],u]:n[o]=u}else n[i]=!0}}return n}var i=e("stream"),s=e("util"),o=t.exports=function(){this.offset=0,this.readable=!0};s.inherits(o,i);var u={streaming:!0,status2:!0};o.prototype.getResponse=function(e){var t=String(e.responseType).toLowerCase();return"blob"===t?e.responseBlob||e.response:"arraybuffer"===t?e.response:e.responseText},o.prototype.getHeader=function(e){return this.headers[e.toLowerCase()]},o.prototype.handle=function(e){if(2===e.readyState&&u.status2){try{this.statusCode=e.status,this.headers=r(e)}catch(t){u.status2=!1}u.status2&&this.emit("ready")}else if(u.streaming&&3===e.readyState){try{this.statusCode||(this.statusCode=e.status,this.headers=r(e),this.emit("ready"))}catch(t){}try{this._emitData(e)}catch(t){u.streaming=!1}}else 4===e.readyState&&(this.statusCode||(this.statusCode=e.status,this.emit("ready")),this._emitData(e),e.error?this.emit("error",this.getResponse(e)):this.emit("end"),this.emit("close"))},o.prototype._emitData=function(e){var t=this.getResponse(e);return t.toString().match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(t,this.offset)),void (this.offset=t.byteLength)):void (t.length>this.offset&&(this.emit("data",t.slice(this.offset)),this.offset=t.length))};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{stream:110,util:119}],100:[function(e,t,n){!function(){function e(e){this.message=e}var t="undefined"!=typeof n?n:this,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.prototype=new Error,e.prototype.name="InvalidCharacterError",t.btoa||(t.btoa=function(t){for(var n,i,s=0,o=r,u="";t.charAt(0|s)||(o="=",s%1);u+=o.charAt(63&n>>8-s%1*8)){if(i=t.charCodeAt(s+=.75),i>255)throw new e("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|i}return u}),t.atob||(t.atob=function(t){if(t=t.replace(/=+$/,""),t.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,s=0,o=0,u="";i=t.charAt(o++);~i&&(n=s%4?64*n+i:i,s++%4)?u+=String.fromCharCode(255&n>>(-2*s&6)):0)i=r.indexOf(i);return u})}()},{}],101:[function(e,t,n){var r=e("http"),i=t.exports;for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);i.request=function(e,t){return e||(e={}),e.scheme="https",r.request.call(this,e,t)}},{http:97}],102:[function(e,t,n){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],103:[function(e,t,n){function r(){}var i=t.exports={};i.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=r,i.once=r,i.off=r,i.emit=r,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")}},{}],104:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,s=function(e){return i.exec(e).slice(1)};n.resolve=function(){for(var n="",i=!1,s=arguments.length-1;s>=-1&&!i;s--){var o=s>=0?arguments[s]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(n=o+"/"+n,i="/"===o.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(e){var i=n.isAbsolute(e),s="/"===o(e,-1);return e=t(r(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&s&&(e+="/"),(i?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var i=r(e.split("/")),s=r(t.split("/")),o=Math.min(i.length,s.length),u=o,a=0;o>a;a++)if(i[a]!==s[a]){u=a;break}for(var f=[],a=u;a<i.length;a++)f.push("..");return f=f.concat(s.slice(u)),f.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=s(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(e,t){var n=s(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return s(e)[3]};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return 0>t&&(t=e.length+t),e.substr(t,n)}}).call(this,e("/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":103}],105:[function(e,t,n){(function(e){!function(r){function i(e){throw RangeError(D[e])}function s(e,t){for(var n=e.length;n--;)e[n]=t(e[n]);return e}function o(e,t){return s(e.split(_),t).join(".")}function u(e){for(var t,n,r=[],i=0,s=e.length;s>i;)t=e.charCodeAt(i++),t>=55296&&56319>=t&&s>i?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function a(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=B(e>>>10&1023|55296),e=56320|1023&e),t+=B(e)}).join("")}function f(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:S}function l(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function c(e,t,n){var r=0;for(e=n?H(e/C):e>>1,e+=H(e/t);e>P*T>>1;r+=S)e=H(e/P);return H(r+(P+1)*e/(e+N))}function h(e){var t,n,r,s,o,u,l,h,p,d,v=[],m=e.length,g=0,y=L,b=k;for(n=e.lastIndexOf(A),0>n&&(n=0),r=0;n>r;++r)e.charCodeAt(r)>=128&&i("not-basic"),v.push(e.charCodeAt(r));for(s=n>0?n+1:0;m>s;){for(o=g,u=1,l=S;s>=m&&i("invalid-input"),h=f(e.charCodeAt(s++)),(h>=S||h>H((E-g)/u))&&i("overflow"),g+=h*u,p=b>=l?x:l>=b+T?T:l-b,!(p>h);l+=S)d=S-p,u>H(E/d)&&i("overflow"),u*=d;t=v.length+1,b=c(g-o,t,0==o),H(g/t)>E-y&&i("overflow"),y+=H(g/t),g%=t,v.splice(g++,0,y)}return a(v)}function p(e){var t,n,r,s,o,a,f,h,p,d,v,m,g,y,b,w=[];for(e=u(e),m=e.length,t=L,n=0,o=k,a=0;m>a;++a)v=e[a],128>v&&w.push(B(v));for(r=s=w.length,s&&w.push(A);m>r;){for(f=E,a=0;m>a;++a)v=e[a],v>=t&&f>v&&(f=v);for(g=r+1,f-t>H((E-n)/g)&&i("overflow"),n+=(f-t)*g,t=f,a=0;m>a;++a)if(v=e[a],t>v&&++n>E&&i("overflow"),v==t){for(h=n,p=S;d=o>=p?x:p>=o+T?T:p-o,!(d>h);p+=S)b=h-d,y=S-d,w.push(B(l(d+b%y,0))),h=H(b/y);w.push(B(l(h,0))),o=c(n,g,r==s),n=0,++r}++n,++t}return w.join("")}function d(e){return o(e,function(e){return O.test(e)?h(e.slice(4).toLowerCase()):e})}function v(e){return o(e,function(e){return M.test(e)?"xn--"+p(e):e})}var m="object"==typeof n&&n,g="object"==typeof t&&t&&t.exports==m&&t,y="object"==typeof e&&e;(y.global===y||y.window===y)&&(r=y);var b,w,E=2147483647,S=36,x=1,T=26,N=38,C=700,k=72,L=128,A="-",O=/^xn--/,M=/[^ -~]/,_=/\x2E|\u3002|\uFF0E|\uFF61/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=S-x,H=Math.floor,B=String.fromCharCode;if(b={version:"1.2.4",ucs2:{decode:u,encode:a},decode:h,encode:p,toASCII:v,toUnicode:d},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return b});else if(m&&!m.nodeType)if(g)g.exports=b;else for(w in b)b.hasOwnProperty(w)&&(m[w]=b[w]);else r.punycode=b}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],106:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,s){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var u=/\+/g;e=e.split(t);var a=1e3;s&&"number"==typeof s.maxKeys&&(a=s.maxKeys);var f=e.length;a>0&&f>a&&(f=a);for(var l=0;f>l;++l){var c,h,p,d,v=e[l].replace(u,"%20"),m=v.indexOf(n);m>=0?(c=v.substr(0,m),h=v.substr(m+1)):(c=v,h=""),p=decodeURIComponent(c),d=decodeURIComponent(h),r(o,p)?i(o[p])?o[p].push(d):o[p]=[o[p],d]:o[p]=d}return o};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],107:[function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,u){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?r(o(e),function(r){var o=encodeURIComponent(i(r))+n;return s(e[r])?e[r].map(function(e){return o+encodeURIComponent(i(e))}).join(t):o+encodeURIComponent(i(e[r]))}).join(t):u?encodeURIComponent(i(u))+n+encodeURIComponent(i(e)):""};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],108:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":106,"./encode":107}],109:[function(e,t,n){function r(e){return this instanceof r?(u.call(this,e),a.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(e)}function i(){if(!this.allowHalfOpen&&!this._writableState.ended){var e=this;o(function(){e.end()})}}t.exports=r;var s=e("inherits"),o=e("process/browser.js").nextTick,u=e("./readable.js"),a=e("./writable.js");s(r,u),r.prototype.write=a.prototype.write,r.prototype.end=a.prototype.end,r.prototype._write=a.prototype._write},{"./readable.js":113,"./writable.js":115,inherits:102,"process/browser.js":111}],110:[function(e,t,n){function r(){i.call(this)}t.exports=r;var i=e("events").EventEmitter,s=e("inherits");s(r,i),r.Readable=e("./readable.js"),r.Writable=e("./writable.js"),r.Duplex=e("./duplex.js"),r.Transform=e("./transform.js"),r.PassThrough=e("./passthrough.js"),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&f.pause&&f.pause()}function r(){f.readable&&f.resume&&f.resume()}function s(){l||(l=!0,e.end())}function o(){l||(l=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(a(),0===i.listenerCount(this,"error"))throw e}function a(){f.removeListener("data",n),e.removeListener("drain",r),f.removeListener("end",s),f.removeListener("close",o),f.removeListener("error",u),e.removeListener("error",u),f.removeListener("end",a),f.removeListener("close",a),e.removeListener("close",a)}var f=this;f.on("data",n),e.on("drain",r),e._isStdio||t&&t.end===!1||(f.on("end",s),f.on("close",o));var l=!1;return f.on("error",u),e.on("error",u),f.on("end",a),f.on("close",a),e.on("close",a),e.emit("pipe",f),e}},{"./duplex.js":109,"./passthrough.js":112,"./readable.js":113,"./transform.js":114,"./writable.js":115,events:96,inherits:102}],111:[function(e,t,n){var r=t.exports={};r.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")}},{}],112:[function(e,t,n){function r(e){return this instanceof r?void i.call(this,e):new r(e)}t.exports=r;var i=e("./transform.js"),s=e("inherits");s(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},{"./transform.js":114,inherits:102}],113:[function(e,t,n){(function(n){function r(t){t=t||{};var n=t.highWaterMark;this.highWaterMark=n||0===n?n:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(x||(x=e("string_decoder").StringDecoder),this.decoder=new x(t.encoding),this.encoding=t.encoding)}function i(e){return this instanceof i?(this._readableState=new r(e,this),this.readable=!0,void N.call(this)):new i(e)}function s(e,t,n,r,i){var s=f(t,n);if(s)e.emit("error",s);else if(null===n||void 0===n)t.reading=!1,t.ended||l(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var u=new Error("stream.push() after EOF");e.emit("error",u)}else if(t.endEmitted&&i){var u=new Error("stream.unshift() after end event");e.emit("error",u)}else!t.decoder||i||r||(n=t.decoder.write(n)),t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):(t.reading=!1,t.buffer.push(n)),t.needReadable&&c(e),p(e,t);else i||(t.reading=!1);return o(t)}function o(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function u(e){if(e>=A)e=A;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function a(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||null===e?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=u(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function f(e,t){var n=null;return C.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||n||(n=new TypeError("Invalid non-string/buffer chunk")),n}function l(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.length>0?c(e):w(e)}function c(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,t.sync?k(function(){h(e)}):h(e))}function h(e){e.emit("readable")}function p(e,t){t.readingMore||(t.readingMore=!0,k(function(){d(e,t)}))}function d(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function v(e){return function(){var t=e._readableState;t.awaitDrain--,0===t.awaitDrain&&m(e)}}function m(e){function t(e){var t=e.write(n);!1===t&&r.awaitDrain++}var n,r=e._readableState;for(r.awaitDrain=0;r.pipesCount&&null!==(n=e.read());)if(1===r.pipesCount?t(r.pipes,0,null):E(r.pipes,t),e.emit("data",n),r.awaitDrain>0)return;return 0===r.pipesCount?(r.flowing=!1,void (T.listenerCount(e,"data")>0&&y(e))):void (r.ranOut=!0)}function g(){this._readableState.ranOut&&(this._readableState.ranOut=!1,m(this))}function y(e,t){var n=e._readableState;if(n.flowing)throw new Error("Cannot switch to old mode now.");var r=t||!1,i=!1;e.readable=!0,e.pipe=N.prototype.pipe,e.on=e.addListener=N.prototype.on,e.on("readable",function(){i=!0;for(var t;!r&&null!==(t=e.read());)e.emit("data",t);null===t&&(i=!1,e._readableState.needReadable=!0)}),e.pause=function(){r=!0,this.emit("pause")},e.resume=function(){r=!1,i?k(function(){e.emit("readable")}):this.read(0),this.emit("resume")},e.emit("readable")}function b(e,t){var n,r=t.buffer,i=t.length,s=!!t.decoder,o=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(o)n=r.shift();else if(!e||e>=i)n=s?r.join(""):C.concat(r,i),r.length=0;else if(e<r[0].length){var u=r[0];n=u.slice(0,e),r[0]=u.slice(e)}else if(e===r[0].length)n=r.shift();else{n=s?"":new C(e);for(var a=0,f=0,l=r.length;l>f&&e>a;f++){var u=r[0],c=Math.min(e-a,u.length);s?n+=u.slice(0,c):u.copy(n,a,0,c),c<u.length?r[0]=u.slice(c):r.shift(),a+=c}}return n}function w(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");!t.endEmitted&&t.calledRead&&(t.ended=!0,k(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function E(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}function S(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}t.exports=i,i.ReadableState=r;var x,T=e("events").EventEmitter,N=e("./index.js"),C=e("buffer").Buffer,k=e("process/browser.js").nextTick,L=e("inherits");L(i,N),i.prototype.push=function(e,t){var n=this._readableState;return"string"!=typeof e||n.objectMode||(t=t||n.defaultEncoding,t!==n.encoding&&(e=new C(e,t),t="")),s(this,n,e,t,!1)},i.prototype.unshift=function(e){var t=this._readableState;return s(this,t,e,"",!0)},i.prototype.setEncoding=function(t){x||(x=e("string_decoder").StringDecoder),this._readableState.decoder=new x(t),this._readableState.encoding=t};var A=8388608;i.prototype.read=function(e){var t=this._readableState;t.calledRead=!0;var n=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return c(this),null;if(e=a(e,t),0===e&&t.ended)return 0===t.length&&w(this),null;var r=t.needReadable;t.length-e<=t.highWaterMark&&(r=!0),(t.ended||t.reading)&&(r=!1),r&&(t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=a(n,t));var i;return i=e>0?b(e,t):null,null===i&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),t.ended&&!t.endEmitted&&0===t.length&&w(this),i},i.prototype._read=function(){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(e,t){function r(e){e===l&&s()}function i(){e.end()}function s(){e.removeListener("close",u),e.removeListener("finish",a),e.removeListener("drain",d),e.removeListener("error",o),e.removeListener("unpipe",r),l.removeListener("end",i),l.removeListener("end",s),(!e._writableState||e._writableState.needDrain)&&d()}function o(t){f(),0===y&&0===T.listenerCount(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",a),f()}function a(){e.removeListener("close",u),f()}function f(){l.unpipe(e)}var l=this,c=this._readableState;switch(c.pipesCount){case 0:c.pipes=e;break;case 1:c.pipes=[c.pipes,e];break;default:c.pipes.push(e)}c.pipesCount+=1;var h=(!t||t.end!==!1)&&e!==n.stdout&&e!==n.stderr,p=h?i:s;c.endEmitted?k(p):l.once("end",p),e.on("unpipe",r);var d=v(l);e.on("drain",d);var y=T.listenerCount(e,"error");return e.once("error",o),e.once("close",u),e.once("finish",a),e.emit("pipe",l),c.flowing||(this.on("readable",g),c.flowing=!0,k(function(){m(l)})),e},i.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,this.removeListener("readable",g),t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,this.removeListener("readable",g),t.flowing=!1;for(var i=0;r>i;i++)n[i].emit("unpipe",this);return this}var i=S(t.pipes,e);return-1===i?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},i.prototype.on=function(e,t){var n=N.prototype.on.call(this,e,t);if("data"!==e||this._readableState.flowing||y(this),"readable"===e&&this.readable){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&c(this,r):this.read(0))}return n},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){y(this),this.read(0),this.emit("resume")},i.prototype.pause=function(){y(this,!0),this.emit("pause")},i.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length)){var s=r.push(i);s||(n=!0,e.pause())}});for(var i in e)"function"==typeof e[i]&&"undefined"==typeof this[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var s=["error","close","destroy","pause","resume"];return E(s,function(t){e.on(t,function(e){return r.emit.apply(r,t,e)})}),r._read=function(){n&&(n=!1,e.resume())},r},i._fromList=b}).call(this,e("/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"./index.js":110,"/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":103,buffer:87,events:96,inherits:102,"process/browser.js":111,string_decoder:116}],114:[function(e,t,n){function r(e,t){this.afterTransform=function(e,n){return i(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function i(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&e.push(n),i&&i(t);var s=e._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&e._read(s.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);u.call(this,e);var t=(this._transformState=new r(e,this),this);this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(e){o(t,e)}):o(t)})}function o(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=(e._readableState,e._transformState);if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}t.exports=s;var u=e("./duplex.js"),a=e("inherits");a(s,u),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},s.prototype._transform=function(){throw new Error("not implemented")},s.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(){var e=this._transformState;e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},{"./duplex.js":109,inherits:102}],115:[function(e,t,n){function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function i(e,t){e=e||{};var n=e.highWaterMark;this.highWaterMark=n||0===n?n:16384,this.objectMode=!!e.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var r=e.decodeStrings===!1;this.decodeStrings=!r,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){p(t,e)},this.writecb=null,this.writelen=0,this.buffer=[]}function s(e){return this instanceof s||this instanceof x.Duplex?(this._writableState=new i(e,this),this.writable=!0,void x.call(this)):new s(e)}function o(e,t,n){var r=new Error("write after end");e.emit("error",r),T(function(){n(r)})}function u(e,t,n,r){var i=!0;if(!N.isBuffer(n)&&"string"!=typeof n&&null!==n&&void 0!==n&&!t.objectMode){var s=new TypeError("Invalid non-string/buffer chunk");e.emit("error",s),T(function(){r(s)}),i=!1}return i}function a(e,t,n){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=new N(t,n)),t}function f(e,t,n,i,s){n=a(t,n,i);var o=t.objectMode?1:n.length;t.length+=o;var u=t.length<t.highWaterMark;return t.needDrain=!u,t.writing?t.buffer.push(new r(n,i,s)):l(e,t,o,n,i,s),u}function l(e,t,n,r,i,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,e._write(r,i,t.onwrite),t.sync=!1}function c(e,t,n,r,i){n?T(function(){i(r)}):i(r),e.emit("error",r)}function h(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function p(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(h(n),t)c(e,n,r,t,i);else{var s=g(e,n);s||n.bufferProcessing||!n.buffer.length||m(e,n),r?T(function(){d(e,n,s,i)}):d(e,n,s,i)}}function d(e,t,n,r){n||v(e,t),r(),n&&y(e,t)}function v(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function m(e,t){t.bufferProcessing=!0;for(var n=0;n<t.buffer.length;n++){var r=t.buffer[n],i=r.chunk,s=r.encoding,o=r.callback,u=t.objectMode?1:i.length;if(l(e,t,u,i,s,o),t.writing){n++;break}}t.bufferProcessing=!1,n<t.buffer.length?t.buffer=t.buffer.slice(n):t.buffer.length=0}function g(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function y(e,t){var n=g(e,t);return n&&(t.finished=!0,e.emit("finish")),n}function b(e,t,n){t.ending=!0,y(e,t),n&&(t.finished?T(n):e.once("finish",n)),t.ended=!0}t.exports=s,s.WritableState=i;var w="undefined"!=typeof Uint8Array?function(e){return e instanceof Uint8Array}:function(e){return e&&e.constructor&&"Uint8Array"===e.constructor.name},E="undefined"!=typeof ArrayBuffer?function(e){return e instanceof ArrayBuffer}:function(e){return e&&e.constructor&&"ArrayBuffer"===e.constructor.name},S=e("inherits"),x=e("./index.js"),T=e("process/browser.js").nextTick,N=e("buffer").Buffer;S(s,x),s.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},s.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return"function"==typeof t&&(n=t,t=null),!N.isBuffer(e)&&w(e)&&(e=new N(e)),E(e)&&"undefined"!=typeof Uint8Array&&(e=new N(new Uint8Array(e))),N.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=function(){}),r.ended?o(this,r,n):u(this,r,e,n)&&(i=f(this,r,e,t,n)),i},s.prototype._write=function(e,t,n){n(new Error("not implemented"))},s.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),"undefined"!=typeof e&&null!==e&&this.write(e,t),r.ending||r.finished||b(this,r,n)}},{"./index.js":110,buffer:87,inherits:102,"process/browser.js":111}],116:[function(e,t,n){function r(e){if(e&&!u.isEncoding(e))throw new Error("Unknown encoding: "+e)}function i(e){return e.toString(this.encoding)}function s(e){var t=this.charReceived=e.length%2;return this.charLength=t?2:0,t}function o(e){var t=this.charReceived=e.length%3;return this.charLength=t?3:0,t}var u=e("buffer").Buffer,a=n.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),r(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=s;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=o;break;default:return void (this.write=i)}this.charBuffer=new u(6),this.charReceived=0,this.charLength=0};a.prototype.write=function(e){for(var t="",n=0;this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,n,r),this.charReceived+=r-n,n=r,this.charReceived<this.charLength)return"";t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var i=t.charCodeAt(t.length-1);if(!(i>=55296&&56319>=i)){if(this.charReceived=this.charLength=0,r==e.length)return t;e=e.slice(r,e.length);break}this.charLength+=this.surrogateSize,t=""}var s=this.detectIncompleteChar(e),o=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-s,o),this.charReceived=s,o-=s),t+=e.toString(this.encoding,0,o);var o=t.length-1,i=t.charCodeAt(o);if(i>=55296&&56319>=i){var u=this.surrogateSize;return this.charLength+=u,this.charReceived+=u,this.charBuffer.copy(this.charBuffer,u,0,u),this.charBuffer.write(t.charAt(t.length-1),this.encoding),t.substring(0,o)}return t},a.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(2>=t&&n>>4==14){this.charLength=3;break}if(3>=t&&n>>3==30){this.charLength=4;break}}return t},a.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,n).toString(i)}return t}},{buffer:87}],117:[function(e,t,n){!function(){"use strict";function t(e,t,n){if(e&&"object"==typeof e&&e.href)return e;if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i={},s=e;s=s.trim();var f=a.exec(s);if(f){f=f[0];var l=f.toLowerCase();i.protocol=l,s=s.substr(f.length)}if(n||f||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var c="//"===s.substr(0,2);!c||f&&b[f]||(s=s.substr(2),i.slashes=!0)}if(!b[f]&&(c||f&&!w[f])){var S=s.indexOf("@");if(-1!==S){for(var x=s.slice(0,S),T=!0,N=0,C=d.length;C>N;N++)if(-1!==x.indexOf(d[N])){T=!1;break}T&&(i.auth=decodeURIComponent(x),s=s.substr(S+1))}for(var k=-1,N=0,C=p.length;C>N;N++){var L=s.indexOf(p[N]);-1!==L&&(0>k||k>L)&&(k=L)}-1!==k?(i.host=s.substr(0,k),s=s.substr(k)):(i.host=s,s="");for(var A=o(i.host),O=Object.keys(A),N=0,C=O.length;C>N;N++){var M=O[N];i[M]=A[M]}i.hostname=i.hostname||"";var _="["===i.hostname[0]&&"]"===i.hostname[i.hostname.length-1];if(i.hostname.length>v)i.hostname="";else if(!_)for(var D=i.hostname.split(/\./),N=0,C=D.length;C>N;N++){var P=D[N];if(P&&!P.match(m)){for(var H="",B=0,j=P.length;j>B;B++)H+=P.charCodeAt(B)>127?"x":P[B];if(!H.match(m)){var F=D.slice(0,N),I=D.slice(N+1),q=P.match(g);q&&(F.push(q[1]),I.unshift(q[2])),I.length&&(s="/"+I.join(".")+s),i.hostname=F.join(".");break}}}if(i.hostname=i.hostname.toLowerCase(),!_){for(var R=i.hostname.split("."),U=[],N=0;N<R.length;++N){var z=R[N];U.push(z.match(/[^A-Za-z0-9_-]/)?"xn--"+u.encode(z):z)}i.hostname=U.join(".")}i.host=(i.hostname||"")+(i.port?":"+i.port:""),i.href+=i.host,_&&(i.hostname=i.hostname.substr(1,i.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!y[l])for(var N=0,C=h.length;C>N;N++){var W=h[N],X=encodeURIComponent(W);X===W&&(X=escape(W)),s=s.split(W).join(X)}var V=s.indexOf("#");-1!==V&&(i.hash=s.substr(V),s=s.slice(0,V));var $=s.indexOf("?");return-1!==$?(i.search=s.substr($),i.query=s.substr($+1),t&&(i.query=E.parse(i.query)),s=s.slice(0,$)):t&&(i.search="",i.query={}),s&&(i.pathname=s),w[f]&&i.hostname&&!i.pathname&&(i.pathname="/"),(i.pathname||i.search)&&(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=r(i),i}function r(e){"string"==typeof e&&(e=t(e));var n=e.auth||"";n&&(n=encodeURIComponent(n),n=n.replace(/%3A/i,":"),n+="@");var r=e.protocol||"",i=e.pathname||"",s=e.hash||"",o=!1,u="";void 0!==e.host?o=n+e.host:void 0!==e.hostname&&(o=n+(-1===e.hostname.indexOf(":")?e.hostname:"["+e.hostname+"]"),e.port&&(o+=":"+e.port)),e.query&&"object"==typeof e.query&&Object.keys(e.query).length&&(u=E.stringify(e.query));var a=e.search||u&&"?"+u||"";return r&&":"!==r.substr(-1)&&(r+=":"),e.slashes||(!r||w[r])&&o!==!1?(o="//"+(o||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):o||(o=""),s&&"#"!==s.charAt(0)&&(s="#"+s),a&&"?"!==a.charAt(0)&&(a="?"+a),r+o+i+a+s}function i(e,t){return r(s(e,t))}function s(e,n){if(!e)return n;if(e=t(r(e),!1,!0),n=t(r(n),!1,!0),e.hash=n.hash,""===n.href)return e.href=r(e),e;if(n.slashes&&!n.protocol)return n.protocol=e.protocol,w[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=r(n),n;if(n.protocol&&n.protocol!==e.protocol){if(!w[n.protocol])return n.href=r(n),n;if(e.protocol=n.protocol,!n.host&&!b[n.protocol]){for(var i=(n.pathname||"").split("/");i.length&&!(n.host=i.shift()););n.host||(n.host=""),n.hostname||(n.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}return e.pathname=n.pathname,e.search=n.search,e.query=n.query,e.host=n.host||"",e.auth=n.auth,e.hostname=n.hostname||n.host,e.port=n.port,(void 0!==e.pathname||void 0!==e.search)&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.slashes=e.slashes||n.slashes,e.href=r(e),e}var s=e.pathname&&"/"===e.pathname.charAt(0),o=void 0!==n.host||n.pathname&&"/"===n.pathname.charAt(0),u=o||s||e.host&&n.pathname,a=u,f=e.pathname&&e.pathname.split("/")||[],i=n.pathname&&n.pathname.split("/")||[],l=e.protocol&&!w[e.protocol];if(l&&(delete e.hostname,delete e.port,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),delete e.host,n.protocol&&(delete n.hostname,delete n.port,n.host&&(""===i[0]?i[0]=n.host:i.unshift(n.host)),delete n.host),u=u&&(""===i[0]||""===f[0])),o)e.host=n.host||""===n.host?n.host:e.host,e.hostname=n.hostname||""===n.hostname?n.hostname:e.hostname,e.search=n.search,e.query=n.query,f=i;else if(i.length)f||(f=[]),f.pop(),f=f.concat(i),e.search=n.search,e.query=n.query;else if("search"in n){if(l){e.hostname=e.host=f.shift();var c=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;c&&(e.auth=c.shift(),e.host=e.hostname=c.shift())}return e.search=n.search,e.query=n.query,(void 0!==e.pathname||void 0!==e.search)&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=r(e),e}if(!f.length)return delete e.pathname,e.search?delete e.path:e.path="/"+e.search,e.href=r(e),e;for(var h=f.slice(-1)[0],p=(e.host||n.host)&&("."===h||".."===h)||""===h,d=0,v=f.length;v>=0;v--)h=f[v],"."==h?f.splice(v,1):".."===h?(f.splice(v,1),d++):d&&(f.splice(v,1),d--);if(!u&&!a)for(;d--;d)f.unshift("..");!u||""===f[0]||f[0]&&"/"===f[0].charAt(0)||f.unshift(""),p&&"/"!==f.join("/").substr(-1)&&f.push("");var m=""===f[0]||f[0]&&"/"===f[0].charAt(0);if(l){e.hostname=e.host=m?"":f.length?f.shift():"";var c=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;c&&(e.auth=c.shift(),e.host=e.hostname=c.shift())}return u=u||e.host&&f.length,u&&!m&&f.unshift(""),e.pathname=f.join("/"),(void 0!==e.pathname||void 0!==e.search)&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=n.auth||e.auth,e.slashes=e.slashes||n.slashes,e.href=r(e),e}function o(e){var t={},n=f.exec(e);return n&&(n=n[0],":"!==n&&(t.port=n.substr(1)),e=e.substr(0,e.length-n.length)),e&&(t.hostname=e),t}var u=e("punycode");n.parse=t,n.resolve=i,n.resolveObject=s,n.format=r;var a=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,l=["<",">",'"',"`"," ","\r","\n","	"],c=["{","}","|","\\","^","~","`"].concat(l),h=["'"].concat(l),p=["%","/","?",";","#"].concat(c).concat(h),d=["/","@","?","#"].concat(l),v=255,m=/^[a-zA-Z0-9][a-z0-9A-Z_-]{0,62}$/,g=/^([a-zA-Z0-9][a-z0-9A-Z_-]{0,62})(.*)$/,y={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=e("querystring")}()},{punycode:105,querystring:108}],118:[function(e,t,n){t.exports=e(85)},{}],119:[function(e,t,n){t.exports=e(86)},{"./support/isBuffer":118,"/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":103,inherits:102}],aXRuS6:[function(e,t,n){(function(e){function n(){this.words=[],this.len=0}t.exports=n,n.prototype.put=function(e){return this.words.push({buffer:e}),this.len+=e.length,this},n.prototype.word8=function(e){return this.words.push({bytes:1,value:e}),this.len+=1,this},n.prototype.floatle=function(e){return this.words.push({bytes:"float",endian:"little",value:e}),this.len+=4,this},n.prototype.varint=function(e){253>e?this.word8(e):65536>=e?(this.word8(253),this.word16le(e)):1>=e?(this.word8(254),this.word32le(e)):(this.word8(255),this.word64le(e))},[8,16,24,32,64].forEach(function(e){n.prototype["word"+e+"be"]=function(t){return this.words.push({endian:"big",bytes:e/8,value:t}),this.len+=e/8,this},n.prototype["word"+e+"le"]=function(t){return this.words.push({endian:"little",bytes:e/8,value:t}),this.len+=e/8,this}}),n.prototype.pad=function(e){return this.words.push({endian:"big",bytes:e,value:0}),this.len+=e,this},n.prototype.length=function(){return this.len},n.prototype.buffer=function(){var t=new e(this.len),n=0;return this.words.forEach(function(e){if(e.buffer)e.buffer.copy(t,n,0),n+=e.buffer.length;else if("float"==e.bytes){var r=Math.abs(e.value),i=1*(e.value>=0),s=Math.ceil(Math.log(r)/Math.LN2),u=r/(1<<s);t[n++]=i<<7&~~(s/2),t[n++]=(1&s)<<7&~~(u/65536),t[n++]=0,t[n++]=0,n+=4}else for(var a="big"===e.endian,f=a?[8*(e.bytes-1),-8]:[0,8],l=f[0];a?l>=0:l<8*e.bytes;l+=f[1])t[n++]=l>=32?255&Math.floor(e.value/Math.pow(2,l)):e.value>>l&255}),t},n.prototype.write=function(e){e.write(this.buffer())}}).call(this,e("buffer").Buffer)},{buffer:87}],bufferput:[function(e,t,n){t.exports=e("aXRuS6")},{}],buffers:[function(e,t,n){t.exports=e("OBo3aV")},{}],OBo3aV:[function(e,t,n){(function(e){function n(e){return this instanceof n?(this.buffers=e||[],void (this.length=this.buffers.reduce(function(e,t){return e+t.length},0))):new n(e)}t.exports=n,n.prototype.push=function(){for(var t=0;t<arguments.length;t++)if(!e.isBuffer(arguments[t]))throw new TypeError("Tried to push a non-buffer");for(var t=0;t<arguments.length;t++){var n=arguments[t];this.buffers.push(n),this.length+=n.length}return this.length},n.prototype.unshift=function(){for(var t=0;t<arguments.length;t++)if(!e.isBuffer(arguments[t]))throw new TypeError("Tried to unshift a non-buffer");for(var t=0;t<arguments.length;t++){var n=arguments[t];this.buffers.unshift(n),this.length+=n.length}return this.length},n.prototype.copy=function(e,t,n,r){return this.slice(n,r).copy(e,t,0,r-n)},n.prototype.splice=function(t,r){var i=this.buffers,s=t>=0?t:this.length-t,o=[].slice.call(arguments,2);void 0===r?r=this.length-s:r>this.length-s&&(r=this.length-s);for(var t=0;t<o.length;t++)this.length+=o[t].length;for(var u=new n,a=0,f=0;f<i.length&&a+i[f].length<s;f++)a+=i[f].length;if(s-a>0){var l=s-a;if(l+r<i[f].length){u.push(i[f].slice(l,l+r));for(var c=i[f],h=new e(l),t=0;l>t;t++)h[t]=c[t];for(var p=new e(c.length-l-r),t=l+r;t<c.length;t++)p[t-r-l]=c[t];if(o.length>0){var d=o.slice();d.unshift(h),d.push(p),i.splice.apply(i,[f,1].concat(d)),f+=d.length,o=[]}else i.splice(f,1,h,p),f+=2}else u.push(i[f].slice(l)),i[f]=i[f].slice(0,l),f++}for(o.length>0&&(i.splice.apply(i,[f,0].concat(o)),f+=o.length);u.length<r;){var v=i[f],m=v.length,g=Math.min(m,r-u.length);g===m?(u.push(v),i.splice(f,1)):(u.push(v.slice(0,g)),i[f]=i[f].slice(g))}return this.length-=u.length,u},n.prototype.slice=function(t,n){var r=this.buffers;void 0===n&&(n=this.length),void 0===t&&(t=0),n>this.length&&(n=this.length);for(var i=0,s=0;s<r.length&&i+r[s].length<=t;s++)i+=r[s].length;for(var o=new e(n-t),u=0,a=s;n-t>u&&a<r.length;a++){var f=r[a].length,l=0===u?t-i:0,c=u+f>=n-t?Math.min(l+(n-t)-u,f):f;r[a].copy(o,u,l,c),u+=c-l}return o},n.prototype.pos=function(e){if(0>e||e>=this.length)throw new Error("oob");for(var t=e,n=0,r=null;;){if(r=this.buffers[n],t<r.length)return{buf:n,offset:t};t-=r.length,n++}},n.prototype.get=function(e){var t=this.pos(e);return this.buffers[t.buf].get(t.offset)},n.prototype.set=function(e,t){var n=this.pos(e);return this.buffers[n.buf].set(n.offset,t)},n.prototype.indexOf=function(t,n){if("string"==typeof t)t=new e(t);else if(!(t instanceof e))throw new Error("Invalid type for a search string");if(!t.length)return 0;if(!this.length)return-1;var r,i=0,s=0,o=0,u=0;if(n){var a=this.pos(n);i=a.buf,s=a.offset,u=n}for(;;){for(;s>=this.buffers[i].length;)if(s=0,i++,i>=this.buffers.length)return-1;var f=this.buffers[i][s];if(f==t[o]){if(0==o&&(r={i:i,j:s,pos:u}),o++,o==t.length)return r.pos}else 0!=o&&(i=r.i,s=r.j,u=r.pos,o=0);s++,u++}},n.prototype.toBuffer=function(){return this.slice()},n.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)}}).call(this,e("buffer").Buffer)},{buffer:87}],124:[function(e,t,n){t.exports=e("./lib/chai")},{"./lib/chai":125}],125:[function(e,t,n){var r=[],n=t.exports={};n.version="1.9.1",n.AssertionError=e("assertion-error");var i=e("./chai/utils");n.use=function(e){return~r.indexOf(e)||(e(this,i),r.push(e)),this};var s=e("./chai/config");n.config=s;var o=e("./chai/assertion");n.use(o);var u=e("./chai/core/assertions");n.use(u);var a=e("./chai/interface/expect");n.use(a);var f=e("./chai/interface/should");n.use(f);var l=e("./chai/interface/assert");n.use(l)},{"./chai/assertion":126,"./chai/config":127,"./chai/core/assertions":128,"./chai/interface/assert":129,"./chai/interface/expect":130,"./chai/interface/should":131,"./chai/utils":142,"assertion-error":151}],126:[function(e,t,n){var r=e("./config");t.exports=function(e,t){function n(e,t,n){s(this,"ssfi",n||arguments.callee),s(this,"object",e),s(this,"message",t)}var i=e.AssertionError,s=t.flag;e.Assertion=n,Object.defineProperty(n,"includeStack",{get:function(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),r.includeStack},set:function(e){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),r.includeStack=e}}),Object.defineProperty(n,"showDiff",{get:function(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),r.showDiff},set:function(e){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),r.showDiff=e}}),n.addProperty=function(e,n){t.addProperty(this.prototype,e,n)},n.addMethod=function(e,n){t.addMethod(this.prototype,e,n)},n.addChainableMethod=function(e,n,r){t.addChainableMethod(this.prototype,e,n,r)},n.overwriteProperty=function(e,n){t.overwriteProperty(this.prototype,e,n)},n.overwriteMethod=function(e,n){t.overwriteMethod(this.prototype,e,n)},n.overwriteChainableMethod=function(e,n,r){t.overwriteChainableMethod(this.prototype,e,n,r)},n.prototype.assert=function(e,n,u,a,f,l){var c=t.test(this,arguments);if(!0!==l&&(l=!1),!0!==r.showDiff&&(l=!1),!c){var n=t.getMessage(this,arguments),h=t.getActual(this,arguments);throw new i(n,{actual:h,expected:a,showDiff:l},r.includeStack?this.assert:s(this,"ssfi"))}},Object.defineProperty(n.prototype,"_obj",{get:function(){return s(this,"object")},set:function(e){s(this,"object",e)}})}},{"./config":"4itQ50"}],127:[function(e,t,n){t.exports={includeStack:!1,showDiff:!0,truncateThreshold:40}},{}],128:[function(e,t,n){t.exports=function(e,t){function n(e,n){n&&w(this,"message",n),e=e.toLowerCase();var r=w(this,"object"),i=~["a","e","i","o","u"].indexOf(e.charAt(0))?"an ":"a ";this.assert(e===t.type(r),"expected #{this} to be "+i+e,"expected #{this} not to be "+i+e)}function r(){w(this,"contains",!0)}function i(e,n){n&&w(this,"message",n);var r=w(this,"object"),i=!1;if("array"===t.type(r)&&"object"===t.type(e)){for(var s in r)if(t.eql(r[s],e)){i=!0;break}}else if("object"===t.type(e)){if(!w(this,"negate")){for(var o in e)(new b(r)).property(o,e[o]);return}var u={};for(var o in e)u[o]=r[o];i=t.eql(u,e)}else i=r&&~r.indexOf(e);this.assert(i,"expected #{this} to include "+t.inspect(e),"expected #{this} to not include "+t.inspect(e))}function s(){var e=w(this,"object"),t=Object.prototype.toString.call(e);this.assert("[object Arguments]"===t,"expected #{this} to be arguments but got "+t,"expected #{this} to not be arguments")}function o(e,t){t&&w(this,"message",t);var n=w(this,"object");return w(this,"deep")?this.eql(e):void this.assert(e===n,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",e,this._obj,!0)}function u(e,n){n&&w(this,"message",n),this.assert(t.eql(e,w(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",e,this._obj,!0)}function a(e,t){t&&w(this,"message",t);var n=w(this,"object");if(w(this,"doLength")){(new b(n,t)).to.have.property("length");var r=n.length;this.assert(r>e,"expected #{this} to have a length above #{exp} but got #{act}","expected #{this} to not have a length above #{exp}",e,r)}else this.assert(n>e,"expected #{this} to be above "+e,"expected #{this} to be at most "+e)}function f(e,t){t&&w(this,"message",t);var n=w(this,"object");if(w(this,"doLength")){(new b(n,t)).to.have.property("length");var r=n.length;this.assert(r>=e,"expected #{this} to have a length at least #{exp} but got #{act}","expected #{this} to have a length below #{exp}",e,r)}else this.assert(n>=e,"expected #{this} to be at least "+e,"expected #{this} to be below "+e)}function l(e,t){t&&w(this,"message",t);var n=w(this,"object");if(w(this,"doLength")){(new b(n,t)).to.have.property("length");var r=n.length;this.assert(e>r,"expected #{this} to have a length below #{exp} but got #{act}","expected #{this} to not have a length below #{exp}",e,r)}else this.assert(e>n,"expected #{this} to be below "+e,"expected #{this} to be at least "+e)}function c(e,t){t&&w(this,"message",t);var n=w(this,"object");if(w(this,"doLength")){(new b(n,t)).to.have.property("length");var r=n.length;this.assert(e>=r,"expected #{this} to have a length at most #{exp} but got #{act}","expected #{this} to have a length above #{exp}",e,r)}else this.assert(e>=n,"expected #{this} to be at most "+e,"expected #{this} to be above "+e)}function h(e,n){n&&w(this,"message",n);var r=t.getName(e);this.assert(w(this,"object")instanceof e,"expected #{this} to be an instance of "+r,"expected #{this} to not be an instance of "+r)}function p(e,n){n&&w(this,"message",n);var r=w(this,"object");this.assert(r.hasOwnProperty(e),"expected #{this} to have own property "+t.inspect(e),"expected #{this} to not have own property "+t.inspect(e))}function d(){w(this,"doLength",!0)}function v(e,t){t&&w(this,"message",t);var n=w(this,"object");(new b(n,t)).to.have.property("length");var r=n.length;this.assert(r==e,"expected #{this} to have a length of #{exp} but got #{act}","expected #{this} to not have a length of #{act}",e,r)}function m(e){var n,r=w(this,"object"),i=!0;if(e=e instanceof Array?e:Array.prototype.slice.call(arguments),!e.length)throw new Error("keys required");var s=Object.keys(r),o=e.length;if(i=e.every(function(e){return~s.indexOf(e)}),w(this,"negate")||w(this,"contains")||(i=i&&e.length==s.length),o>1){e=e.map(function(e){return t.inspect(e)});var u=e.pop();n=e.join(", ")+", and "+u}else n=t.inspect(e[0]);n=(o>1?"keys ":"key ")+n,n=(w(this,"contains")?"contain ":"have ")+n,this.assert(i,"expected #{this} to "+n,"expected #{this} to not "+n)}function g(e,n,r){r&&w(this,"message",r);var i=w(this,"object");(new b(i,r)).is.a("function");var s=!1,o=null,u=null,a=null;0===arguments.length?(n=null,e=null):e&&(e instanceof RegExp||"string"==typeof e)?(n=e,e=null):e&&e instanceof Error?(o=e,e=null,n=null):"function"==typeof e?(u=e.prototype.name||e.name,"Error"===u&&e!==Error&&(u=(new e).name)):e=null;try{i()}catch(f){if(o)return this.assert(f===o,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}",o instanceof Error?o.toString():o,f instanceof Error?f.toString():f),w(this,"object",f),this;if(e&&(this.assert(f instanceof e,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp} but #{act} was thrown",u,f instanceof Error?f.toString():f),!n))return w(this,"object",f),this;var l="object"===t.type(f)&&"message"in f?f.message:""+f;if(null!=l&&n&&n instanceof RegExp)return this.assert(n.exec(l),"expected #{this} to throw error matching #{exp} but got #{act}","expected #{this} to throw error not matching #{exp}",n,l),w(this,"object",f),this;if(null!=l&&n&&"string"==typeof n)return this.assert(~l.indexOf(n),"expected #{this} to throw error including #{exp} but got #{act}","expected #{this} to throw error not including #{act}",n,l),w(this,"object",f),this;s=!0,a=f}var c="",h=null!==u?u:o?"#{exp}":"an error";s&&(c=" but #{act} was thrown"),this.assert(s===!0,"expected #{this} to throw "+h+c,"expected #{this} to not throw "+h+c,o instanceof Error?o.toString():o,a instanceof Error?a.toString():a),w(this,"object",a)}function y(e,t,n){return e.every(function(e){return n?t.some(function(t){return n(e,t)}):-1!==t.indexOf(e)})}var b=e.Assertion,w=(Object.prototype.toString,t.flag);["to","be","been","is","and","has","have","with","that","at","of","same"].forEach(function(e){b.addProperty(e,function(){return this})}),b.addProperty("not",function(){w(this,"negate",!0)}),b.addProperty("deep",function(){w(this,"deep",!0)}),b.addChainableMethod("an",n),b.addChainableMethod("a",n),b.addChainableMethod("include",i,r),b.addChainableMethod("contain",i,r),b.addProperty("ok",function(){this.assert(w(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")}),b.addProperty("true",function(){this.assert(!0===w(this,"object"),"expected #{this} to be true","expected #{this} to be false",this.negate?!1:!0)}),b.addProperty("false",function(){this.assert(!1===w(this,"object"),"expected #{this} to be false","expected #{this} to be true",this.negate?!0:!1)}),b.addProperty("null",function(){this.assert(null===w(this,"object"),"expected #{this} to be null","expected #{this} not to be null")}),b.addProperty("undefined",function(){this.assert(void 0===w(this,"object"),"expected #{this} to be undefined","expected #{this} not to be undefined")}),b.addProperty("exist",function(){this.assert(null!=w(this,"object"),"expected #{this} to exist","expected #{this} to not exist")}),b.addProperty("empty",function(){var e=w(this,"object"),t=e;Array.isArray(e)||"string"==typeof object?t=e.length:"object"==typeof e&&(t=Object.keys(e).length),this.assert(!t,"expected #{this} to be empty","expected #{this} not to be empty")}),b.addProperty("arguments",s),b.addProperty("Arguments",s),b.addMethod("equal",o),b.addMethod("equals",o),b.addMethod("eq",o),b.addMethod("eql",u),b.addMethod("eqls",u),b.addMethod("above",a),b.addMethod("gt",a),b.addMethod("greaterThan",a),b.addMethod("least",f),b.addMethod("gte",f),b.addMethod("below",l),b.addMethod("lt",l),b.addMethod("lessThan",l),b.addMethod("most",c),b.addMethod("lte",c),b.addMethod("within",function(e,t,n){n&&w(this,"message",n);var r=w(this,"object"),i=e+".."+t;if(w(this,"doLength")){(new b(r,n)).to.have.property("length");var s=r.length;this.assert(s>=e&&t>=s,"expected #{this} to have a length within "+i,"expected #{this} to not have a length within "+i)}else this.assert(r>=e&&t>=r,"expected #{this} to be within "+i,"expected #{this} to not be within "+i)}),b.addMethod("instanceof",h),b.addMethod("instanceOf",h),b.addMethod("property",function(e,n,r){r&&w(this,"message",r);var i=w(this,"deep")?"deep property ":"property ",s=w(this,"negate"),o=w(this,"object"),u=w(this,"deep")?t.getPathValue(e,o):o[e];if(s&&void 0!==n){if(void 0===u)throw r=null!=r?r+": ":"",new Error(r+t.inspect(o)+" has no "+i+t.inspect(e))}else this.assert(void 0!==u,"expected #{this} to have a "+i+t.inspect(e),"expected #{this} to not have "+i+t.inspect(e));void 0!==n&&this.assert(n===u,"expected #{this} to have a "+i+t.inspect(e)+" of #{exp}, but got #{act}","expected #{this} to not have a "+i+t.inspect(e)+" of #{act}",n,u),w(this,"object",u)}),b.addMethod("ownProperty",p),b.addMethod("haveOwnProperty",p),b.addChainableMethod("length",v,d),b.addMethod("lengthOf",v,d),b.addMethod("match",function(e,t){t&&w(this,"message",t);var n=w(this,"object");this.assert(e.exec(n),"expected #{this} to match "+e,"expected #{this} not to match "+e)}),b.addMethod("string",function(e,n){n&&w(this,"message",n);var r=w(this,"object");(new b(r,n)).is.a("string"),this.assert(~r.indexOf(e),"expected #{this} to contain "+t.inspect(e),"expected #{this} to not contain "+t.inspect(e))}),b.addMethod("keys",m),b.addMethod("key",m),b.addMethod("throw",g),b.addMethod("throws",g),b.addMethod("Throw",g),b.addMethod("respondTo",function(e,n){n&&w(this,"message",n);var r=w(this,"object"),i=w(this,"itself"),s="function"!==t.type(r)||i?r[e]:r.prototype[e];this.assert("function"==typeof s,"expected #{this} to respond to "+t.inspect(e),"expected #{this} to not respond to "+t.inspect(e))}),b.addProperty("itself",function(){w(this,"itself",!0)}),b.addMethod("satisfy",function(e,n){n&&w(this,"message",n);var r=w(this,"object");this.assert(e(r),"expected #{this} to satisfy "+t.objDisplay(e),"expected #{this} to not satisfy"+t.objDisplay(e),this.negate?!1:!0,e(r))}),b.addMethod("closeTo",function(e,t,n){n&&w(this,"message",n);var r=w(this,"object");this.assert(Math.abs(r-e)<=t,"expected #{this} to be close to "+e+" +/- "+t,"expected #{this} not to be close to "+e+" +/- "+t)}),b.addMethod("members",function(e,n){n&&w(this,"message",n);var r=w(this,"object");(new b(r)).to.be.an("array"),(new b(e)).to.be.an("array");var i=w(this,"deep")?t.eql:void 0;return w(this,"contains")?this.assert(y(e,r,i),"expected #{this} to be a superset of #{act}","expected #{this} to not be a superset of #{act}",r,e):void this.assert(y(r,e,i)&&y(e,r,i),"expected #{this} to have the same members as #{act}","expected #{this} to not have the same members as #{act}",r,e)})}},{}],129:[function(require,module,exports){module.exports=function(chai,util){var Assertion=chai.Assertion,flag=util.flag,assert=chai.assert=function(e,t){var n=new Assertion(null,null,chai.assert);n.assert(e,t,"[ negation message unavailable ]")};assert.fail=function(e,t,n,r){throw n=n||"assert.fail()",new chai.AssertionError(n,{actual:e,expected:t,operator:r},assert.fail)},assert.ok=function(e,t){(new Assertion(e,t)).is.ok},assert.notOk=function(e,t){(new Assertion(e,t)).is.not.ok},assert.equal=function(e,t,n){var r=new Assertion(e,n,assert.equal);r.assert(t==flag(r,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",t,e)},assert.notEqual=function(e,t,n){var r=new Assertion(e,n,assert.notEqual);r.assert(t!=flag(r,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",t,e)},assert.strictEqual=function(e,t,n){(new Assertion(e,n)).to.equal(t)},assert.notStrictEqual=function(e,t,n){(new Assertion(e,n)).to.not.equal(t)},assert.deepEqual=function(e,t,n){(new Assertion(e,n)).to.eql(t)},assert.notDeepEqual=function(e,t,n){(new Assertion(e,n)).to.not.eql(t)},assert.isTrue=function(e,t){(new Assertion(e,t)).is["true"]},assert.isFalse=function(e,t){(new Assertion(e,t)).is["false"]},assert.isNull=function(e,t){(new Assertion(e,t)).to.equal(null)},assert.isNotNull=function(e,t){(new Assertion(e,t)).to.not.equal(null)},assert.isUndefined=function(e,t){(new Assertion(e,t)).to.equal(void 0)},assert.isDefined=function(e,t){(new Assertion(e,t)).to.not.equal(void 0)},assert.isFunction=function(e,t){(new Assertion(e,t)).to.be.a("function")},assert.isNotFunction=function(e,t){(new Assertion(e,t)).to.not.be.a("function")},assert.isObject=function(e,t){(new Assertion(e,t)).to.be.a("object")},assert.isNotObject=function(e,t){(new Assertion(e,t)).to.not.be.a("object")},assert.isArray=function(e,t){(new Assertion(e,t)).to.be.an("array")},assert.isNotArray=function(e,t){(new Assertion(e,t)).to.not.be.an("array")},assert.isString=function(e,t){(new Assertion(e,t)).to.be.a("string")},assert.isNotString=function(e,t){(new Assertion(e,t)).to.not.be.a("string")},assert.isNumber=function(e,t){(new Assertion(e,t)).to.be.a("number")},assert.isNotNumber=function(e,t){(new Assertion(e,t)).to.not.be.a("number")},assert.isBoolean=function(e,t){(new Assertion(e,t)).to.be.a("boolean")},assert.isNotBoolean=function(e,t){(new Assertion(e,t)).to.not.be.a("boolean")},assert.typeOf=function(e,t,n){(new Assertion(e,n)).to.be.a(t)},assert.notTypeOf=function(e,t,n){(new Assertion(e,n)).to.not.be.a(t)},assert.instanceOf=function(e,t,n){(new Assertion(e,n)).to.be.instanceOf(t)},assert.notInstanceOf=function(e,t,n){(new Assertion(e,n)).to.not.be.instanceOf(t)},assert.include=function(e,t,n){(new Assertion(e,n,assert.include)).include(t)},assert.notInclude=function(e,t,n){(new Assertion(e,n,assert.notInclude)).not.include(t)},assert.match=function(e,t,n){(new Assertion(e,n)).to.match(t)},assert.notMatch=function(e,t,n){(new Assertion(e,n)).to.not.match(t)},assert.property=function(e,t,n){(new Assertion(e,n)).to.have.property(t)},assert.notProperty=function(e,t,n){(new Assertion(e,n)).to.not.have.property(t)},assert.deepProperty=function(e,t,n){(new Assertion(e,n)).to.have.deep.property(t)},assert.notDeepProperty=function(e,t,n){(new Assertion(e,n)).to.not.have.deep.property(t)},assert.propertyVal=function(e,t,n,r){(new Assertion(e,r)).to.have.property(t,n)},assert.propertyNotVal=function(e,t,n,r){(new Assertion(e,r)).to.not.have.property(t,n)},assert.deepPropertyVal=function(e,t,n,r){(new Assertion(e,r)).to.have.deep.property(t,n)},assert.deepPropertyNotVal=function(e,t,n,r){(new Assertion(e,r)).to.not.have.deep.property(t,n)},assert.lengthOf=function(e,t,n){(new Assertion(e,n)).to.have.length(t)},assert.Throw=function(e,t,n,r){("string"==typeof t||t instanceof RegExp)&&(n=t,t=null);var i=(new Assertion(e,r)).to.Throw(t,n);return flag(i,"object")},assert.doesNotThrow=function(e,t,n){"string"==typeof t&&(n=t,t=null),(new Assertion(e,n)).to.not.Throw(t)},assert.operator=function(val,operator,val2,msg){if(!~["==","===",">",">=","<","<=","!=","!=="].indexOf(operator))throw new Error('Invalid operator "'+operator+'"');var test=new Assertion(eval(val+operator+val2),msg);test.assert(!0===flag(test,"object"),"expected "+util.inspect(val)+" to be "+operator+" "+util.inspect(val2),"expected "+util.inspect(val)+" to not be "+operator+" "+util.inspect(val2))},assert.closeTo=function(e,t,n,r){(new Assertion(e,r)).to.be.closeTo(t,n)},assert.sameMembers=function(e,t,n){(new Assertion(e,n)).to.have.same.members(t)},assert.includeMembers=function(e,t,n){(new Assertion(e,n)).to.include.members(t)},assert.ifError=function(e,t){(new Assertion(e,t)).to.not.be.ok},function t(e,n){return assert[n]=assert[e],t}("Throw","throw")("Throw","throws")}},{}],130:[function(e,t,n){t.exports=function(e){e.expect=function(t,n){return new e.Assertion(t,n)}}},{}],131:[function(e,t,n){t.exports=function(e){function t(){function e(){return this instanceof String||this instanceof Number?new n(this.constructor(this),null,e):this instanceof Boolean?new n(1==this,null,e):new n(this,null,e)}function t(e){Object.defineProperty(this,"should",{value:e,enumerable:!0,configurable:!0,writable:!0})}Object.defineProperty(Object.prototype,"should",{set:t,get:e,configurable:!0});var r={};return r.equal=function(e,t,r){(new n(e,r)).to.equal(t)},r.Throw=function(e,t,r,i){(new n(e,i)).to.Throw(t,r)},r.exist=function(e,t){(new n(e,t)).to.exist},r.not={},r.not.equal=function(e,t,r){(new n(e,r)).to.not.equal(t)},r.not.Throw=function(e,t,r,i){(new n(e,i)).to.not.Throw(t,r)},r.not.exist=function(e,t){(new n(e,t)).to.not.exist},r["throw"]=r.Throw,r.not["throw"]=r.not.Throw,r}var n=e.Assertion;e.should=t,e.Should=t}},{}],132:[function(e,t,n){var r=e("./transferFlags"),i=e("./flag"),s=e("../config"),o="__proto__"in Object,u=/^(?:length|name|arguments|caller)$/,a=Function.prototype.call,f=Function.prototype.apply;t.exports=function(e,t,n,l){"function"!=typeof l&&(l=function(){});var c={method:n,chainingBehavior:l};e.__methods||(e.__methods={}),e.__methods[t]=c,Object.defineProperty(e,t,{get:function(){c.chainingBehavior.call(this);var t=function h(){var e=i(this,"ssfi");e&&s.includeStack===!1&&i(this,"ssfi",h);var t=c.method.apply(this,arguments);return void 0===t?this:t};if(o){var n=t.__proto__=Object.create(this);n.call=a,n.apply=f}else{var l=Object.getOwnPropertyNames(e);l.forEach(function(n){if(!u.test(n)){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r)}})}return r(this,t),t},configurable:!0})}},{"../config":127,"./flag":135,"./transferFlags":149}],133:[function(e,t,n){var r=e("../config"),i=e("./flag");t.exports=function(e,t,n){e[t]=function(){var s=i(this,"ssfi");s&&r.includeStack===!1&&i(this,"ssfi",e[t]);var o=n.apply(this,arguments);return void 0===o?this:o}}},{"../config":127,"./flag":135}],134:[function(e,t,n){t.exports=function(e,t,n){Object.defineProperty(e,t,{get:function(){var e=n.call(this);return void 0===e?this:e},configurable:!0})}},{}],135:[function(e,t,n){t.exports=function(e,t,n){var r=e.__flags||(e.__flags=Object.create(null));return 3!==arguments.length?r[t]:void (r[t]=n)}},{}],136:[function(e,t,n){t.exports=function(e,t){return t.length>4?t[4]:e._obj}},{}],137:[function(e,t,n){t.exports=function(e){var t=[];for(var n in e)t.push(n);return t}},{}],138:[function(e,t,n){var r=e("./flag"),i=e("./getActual"),s=e("./inspect"),o=e("./objDisplay");t.exports=function(e,t){var n=r(e,"negate"),s=r(e,"object"),u=t[3],a=i(e,t),f=n?t[2]:t[1],l=r(e,"message");return f=f||"",f=f.replace(/#{this}/g,o(s)).replace(/#{act}/g,o(a)).replace(/#{exp}/g,o(u)),l?l+": "+f:f}},{"./flag":135,"./getActual":136,"./inspect":143,"./objDisplay":144}],139:[function(e,t,n){t.exports=function(e){if(e.name)return e.name;var t=/^\s?function ([^(]*)\(/.exec(e);return t&&t[1]?t[1]:""}},{}],140:[function(e,t,n){function r(e){var t=e.replace(/\[/g,".["),n=t.match(/(\\\.|[^.]+?)+/g);return n.map(function(e){var t=/\[(\d+)\]$/,n=t.exec(e);return n?{i:parseFloat(n[1])}:{p:e}})}function i(e,t){for(var n,r=t,i=0,s=e.length;s>i;i++){var o=e[i];r?("undefined"!=typeof o.p?r=r[o.p]:"undefined"!=typeof o.i&&(r=r[o.i]),i==s-1&&(n=r)):n=void 0}return n}var s=t.exports=function(e,t){var n=r(e);return i(n,t)}},{}],141:[function(e,t,n){t.exports=function(){function e(e){-1===t.indexOf(e)&&t.push(e)}for(var t=Object.getOwnPropertyNames(subject),n=Object.getPrototypeOf(subject);null!==n;)Object.getOwnPropertyNames(n).forEach(e),n=Object.getPrototypeOf(n);return t}},{}],142:[function(e,t,n){var n=t.exports={};n.test=e("./test"),n.type=e("./type"),n.getMessage=e("./getMessage"),n.getActual=e("./getActual"),n.inspect=e("./inspect"),n.objDisplay=e("./objDisplay"),n.flag=e("./flag"),n.transferFlags=e("./transferFlags"),n.eql=e("deep-eql"),n.getPathValue=e("./getPathValue"),n.getName=e("./getName"),n.addProperty=e("./addProperty"),n.addMethod=e("./addMethod"),n.overwriteProperty=e("./overwriteProperty"),n.overwriteMethod=e("./overwriteMethod"),n.addChainableMethod=e("./addChainableMethod"),n.overwriteChainableMethod=e("./overwriteChainableMethod")},{"./addChainableMethod":132,"./addMethod":133,"./addProperty":134,"./flag":135,"./getActual":136,"./getMessage":138,"./getName":139,"./getPathValue":140,"./inspect":143,"./objDisplay":144,"./overwriteChainableMethod":145,"./overwriteMethod":146,"./overwriteProperty":147,"./test":148,"./transferFlags":149,"./type":150,"deep-eql":152}],143:[function(e,t,n){function r(e,t,n){var r={showHidden:t,seen:[],stylize:function(e){return e}};return i(r,e,"undefined"==typeof n?2:n)}function i(e,t,r){if(t&&"function"==typeof t.inspect&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var d=t.inspect(r);return"string"!=typeof d&&(d=i(e,d,r)),d}var w=s(e,t);if(w)return w;if(b(t))return y(t);var E=g(t),S=e.showHidden?m(t):E;if(0===S.length||p(t)&&(1===S.length&&"stack"===S[0]||2===S.length&&"description"===S[0]&&"stack"===S[1])){if("function"==typeof t){var x=v(t),T=x?": "+x:"";return e.stylize("[Function"+T+"]","special")}if(c(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(h(t))return e.stylize(Date.prototype.toUTCString.call(t),"date");if(p(t))return o(t)}var N="",C=!1,k=["{","}"];if(l(t)&&(C=!0,k=["[","]"]),"function"==typeof t){var x=v(t),T=x?": "+x:"";N=" [Function"+T+"]"}if(c(t)&&(N=" "+RegExp.prototype.toString.call(t)),h(t)&&(N=" "+Date.prototype.toUTCString.call(t)),p(t))return o(t);if(0===S.length&&(!C||0==t.length))return k[0]+N+k[1];if(0>r)return c(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var L;return L=C?u(e,t,r,E,S):S.map(function(n){return a(e,t,r,E,n,C)}),e.seen.pop(),f(L,N,k)}function s(e,t){switch(typeof t){case"undefined":return e.stylize("undefined","undefined");case"string":var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string");case"number":return e.stylize(""+t,"number");case"boolean":return e.stylize(""+t,"boolean")}return null===t?e.stylize("null","null"):void 0}function o(e){return"["+Error.prototype.toString.call(e)+"]"}function u(e,t,n,r,i){for(var s=[],o=0,u=t.length;u>o;++o)s.push(Object.prototype.hasOwnProperty.call(t,String(o))?a(e,t,n,r,String(o),!0):"");return i.forEach(function(i){i.match(/^\d+$/)||s.push(a(e,t,n,r,i,!0))}),s}function a(e,t,n,r,s,o){var u,a;if(t.__lookupGetter__&&(t.__lookupGetter__(s)?a=t.__lookupSetter__(s)?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):t.__lookupSetter__(s)&&(a=e.stylize("[Setter]","special"))),r.indexOf(s)<0&&(u="["+s+"]"),a||(e.seen.indexOf(t[s])<0?(a=null===n?i(e,t[s],null):i(e,t[s],n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),"undefined"==typeof u){if(o&&s.match(/^\d+$/))return a;u=JSON.stringify(""+s),u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=e.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=e.stylize(u,"string"))}return u+": "+a}function f(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function l(e){return Array.isArray(e)||"object"==typeof e&&"[object Array]"===d(e)}function c(e){return"object"==typeof e&&"[object RegExp]"===d(e)}function h(e){return"object"==typeof e&&"[object Date]"===d(e)}function p(e){return"object"==typeof e&&"[object Error]"===d(e)}function d(e){return Object.prototype.toString.call(e)}var v=e("./getName"),m=e("./getProperties"),g=e("./getEnumerableProperties");t.exports=r;var y=function(e){if("outerHTML"in e)return e.outerHTML;var t,n="http://www.w3.org/1999/xhtml",r=document.createElementNS(n,"_"),i=((window.HTMLElement||window.Element).prototype,new XMLSerializer);return document.xmlVersion?i.serializeToString(e):(r.appendChild(e.cloneNode(!1)),t=r.innerHTML.replace("><",">"+e.innerHTML+"<"),r.innerHTML="",t)},b=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}},{"./getEnumerableProperties":137,"./getName":139,"./getProperties":141}],144:[function(e,t,n){var r=e("./inspect"),i=e("../config");t.exports=function(e){var t=r(e),n=Object.prototype.toString.call(e);if(i.truncateThreshold&&t.length>=i.truncateThreshold){if("[object Function]"===n)return e.name&&""!==e.name?"[Function: "+e.name+"]":"[Function]";if("[object Array]"===n)return"[ Array("+e.length+") ]";if("[object Object]"===n){var s=Object.keys(e),o=s.length>2?s.splice(0,2).join(", ")+", ...":s.join(", ");return"{ Object ("+o+") }"}return t}return t}},{"../config":127,"./inspect":143}],145:[function(e,t,n){t.exports=function(e,t,n,r){var i=e.__methods[t],s=i.chainingBehavior;i.chainingBehavior=function(){var e=r(s).call(this);return void 0===e?this:e};var o=i.method;i.method=function(){var e=n(o).apply(this,arguments);return void 0===e?this:e}}},{}],146:[function(e,t,n){t.exports=function(e,t,n){var r=e[t],i=function(){return this};r&&"function"==typeof r&&(i=r),e[t]=function(){var e=n(i).apply(this,arguments);return void 0===e?this:e}}},{}],147:[function(e,t,n){t.exports=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e,t),i=function(){};r&&"function"==typeof r.get&&(i=r.get),Object.defineProperty(e,t,{get:function(){var e=n(i).call(this);return void 0===e?this:e},configurable:!0})}},{}],148:[function(e,t,n){var r=e("./flag");t.exports=function(e,t){var n=r(e,"negate"),i=t[0];return n?!i:i}},{"./flag":135}],149:[function(e,t,n){t.exports=function(e,t,n){var r=e.__flags||(e.__flags=Object.create(null));t.__flags||(t.__flags=Object.create(null)),n=3===arguments.length?n:!0;for(var i in r)(n||"object"!==i&&"ssfi"!==i&&"message"!=i)&&(t.__flags[i]=r[i])}},{}],150:[function(e,t,n){var r={"[object Arguments]":"arguments","[object Array]":"array","[object Date]":"date","[object Function]":"function","[object Number]":"number","[object RegExp]":"regexp","[object String]":"string"};t.exports=function(e){var t=Object.prototype.toString.call(e);return r[t]?r[t]:null===e?"null":void 0===e?"undefined":e===Object(e)?"object":typeof e}},{}],151:[function(e,t,n){function r(){function e(e,n){Object.keys(n).forEach(function(r){~t.indexOf(r)||(e[r]=n[r])})}var t=[].slice.call(arguments);return function(){for(var t=[].slice.call(arguments),n=0,r={};n<t.length;n++)e(r,t[n]);return r}}function i(e,t,n){var i=r("name","message","stack","constructor","toJSON"),s=i(t||{});this.message=e||"Unspecified AssertionError",this.showDiff=!1;for(var o in s)this[o]=s[o];n=n||arguments.callee,n&&Error.captureStackTrace&&Error.captureStackTrace(this,n)}t.exports=i,i.prototype=Object.create(Error.prototype),i.prototype.name="AssertionError",i.prototype.constructor=i,i.prototype.toJSON=function(e){var t=r("constructor","toJSON","stack"),n=t({name:this.name},this);return!1!==e&&this.stack&&(n.stack=this.stack),n}},{}],152:[function(e,t,n){t.exports=e("./lib/eql")},{"./lib/eql":153}],153:[function(e,t,n){function r(e,t,n){return i(e,t)?!0:"date"===d(e)?o(e,t):"regexp"===d(e)?u(e,t):v.isBuffer(e)?c(e,t):"arguments"===d(e)?a(e,t,n):s(e,t)?"object"!==d(e)&&"object"!==d(t)&&"array"!==d(e)&&"array"!==d(t)?i(e,t):p(e,t,n):!1}function i(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function s(e,t){return d(e)===d(t)}function o(e,t){return"date"!==d(t)?!1:i(e.getTime(),t.getTime())}function u(e,t){return"regexp"!==d(t)?!1:i(e.toString(),t.toString())}function a(e,t,n){return"arguments"!==d(t)?!1:(e=[].slice.call(e),t=[].slice.call(t),r(e,t,n))}function f(e){var t=[];for(var n in e)t.push(n);return t}function l(e,t){if(e.length!==t.length)return!1;for(var n=0,r=!0;n<e.length;n++)if(e[n]!==t[n]){r=!1;break}return r}function c(e,t){return v.isBuffer(t)?l(e,t):!1}function h(e){return null!==e&&void 0!==e}function p(e,t,n){if(!h(e)||!h(t))return!1;if(e.prototype!==t.prototype)return!1;var i;if(n){for(i=0;i<n.length;i++)if(n[i][0]===e&&n[i][1]===t||n[i][0]===t&&n[i][1]===e)return!0}else n=[];try{var s=f(e),o=f(t)}catch(u){return!1}if(s.sort(),o.sort(),!l(s,o))return!1;n.push([e,t]);var a;for(i=s.length-1;i>=0;i--)if(a=s[i],!r(e[a],t[a],n))return!1;return!0}var d=e("type-detect"),v;try{v=e("buffer").Buffer}catch(m){v={},v.isBuffer=function(){return!1}}t.exports=r},{buffer:87,"type-detect":154}],154:[function(e,t,n){t.exports=e("./lib/type")},{"./lib/type":155}],155:[function(e,t,n){function r(e){var t=Object.prototype.toString.call(e);return s[t]?s[t]:null===e?"null":void 0===e?"undefined":e===Object(e)?"object":typeof e}function i(){this.tests={}}var n=t.exports=r,s={"[object Array]":"array","[object RegExp]":"regexp","[object Function]":"function","[object Arguments]":"arguments","[object Date]":"date"};n.Library=i,i.prototype.of=r,i.prototype.define=function(e,t){return 1===arguments.length?this.tests[e]:(this.tests[e]=t,this)},i.prototype.test=function(e,t){if(t===r(e))return!0;var n=this.tests[t];if(n&&"regexp"===r(n))return n.test(e);if(n&&"function"===r(n))return n(e);throw new ReferenceError('Type test "'+t+'" not defined or invalid.')}},{}],156:[function(e,t,n){!function(e){function r(e,t,n){var r=0,i=[0],c="",h=null,c=n||"UTF8";if("UTF8"!==c&&"UTF16"!==c)throw"encoding must be UTF8 or UTF16";if("HEX"===t){if(0!==e.length%2)throw"srcString of HEX type must be in byte increments";h=o(e),r=h.binLen,i=h.value}else if("ASCII"===t||"TEXT"===t)h=s(e,c),r=h.binLen,i=h.value;else{if("B64"!==t)throw"inputFormat must be HEX, TEXT, ASCII, or B64";h=u(e),r=h.binLen,i=h.value}this.getHash=function(e,t,n,s){var o,u=null,c=i.slice(),h=r;if(3===arguments.length?"number"!=typeof n&&(s=n,n=1):2===arguments.length&&(n=1),n!==parseInt(n,10)||1>n)throw"numRounds must a integer >= 1";switch(t){case"HEX":u=a;break;case"B64":u=f;break;default:throw"format must be HEX or B64"}if("SHA-1"===e)for(o=0;n>o;o++)c=P(c,h),h=160;else if("SHA-224"===e)for(o=0;n>o;o++)c=H(c,h,e),h=224;else if("SHA-256"===e)for(o=0;n>o;o++)c=H(c,h,e),h=256;else if("SHA-384"===e)for(o=0;n>o;o++)c=H(c,h,e),h=384;else{if("SHA-512"!==e)throw"Chosen SHA variant is not supported";for(o=0;n>o;o++)c=H(c,h,e),h=512}return u(c,l(s))},this.getHMAC=function(e,t,n,h,p){var d,v,m,g,y=[],b=[];switch(d=null,h){case"HEX":h=a;break;case"B64":h=f;break;default:throw"outputFormat must be HEX or B64"}if("SHA-1"===n)v=64,g=160;else if("SHA-224"===n)v=64,g=224;else if("SHA-256"===n)v=64,g=256;else if("SHA-384"===n)v=128,g=384;else{if("SHA-512"!==n)throw"Chosen SHA variant is not supported";v=128,g=512}if("HEX"===t)d=o(e),m=d.binLen,d=d.value;else if("ASCII"===t||"TEXT"===t)d=s(e,c),m=d.binLen,d=d.value;else{if("B64"!==t)throw"inputFormat must be HEX, TEXT, ASCII, or B64";d=u(e),m=d.binLen,d=d.value}for(e=8*v,t=v/4-1,m/8>v?(d="SHA-1"===n?P(d,m):H(d,m,n),d[t]&=4294967040):v>m/8&&(d[t]&=4294967040),v=0;t>=v;v+=1)y[v]=909522486^d[v],b[v]=1549556828^d[v];return n="SHA-1"===n?P(b.concat(P(y.concat(i),e+r)),e+g):H(b.concat(H(y.concat(i),e+r,n)),e+g,n),h(n,l(p))}}function i(e,t){this.a=e,this.b=t}function s(e,t){var n,r,i=[],s=[],o=0;if("UTF8"===t)for(r=0;r<e.length;r+=1)for(n=e.charCodeAt(r),s=[],n>2048?(s[0]=224|(61440&n)>>>12,s[1]=128|(4032&n)>>>6,s[2]=128|63&n):n>128?(s[0]=192|(1984&n)>>>6,s[1]=128|63&n):s[0]=n,n=0;n<s.length;n+=1)i[o>>>2]|=s[n]<<24-o%4*8,o+=1;else if("UTF16"===t)for(r=0;r<e.length;r+=1)i[o>>>2]|=e.charCodeAt(r)<<16-o%4*8,o+=2;return{value:i,binLen:8*o}}function o(e){var t,n,r=[],i=e.length;if(0!==i%2)throw"String of HEX type must be in byte increments";for(t=0;i>t;t+=2){if(n=parseInt(e.substr(t,2),16),isNaN(n))throw"String of HEX type contains invalid characters";r[t>>>3]|=n<<24-t%8*4}return{value:r,binLen:4*i}}function u(e){var t,n,r,i,s,o=[],u=0;if(-1===e.search(/^[a-zA-Z0-9=+\/]+$/))throw"Invalid character in base-64 string";if(t=e.indexOf("="),e=e.replace(/\=/g,""),-1!==t&&t<e.length)throw"Invalid '=' found in base-64 string";for(n=0;n<e.length;n+=4){for(s=e.substr(n,4),r=i=0;r<s.length;r+=1)t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(s[r]),i|=t<<18-6*r;for(r=0;r<s.length-1;r+=1)o[u>>2]|=(i>>>16-8*r&255)<<24-u%4*8,u+=1}return{value:o,binLen:8*u}}function a(e,t){var n,r,i="",s=4*e.length;for(n=0;s>n;n+=1)r=e[n>>>2]>>>8*(3-n%4),i+="0123456789abcdef".charAt(r>>>4&15)+"0123456789abcdef".charAt(15&r);return t.outputUpper?i.toUpperCase():i}function f(e,t){var n,r,i,s="",o=4*e.length;for(n=0;o>n;n+=3)for(i=(e[n>>>2]>>>8*(3-n%4)&255)<<16|(e[n+1>>>2]>>>8*(3-(n+1)%4)&255)<<8|e[n+2>>>2]>>>8*(3-(n+2)%4)&255,r=0;4>r;r+=1)s=8*n+6*r<=32*e.length?s+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>>6*(3-r)&63):s+t.b64Pad;return s}function l(e){var t={outputUpper:!1,b64Pad:"="};try{e.hasOwnProperty("outputUpper")&&(t.outputUpper=e.outputUpper),e.hasOwnProperty("b64Pad")&&(t.b64Pad=e.b64Pad)}catch(n){}if("boolean"!=typeof t.outputUpper)throw"Invalid outputUpper formatting option";if("string"!=typeof t.b64Pad)throw"Invalid b64Pad formatting option";return t}function c(e,t){return e<<t|e>>>32-t}function h(e,t){return e>>>t|e<<32-t}function p(e,t){var n=null,n=new i(e.a,e.b);return n=32>=t?new i(n.a>>>t|n.b<<32-t&4294967295,n.b>>>t|n.a<<32-t&4294967295):new i(n.b>>>t-32|n.a<<64-t&4294967295,n.a>>>t-32|n.b<<64-t&4294967295)}function d(e,t){var n=null;return n=32>=t?new i(e.a>>>t,e.b>>>t|e.a<<32-t&4294967295):new i(0,e.a>>>t-32)}function v(e,t,n){return e^t^n}function m(e,t,n){return e&t^~e&n}function g(e,t,n){return new i(e.a&t.a^~e.a&n.a,e.b&t.b^~e.b&n.b)}function y(e,t,n){return e&t^e&n^t&n}function b(e,t,n){return new i(e.a&t.a^e.a&n.a^t.a&n.a,e.b&t.b^e.b&n.b^t.b&n.b)}function w(e){return h(e,2)^h(e,13)^h(e,22)}function E(e){var t=p(e,28),n=p(e,34);return e=p(e,39),new i(t.a^n.a^e.a,t.b^n.b^e.b)}function S(e){return h(e,6)^h(e,11)^h(e,25)}function x(e){var t=p(e,14),n=p(e,18);return e=p(e,41),new i(t.a^n.a^e.a,t.b^n.b^e.b)}function T(e){return h(e,7)^h(e,18)^e>>>3}function N(e){var t=p(e,1),n=p(e,8);return e=d(e,7),new i(t.a^n.a^e.a,t.b^n.b^e.b)}function C(e){return h(e,17)^h(e,19)^e>>>10}function k(e){var t=p(e,19),n=p(e,61);return e=d(e,6),new i(t.a^n.a^e.a,t.b^n.b^e.b)}function L(e,t){var n=(65535&e)+(65535&t);return((e>>>16)+(t>>>16)+(n>>>16)&65535)<<16|65535&n}function A(e,t,n,r){var i=(65535&e)+(65535&t)+(65535&n)+(65535&r);return((e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(i>>>16)&65535)<<16|65535&i}function O(e,t,n,r,i){var s=(65535&e)+(65535&t)+(65535&n)+(65535&r)+(65535&i);return((e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(i>>>16)+(s>>>16)&65535)<<16|65535&s}function M(e,t){var n,r,s;return n=(65535&e.b)+(65535&t.b),r=(e.b>>>16)+(t.b>>>16)+(n>>>16),s=(65535&r)<<16|65535&n,n=(65535&e.a)+(65535&t.a)+(r>>>16),r=(e.a>>>16)+(t.a>>>16)+(n>>>16),new i((65535&r)<<16|65535&n,s)}function _(e,t,n,r){var s,o,u;return s=(65535&e.b)+(65535&t.b)+(65535&n.b)+(65535&r.b),o=(e.b>>>16)+(t.b>>>16)+(n.b>>>16)+(r.b>>>16)+(s>>>16),u=(65535&o)<<16|65535&s,s=(65535&e.a)+(65535&t.a)+(65535&n.a)+(65535&r.a)+(o>>>16),o=(e.a>>>16)+(t.a>>>16)+(n.a>>>16)+(r.a>>>16)+(s>>>16),new i((65535&o)<<16|65535&s,u)}function D(e,t,n,r,s){var o,u,a;return o=(65535&e.b)+(65535&t.b)+(65535&n.b)+(65535&r.b)+(65535&s.b),u=(e.b>>>16)+(t.b>>>16)+(n.b>>>16)+(r.b>>>16)+(s.b>>>16)+(o>>>16),a=(65535&u)<<16|65535&o,o=(65535&e.a)+(65535&t.a)+(65535&n.a)+(65535&r.a)+(65535&s.a)+(u>>>16),u=(e.a>>>16)+(t.a>>>16)+(n.a>>>16)+(r.a>>>16)+(s.a>>>16)+(o>>>16),new i((65535&u)<<16|65535&o,a)}function P(e,t){var n,r,i,s,o,u,a,f,l,h=[],p=m,d=v,g=y,b=c,w=L,E=O,S=[1732584193,4023233417,2562383102,271733878,3285377520];for(e[t>>>5]|=128<<24-t%32,e[(t+65>>>9<<4)+15]=t,l=e.length,a=0;l>a;a+=16){for(n=S[0],r=S[1],i=S[2],s=S[3],o=S[4],f=0;80>f;f+=1)h[f]=16>f?e[f+a]:b(h[f-3]^h[f-8]^h[f-14]^h[f-16],1),u=20>f?E(b(n,5),p(r,i,s),o,1518500249,h[f]):40>f?E(b(n,5),d(r,i,s),o,1859775393,h[f]):60>f?E(b(n,5),g(r,i,s),o,2400959708,h[f]):E(b(n,5),d(r,i,s),o,3395469782,h[f]),o=s,s=i,i=b(r,30),r=n,n=u;S[0]=w(n,S[0]),S[1]=w(r,S[1]),S[2]=w(i,S[2]),S[3]=w(s,S[3]),S[4]=w(o,S[4])}return S}function H(e,t,n){var r,s,o,u,a,f,l,c,h,p,d,v,P,H,B,j,q,R,z,W,V,$,J,K,Q,G,Y=[],Z=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];if(p=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],s=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],"SHA-224"===n||"SHA-256"===n)d=64,r=(t+65>>>9<<4)+15,H=16,B=1,Q=Number,j=L,q=A,R=O,z=T,W=C,V=w,$=S,K=y,J=m,p="SHA-224"===n?p:s;else{if("SHA-384"!==n&&"SHA-512"!==n)throw"Unexpected error in SHA-2 implementation";d=80,r=(t+128>>>10<<5)+31,H=32,B=2,Q=i,j=M,q=_,R=D,z=N,W=k,V=E,$=x,K=b,J=g,Z=[new Q(Z[0],3609767458),new Q(Z[1],602891725),new Q(Z[2],3964484399),new Q(Z[3],2173295548),new Q(Z[4],4081628472),new Q(Z[5],3053834265),new Q(Z[6],2937671579),new Q(Z[7],3664609560),new Q(Z[8],2734883394),new Q(Z[9],1164996542),new Q(Z[10],1323610764),new Q(Z[11],3590304994),new Q(Z[12],4068182383),new Q(Z[13],991336113),new Q(Z[14],633803317),new Q(Z[15],3479774868),new Q(Z[16],2666613458),new Q(Z[17],944711139),new Q(Z[18],2341262773),new Q(Z[19],2007800933),new Q(Z[20],1495990901),new Q(Z[21],1856431235),new Q(Z[22],3175218132),new Q(Z[23],2198950837),new Q(Z[24],3999719339),new Q(Z[25],766784016),new Q(Z[26],2566594879),new Q(Z[27],3203337956),new Q(Z[28],1034457026),new Q(Z[29],2466948901),new Q(Z[30],3758326383),new Q(Z[31],168717936),new Q(Z[32],1188179964),new Q(Z[33],1546045734),new Q(Z[34],1522805485),new Q(Z[35],2643833823),new Q(Z[36],2343527390),new Q(Z[37],1014477480),new Q(Z[38],1206759142),new Q(Z[39],344077627),new Q(Z[40],1290863460),new Q(Z[41],3158454273),new Q(Z[42],3505952657),new Q(Z[43],106217008),new Q(Z[44],3606008344),new Q(Z[45],1432725776),new Q(Z[46],1467031594),new Q(Z[47],851169720),new Q(Z[48],3100823752),new Q(Z[49],1363258195),new Q(Z[50],3750685593),new Q(Z[51],3785050280),new Q(Z[52],3318307427),new Q(Z[53],3812723403),new Q(Z[54],2003034995),new Q(Z[55],3602036899),new Q(Z[56],1575990012),new Q(Z[57],1125592928),new Q(Z[58],2716904306),new Q(Z[59],442776044),new Q(Z[60],593698344),new Q(Z[61],3733110249),new Q(Z[62],2999351573),new Q(Z[63],3815920427),new Q(3391569614,3928383900),new Q(3515267271,566280711),new Q(3940187606,3454069534),new Q(4118630271,4000239992),new Q(116418474,1914138554),new Q(174292421,2731055270),new Q(289380356,3203993006),new Q(460393269,320620315),new Q(685471733,587496836),new Q(852142971,1086792851),new Q(1017036298,365543100),new Q(1126000580,2618297676),new Q(1288033470,3409855158),new Q(1501505948,4234509866),new Q(1607167915,987167468),new Q(1816402316,1246189591)],p="SHA-384"===n?[new Q(3418070365,p[0]),new Q(1654270250,p[1]),new Q(2438529370,p[2]),new Q(355462360,p[3]),new Q(1731405415,p[4]),new Q(41048885895,p[5]),new Q(3675008525,p[6]),new Q(1203062813,p[7])]:[new Q(s[0],4089235720),new Q(s[1],2227873595),new Q(s[2],4271175723),new Q(s[3],1595750129),new Q(s[4],2917565137),new Q(s[5],725511199),new Q(s[6],4215389547),new Q(s[7],327033209)]}for(e[t>>>5]|=128<<24-t%32,e[r]=t,G=e.length,v=0;G>v;v+=H){for(t=p[0],r=p[1],s=p[2],o=p[3],u=p[4],a=p[5],f=p[6],l=p[7],P=0;d>P;P+=1)Y[P]=16>P?new Q(e[P*B+v],e[P*B+v+1]):q(W(Y[P-2]),Y[P-7],z(Y[P-15]),Y[P-16]),c=R(l,$(u),J(u,a,f),Z[P],Y[P]),h=j(V(t),K(t,r,s)),l=f,f=a,a=u,u=j(o,c),o=s,s=r,r=t,t=j(c,h);p[0]=j(t,p[0]),p[1]=j(r,p[1]),p[2]=j(s,p[2]),p[3]=j(o,p[3]),p[4]=j(u,p[4]),p[5]=j(a,p[5]),p[6]=j(f,p[6]),p[7]=j(l,p[7])}if("SHA-224"===n)e=[p[0],p[1],p[2],p[3],p[4],p[5],p[6]];else if("SHA-256"===n)e=p;else if("SHA-384"===n)e=[p[0].a,p[0].b,p[1].a,p[1].b,p[2].a,p[2].b,p[3].a,p[3].b,p[4].a,p[4].b,p[5].a,p[5].b];else{if("SHA-512"!==n)throw"Unexpected error in SHA-2 implementation";e=[p[0].a,p[0].b,p[1].a,p[1].b,p[2].a,p[2].b,p[3].a,p[3].b,p[4].a,p[4].b,p[5].a,p[5].b,p[6].a,p[6].b,p[7].a,p[7].b]}return e}"function"==typeof define?define(function(){return r}):"undefined"!=typeof n?"undefined"!=typeof t&&t.exports?t.exports=n=r:n=r:e.jsSHA=r}(this)},{}],157:[function(e,t,n){(function(r){"use strict";function i(e,t){var n=this;c.call(n),n.socket=new l.Socket,n.socksHost=e,n.socksPort=t,n.socket.on("error",function(e){n.emit("error",e)}),n.on("error",function(){n.socket.destroyed||n.socket.destroy()})}function s(e,t){var n,r,i=e.split(".");for(n=0;n<i.length;n++)r=parseInt(i[n],10),t.push(r)}function o(e,t){var n,r,i,s,o,u,a;if(u=(new d.Address(e)).canonicalForm(),!u)return!1;for(a=u.split(":"),n=0;n<a.length;n++)s=a[n].substr(0,2),o=a[n].substr(2,2),r=parseInt(s,16),i=parseInt(o,16),t.push(r),t.push(i);return!0}function u(e,t){var n,r;for(t.push(e.length),n=0;n<e.length;n++)r=e.charCodeAt(n),t.push(r)}function a(e,t){p(t,t.length,e)}function f(e){switch(e){case 1:return"General SOCKS server failure";case 2:return"Connection not allowed by ruleset";case 3:return"Network unreachable";case 4:return"Host unreachable";case 5:return"Connection refused";case 6:return"TTL expired";case 7:return"Command not supported";case 8:return"Address type not supported";default:return"Unknown status code "+e}}var l=e("net"),c=e("events").EventEmitter,h=e("util").inherits,p=e("network-byte-order").htons,d=e("ipv6").v6;t.exports=n=i,n.createConnection=function(e){var t,n,r;return n=e.socksHost||"localhost",r=e.socksPort||1080,t=new i(n,r),t.connect(e.port,e.host)},h(i,c),i.prototype.setTimeout=function(e,t){return this.socket.setTimeout(e,t)},i.prototype.setNoDelay=function(){return this.socket.setNoDelay()},i.prototype.setKeepAlive=function(e,t){return this.socket.setKeepAlive(e,t)},i.prototype.address=function(){return this.socket.address()},i.prototype.pause=function(){return this.socket.pause()},i.prototype.resume=function(){return this.socket.resume()},i.prototype.end=function(e,t){return this.socket.end(e,t)},i.prototype.destroy=function(e){return this.socket.destroy(e)},i.prototype.destroySoon=function(){var e=this.socket.destroySoon();return this.writable=!1,e},i.prototype.setEncoding=function(e){return this.socket.setEncoding(e)},i.prototype.write=function(e,t,n){return this.socket.write(e,t,n)},i.prototype.connect=function(e,t){var n=this;return n.socket.connect(n.socksPort,n.socksHost,function(){n.establishSocksConnection(t,e)}),n},i.prototype.handleSocksConnectToHost=function(){var e=this;e.socket.on("close",function(t){e.emit("close",t)}),e.socket.on("end",function(){e.emit("end")}),e.socket.on("data",function(t){e.emit("data",t)}),e.socket._httpMessage=e._httpMessage,e.socket.parser=e.parser,e.socket.ondata=e.ondata,e.writable=!0,e.readable=!0,e.emit("connect")},i.prototype.establishSocksConnection=function(e,t){var n=this;n.authenticateWithSocks(function(){n.connectSocksToHost(e,t,function(){n.handleSocksConnectToHost()})})},i.prototype.authenticateWithSocks=function(e){var t,n=this;n.socket.ondata=function(t,r,i){var s;return i-r!==2?s=new Error("SOCKS authentication failed. Unexpected number of bytes received."):5!==t[r]?s=new Error("SOCKS authentication failed. Unexpected SOCKS version number: "+t[r]+"."):0!==t[r+1]&&(s=new Error("SOCKS authentication failed. Unexpected SOCKS authentication method: "+t[r+1]+".")),s?void n.emit("error",s):void (e&&e())},t=new r(3),t[0]=5,t[1]=1,t[2]=0,n.socket.write(t)},i.prototype.connectSocksToHost=function(e,t,n){var i,c,h=this;switch(this.socket.ondata=function(e,t){var r,i,s,o;if(5!==e[t]?o=new Error("SOCKS connection failed. Unexpected SOCKS version number: "+e[t]+"."):0!==e[t+1]?o=new Error("SOCKS connection failed. "+f(e[t+1])+"."):0!==e[t+2]&&(o=new Error("SOCKS connection failed. The reserved byte must be 0x00.")),o)return void h.emit("error",o);switch(i="",s=0,e[t+3]){case 1:i=e[t+4]+"."+e[t+5]+"."+e[t+6]+"."+e[t+7],s=4;break;case 3:for(s=e[t+4]+1,r=t+5;t+s>r;r++)i+=String.fromCharCode(e[r]);break;case 4:s=16;break;default:return void h.emit("error",new Error("SOCKS connection failed. Unknown addres type: "+e[t+3]+"."))}n&&n()},i=[],i.push(5),i.push(1),i.push(0),l.isIP(e)){case 0:i.push(3),u(e,i);break;case 4:i.push(1),s(e,i);break;case 6:if(i.push(4),o(e,i)===!1)return void h.emit("error",new Error("IPv6 host parsing failed. Invalid address."))}a(t,i),c=new r(i),this.socket.write(c)}}).call(this,e("buffer").Buffer)},{buffer:87,events:96,ipv6:158,net:83,"network-byte-order":162,util:119}],158:[function(e,t,n){n=t.exports=e("./ipv6.js")},{"./ipv6.js":159}],159:[function(e,t,n){function r(e,t){var n,r=[];for(n=0;n<e.length;n++)r.push(t(e[n],n));return r}function i(e,t){var n,r="";for(n=0;t>n;n++)r+=e;return r}function s(e){for(var t=/(\d+)(\d{3})/;t.test(e);)e=e.replace(t,"$1,$2");return e}function o(e){return e.replace(/^(0+)/,'<span class="zero">$1</span>')}function u(e){return e=e.replace(/^(0{1,})([1-9]+)$/,'<span class="parse-error">$1</span>$2'),e=e.replace(/^(0{1,})(0)$/,'<span class="parse-error">$1</span>$2')}function a(e){var t,n=[];for(t=0;t<e.length;t++){var r=e[t];n.push(r.length<4?c("0{0,%d}%s",4-r.length,r):r)}return n.join(":")}function f(e,t){return String(i(0,t)+e).slice(-1*t)}function l(e){return this.subnetMask<e.subnetMask?!1:this.mask(e.subnetMask)===e.mask()?!0:!1}if("undefined"!=typeof n)var c=e("sprintf").sprintf,h=e("./lib/node/bigint").BigInteger;var p=this.v4={},d=this.v6={};p.GROUPS=4,d.GROUPS=8,p.BITS=32,d.BITS=128,d.SCOPES={0:"Reserved",1:"Interface local",2:"Link local",4:"Admin local",5:"Site local",8:"Organization local",15:"Global",16:"Reserved"},p.RE_ADDRESS=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/g,p.RE_SUBNET_STRING=/\/\d{1,2}$/,d.RE_BAD_CHARACTERS=/([^0-9a-f:\/%])/gi,d.RE_BAD_ADDRESS=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/gi,d.RE_SUBNET_STRING=/\/\d{1,3}(?=%|$)/,d.RE_ZONE_STRING=/%.*$/,d.RE_URL=new RegExp(/([0-9a-f:]+)/),d.RE_URL_WITH_PORT=new RegExp(/\[([0-9a-f:]+)\]:([0-9]{1,5})/),p.Address=function(e){this.valid=!1,this.address=e,this.groups=p.GROUPS,this.v4=!0,this.subnet="/32",this.subnetMask=32;var t=p.RE_SUBNET_STRING.exec(e);if(t){if(this.parsedSubnet=t[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet="/"+this.subnetMask,this.subnetMask<0||this.subnetMask>p.BITS)return this.valid=!1,void (this.error="Invalid subnet mask.");e=e.replace(p.RE_SUBNET_STRING,"")}this.addressMinusSuffix=e,this.parsedAddress=this.parse(e)},p.Address.prototype.parse=function(e){var t=e.split(".");return e.match(p.RE_ADDRESS)?this.valid=!0:this.error="Invalid IPv4 address.",t},p.Address.prototype.isValid=function(){return this.valid},p.Address.prototype.correctForm=function(){return this.parsedAddress.map(function(e){return parseInt(e,10)}).join(".")},p.Address.prototype.isCorrect=function(){return this.addressMinusSuffix===this.correctForm()&&(32===this.subnetMask||this.parsedSubnet===String(this.subnet.replace("/")))},p.Address.fromHex=function(e){var t,n=f(e.replace(/:/g,""),8),r=[];for(t=0;8>t;t+=2){var i=n.slice(t,t+2);r.push(parseInt(i,16))}return new p.Address(r.join("."))},p.Address.fromInteger=function(e){return p.Address.fromHex(e.toString(16))},p.Address.prototype.toHex=function(){return this.parsedAddress.map(function(e){return c("%02x",parseInt(e,10))}).join(":")},p.Address.prototype.toArray=function(){return this.parsedAddress.map(function(e){return parseInt(e,10)})},p.Address.prototype.toV6Group=function(){var e,t=[];for(e=0;e<p.GROUPS;e+=2){var n=c("%02x%02x",parseInt(this.parsedAddress[e],10),parseInt(this.parsedAddress[e+1],10));t.push(c("%x",parseInt(n,16)))}return t.join(":")},p.Address.prototype.bigInteger=function(){return this.valid?new h(r(this.parsedAddress,function(e){return c("%02x",parseInt(e,10))}).join(""),16):void 0},p.Address.prototype.startAddress=function(){var e=new h(this.mask()+i(0,p.BITS-this.subnetMask),2);return p.Address.fromBigInteger(e)},p.Address.prototype.endAddress=function(){var e=new h(this.mask()+i(1,p.BITS-this.subnetMask),2);return p.Address.fromBigInteger(e)},p.Address.fromBigInteger=function(e){return p.Address.fromInteger(parseInt(e.toString(),10))},p.Address.prototype.mask=function(e){return void 0===e&&(e=this.subnetMask),this.getBitsBase2(0,e)},p.Address.prototype.getBitsBase2=function(e,t){return this.binaryZeroPad().slice(e,t)},p.Address.prototype.isInSubnet=l,p.Address.prototype.binaryZeroPad=function(){return f(this.bigInteger().toString(2),p.BITS)},d.Address=function(e,t){this.groups=void 0===t?d.GROUPS:t,this.v4=!1,this.subnet="/128",this.subnetMask=128,this.zone="",this.address=e;var n=d.RE_SUBNET_STRING.exec(e);if(n){if(this.parsedSubnet=n[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet="/"+this.subnetMask,isNaN(this.subnetMask)||this.subnetMask<0||this.subnetMask>d.BITS)return this.valid=!1,void (this.error="Invalid subnet mask.");e=e.replace(d.RE_SUBNET_STRING,"")}else if(/\//.test(e))return this.valid=!1,void (this.error="Invalid subnet mask.");var r=d.RE_ZONE_STRING.exec(e);r&&(this.zone=r[0],e=e.replace(d.RE_ZONE_STRING,"")),this.addressMinusSuffix=e,this.parsedAddress=this.parse(this.addressMinusSuffix)},d.Address.fromBigInteger=function(e){var t,n=f(e.toString(16),32),r=[];for(t=0;8>t;t++)r.push(n.slice(4*t,4*(t+1)));return new d.Address(r.join(":"))},d.Address.fromURL=function(e){var t,n,r;if(-1!==e.indexOf("[")&&-1!==e.indexOf("]")){if(r=d.RE_URL_WITH_PORT.exec(e),null===r)return{error:"failed to parse address with port",address:null,port:null};t=r[1],n=r[2]}else if(-1!==e.indexOf("/")){if(e=e.replace(/^[a-z0-9]+:\/\//,""),r=d.RE_URL.exec(e),null===r)return{error:"failed to parse address from URL",address:null,port:null};t=r[1]}else t=e;return n?(n=parseInt(n,10),(0>n||n>65536)&&(n=null)):n=null,{address:new d.Address(t),port:n}},d.Address.compact=function(e,t){var n,r=[],i=[];for(n=0;n<e.length;n++)n<t[0]?r.push(e[n]):n>t[1]&&i.push(e[n]);return r.concat(["compact"]).concat(i)},d.Address.prototype.isValid=function(){return this.valid},d.Address.prototype.isCorrect=function(){return this.addressMinusSuffix===this.correctForm()&&(128===this.subnetMask||this.parsedSubnet===String(this.subnet.replace("/")))},d.Address.prototype.isLinkLocal=function(){return"1111111010000000000000000000000000000000000000000000000000000000"===this.getBitsBase2(0,64)?!0:!1},d.Address.prototype.isCanonical=function(){return this.addressMinusSuffix===this.canonicalForm()},d.Address.prototype.isMulticast=function(){return"Multicast"===this.getType()},d.Address.prototype.is4=function(){return this.v4},d.Address.prototype.isTeredo=function(){return this.isInSubnet(new d.Address("2001::/32"))?!0:!1},d.Address.prototype.is6to4=function(){return this.isInSubnet(new d.Address("2002::/16"))?!0:!1},d.Address.prototype.isLoopback=function(){return"Loopback"===this.getType()},d.Address.prototype.microsoftTranscription=function(){return c("%s.ipv6-literal.net",this.correctForm().replace(/:/g,"-"))},d.Address.prototype.href=function(e){return e=void 0===e?"":c(":%s",e),c("http://[%s]%s/",this.correctForm(),e)},d.Address.prototype.mask=function(e){return void 0===e&&(e=this.subnetMask),this.getBitsBase2(0,e)},d.Address.prototype.link=function(e){e||(e={}),void 0===e.className&&(e.className=""),void 0===e.prefix&&(e.prefix="/#address="),void 0===e.v4&&(e.v4=!1);var t=this.correctForm;return e.v4&&(t=this.v4inv6),e.className?c('<a href="%1$s%2$s" class="%3$s">%2$s</a>',e.prefix,t.call(this),e.className):c('<a href="%1$s%2$s">%2$s</a>',e.prefix,t.call(this))},d.Address.prototype.possibleAddresses=function(e){return void 0===e&&(e=0),s((new h("2",10)).pow(d.BITS-this.subnetMask-(d.BITS-e)).toString(10))},d.Address.prototype.isInSubnet=l,d.Address.fromAddress4=function(e){return new d.Address("::ffff:"+e)},d.Address.prototype.startAddress=function(){var e=new h(this.mask()+i(0,d.BITS-this.subnetMask),2);return d.Address.fromBigInteger(e)},d.Address.prototype.endAddress=function(){var e=new h(this.mask()+i(1,d.BITS-this.subnetMask),2);return d.Address.fromBigInteger(e)},d.Address.prototype.getScope=function(){var e=d.SCOPES[this.getBits(12,16)];return"Global unicast"===this.getType()&&"Link local"!==e&&(e="Global"),e},d.Address.prototype.getType=function(){var e,t={"ff01::1/128":"Multicast (All nodes on this interface)","ff01::2/128":"Multicast (All routers on this interface)","ff02::1/128":"Multicast (All nodes on this link)","ff02::2/128":"Multicast (All routers on this link)","ff05::2/128":"Multicast (All routers in this site)","ff02::5/128":"Multicast (OSPFv3 AllSPF routers)","ff02::6/128":"Multicast (OSPFv3 AllDR routers)","ff02::9/128":"Multicast (RIP routers)","ff02::a/128":"Multicast (EIGRP routers)","ff02::d/128":"Multicast (PIM routers)","ff02::16/128":"Multicast (MLDv2 reports)","ff01::fb/128":"Multicast (mDNSv6)","ff02::fb/128":"Multicast (mDNSv6)","ff05::fb/128":"Multicast (mDNSv6)","ff02::1:2/128":"Multicast (All DHCP servers and relay agents on this link)","ff05::1:2/128":"Multicast (All DHCP servers and relay agents in this site)","ff02::1:3/128":"Multicast (All DHCP servers on this link)","ff05::1:3/128":"Multicast (All DHCP servers in this site)","::/128":"Unspecified","::1/128":"Loopback","ff00::/8":"Multicast","fe80::/10":"Link-local unicast"},n="Global unicast";for(e in t)if(t.hasOwnProperty(e)&&this.isInSubnet(new d.Address(e))){n=t[e];break}return n},d.Address.prototype.getBits=function(e,t){return new h(this.getBitsBase2(e,t),2)},d.Address.prototype.getBitsBase2=function(e,t){return this.binaryZeroPad().slice(e,t)},d.Address.prototype.getBitsBase16=function(e,t){var n=t-e;if(n%4===0)return f(this.getBits(e,t).toString(16),n/4)},d.Address.prototype.getBitsPastSubnet=function(){return this.getBitsBase2(this.subnetMask,d.BITS)},d.Address.spanAll=function(e,t){void 0===t&&(t=0);var n=e.split("");return r(n,function(e,n){return c('<span class="digit value-%s position-%d">%s</span>',e,n+t,d.Address.spanAllZeroes(e))}).join("")},d.Address.spanAllZeroes=function(e){return e.replace(/(0+)/g,'<span class="zero">$1</span>')},d.Address.spanLeadingZeroes=function(e){var t=e.split(":");return t=r(t,function(e){return o(e)}),t.join(":")},d.Address.simpleGroup=function(e,t){var n=e.split(":");return t||(t=0),n=r(n,function(e,n){return/group-v4/.test(e)?e:c('<span class="hover-group group-%d">%s</span>',n+t,o(e))}),n.join(":")},d.Address.group=function(e){var t,n=new d.Address(e),r=n.address.match(p.RE_ADDRESS);if(r){var i=r[0].split(".");n.address=n.address.replace(p.RE_ADDRESS,c('<span class="hover-group group-v4 group-6">%s</span>.<span class="hover-group group-v4 group-7">%s</span>',i.slice(0,2).join("."),i.slice(2,4).join(".")))}if(0===n.elidedGroups)return d.Address.simpleGroup(n.address);var s=[],o=n.address.split("::");s.push(o[0].length?d.Address.simpleGroup(o[0]):"");var u=["hover-group"];for(t=n.elisionBegin;t<n.elisionBegin+n.elidedGroups;t++)u.push(c("group-%d",t));return s.push(c('<span class="%s"></span>',u.join(" "))),s.push(o[1].length?d.Address.simpleGroup(o[1],n.elisionEnd):""),s.join(":")},d.Address.prototype.reverseForm=function(){var e=Math.floor(this.subnetMask/4),t=this.canonicalForm().replace(/:/g,"").split("").slice(0,e).reverse().join(".");return e>0?c("%s.ip6.arpa.",t):"ip6.arpa."},d.Address.prototype.correctForm=function(){if(this.parsedAddress){var e,t=[],n=0,i=[];for(e=0;e<this.parsedAddress.length;e++){var s=parseInt(this.parsedAddress[e],16);0===s&&n++,0!==s&&n>0&&(n>1&&i.push([e-n,e-1]),n=0)}n>1&&i.push([this.parsedAddress.length-n,this.parsedAddress.length-1]);var o=r(i,function(e){return e[1]-e[0]+1});if(i.length>0){var u=Math.max.apply(Math,o),a=o.indexOf(u);t=d.Address.compact(this.parsedAddress,i[a])}else t=this.parsedAddress;for(e=0;e<t.length;e++)"compact"!==t[e]&&(t[e]=parseInt(t[e],16).toString(16));var f=t.join(":");return f=f.replace(/^compact$/,"::"),f=f.replace(/^compact|compact$/,":"),f=f.replace(/compact/,"")}},d.Address.prototype.binaryZeroPad=function(){return f(this.bigInteger().toString(2),d.BITS)},d.Address.prototype.parse4in6=function(e){var t=e.split(":"),n=t.slice(-1)[0],i=n.match(p.RE_ADDRESS);if(i){for(var s=new p.Address(i[0]),o=0;o<s.groups;o++)if(/^0[0-9]+/.test(s.parsedAddress[o]))return this.valid=!1,this.error="IPv4 addresses can not have leading zeroes.",void (this.parseError=e.replace(p.RE_ADDRESS,r(s.parsedAddress,u).join(".")));this.v4=!0,t[t.length-1]=s.toV6Group(),e=t.join(":")}return e},d.Address.prototype.parse=function(e){if(e=this.parse4in6(e),!this.error){var t=e.match(d.RE_BAD_CHARACTERS);if(t)return this.valid=!1,this.error=c("Bad character%s detected in address: %s",t.length>1?"s":"",t.join("")),void (this.parseError=e.replace(d.RE_BAD_CHARACTERS,'<span class="parse-error">$1</span>'));var n=e.match(d.RE_BAD_ADDRESS);if(n)return this.valid=!1,this.error=c("Address failed regex: %s",n.join("")),void (this.parseError=e.replace(d.RE_BAD_ADDRESS,'<span class="parse-error">$1</span>'));var i=[],s=e.split("::");if(2===s.length){var o=s[0].split(":"),u=s[1].split(":");1===o.length&&""===o[0]&&(o=[]),1===u.length&&""===u[0]&&(u=[]);var a=this.groups-(o.length+u.length);if(!a)return this.valid=!1,void (this.error="Error parsing groups");this.elidedGroups=a,this.elisionBegin=o.length,this.elisionEnd=o.length+this.elidedGroups,o.forEach(function(e){i.push(e)});for(var f=0;a>f;f++)i.push(0);u.forEach(function(e){i.push(e)})}else{if(1!==s.length)return this.valid=!1,void (this.error="Too many :: groups found");i=e.split(":"),this.elidedGroups=0}return i=r(i,function(e){return c("%x",parseInt(e,16))}),i.length!==this.groups?(this.valid=!1,void (this.error="Incorrect number of groups found")):(i.forEach(function(e,t){return i.length>4&&!this.v4?(this.valid=!1,void (this.error=c("Group %d is too long",t+1))):void 0}),this.valid=!0,i)}},d.Address.prototype.regularExpressionString=function(e){void 0===e&&(e=!1);var t,n=[],r=new d.Address(this.correctForm());if(0===r.elidedGroups)n=a(r.parsedAddress);else if(8===r.elidedGroups)for(n.push("::|"),t=0;t<r.elidedGroups;t++){var i="|";t===r.elidedGroups-1&&(i=""),n.push(c("(0{1,4}:){%d}:%s",r.elidedGroups,i))}else{var s=r.address.split("::");s[0].length&&(n=n.concat(a(s[0].split(":"))),n.push(":")),n.push(c("((0{1,4}:){%d}|:)",r.elidedGroups)),s[1].length&&(n=n.concat(a(s[1].split(":"))))}return e||(n=[].concat("\\b",n,"\\b")),n.join("")},d.Address.prototype.regularExpression=function(){return new RegExp(this.regularExpressionString(),"i")},d.Address.prototype.canonicalForm=function(){return this.valid?r(this.parsedAddress,function(e){return c("%04x",parseInt(e,16))}).join(":"):void 0},d.Address.prototype.decimal=function(){return this.valid?r(this.parsedAddress,function(e){return c("%05d",parseInt(e,16))}).join(":"):void 0},d.Address.prototype.bigInteger=function(){return this.valid?new h(r(this.parsedAddress,function(e){return c("%04x",parseInt(e,16))}).join(""),16):void 0},d.Address.prototype.v4inv6=function(){var e=this.binaryZeroPad().split(""),t=p.Address.fromHex((new h(e.slice(96,128).join(""),2)).toString(16)),n=new d.Address(this.parsedAddress.slice(0,6).join(":"),6),r=n.correctForm(),i="";return/:$/.test(r)||(i=":"),n.correctForm()+i+t.address},d.Address.prototype.teredo=function(){var e=this.getBitsBase16(0,32),t=this.getBits(80,96).xor(new h("ffff",16)).toString(),n=p.Address.fromHex(this.getBitsBase16(32,64)),r=p.Address.fromHex(this.getBits(96,128).xor(new h("ffffffff",16)).toString(16)),i=this.getBits(64,80),s=this.getBitsBase2(64,80),o=i.testBit(15),u=i.testBit(14),a=i.testBit(8),f=i.testBit(9),l=(new h(s.slice(2,6)+s.slice(8,16),2)).toString(10);return{prefix:c("%s:%s",e.slice(0,4),e.slice(4,8)),server4:n.address,client4:r.address,flags:s,coneNat:o,microsoft:{reserved:u,universalLocal:f,groupIndividual:a,nonce:l},udpPort:t}},d.Address.prototype.six2four=function(){var e=this.getBitsBase16(0,16),t=p.Address.fromHex(this.getBitsBase16(16,48));return{prefix:c("%s",e.slice(0,4)),gateway:t.address}}},{"./lib/node/bigint":160,sprintf:161}],160:[function(e,t,n){function r(){return new BigInteger(null)}function i(e,t,n,r,i,s){for(var o=this.array,u=n.array,a=8191&t,f=t>>13;--s>=0;){var l=8191&o[e],c=o[e++]>>13,h=f*l+c*a;l=a*l+((8191&h)<<13)+u[r]+i,i=(l>>26)+(h>>13)+f*c,u[r++]=67108863&l}return i}function s(e){return on.charAt(e)}function o(e,t){var n=un[e.charCodeAt(t)];return null==n?-1:n}function u(e){for(var t=this.array,n=e.array,r=this.t-1;r>=0;--r)n[r]=t[r];e.t=this.t,e.s=this.s}function a(e){var t=this.array;this.t=1,this.s=0>e?-1:0,e>0?t[0]=e:-1>e?t[0]=e+DV:this.t=0}function f(e){var t=r();return t.fromInt(e),t}function l(e,t){var n,r=this.array;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var i=e.length,s=!1,u=0;--i>=0;){var a=8==n?255&e[i]:o(e,i);0>a?"-"==e.charAt(i)&&(s=!0):(s=!1,0==u?r[this.t++]=a:u+n>Yt?(r[this.t-1]|=(a&(1<<Yt-u)-1)<<u,r[this.t++]=a>>Yt-u):r[this.t-1]|=a<<u,u+=n,u>=Yt&&(u-=Yt))}8==n&&0!=(128&e[0])&&(this.s=-1,u>0&&(r[this.t-1]|=(1<<Yt-u)-1<<u)),this.clamp(),s&&BigInteger.ZERO.subTo(this,this)}function c(){for(var e=this.array,t=this.s&Zt;this.t>0&&e[this.t-1]==t;)--this.t}function h(e){var t=this.array;if(this.s<0)return"-"+this.negate().toString(e);var n;if(16==e)n=4;else if(8==e)n=3;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return this.toRadix(e);n=2}var r,i=(1<<n)-1,o=!1,u="",a=this.t,f=Yt-a*Yt%n;if(a-->0)for(Yt>f&&(r=t[a]>>f)>0&&(o=!0,u=s(r));a>=0;)n>f?(r=(t[a]&(1<<f)-1)<<n-f,r|=t[--a]>>(f+=Yt-n)):(r=t[a]>>(f-=n)&i,0>=f&&(f+=Yt,--a)),r>0&&(o=!0),o&&(u+=s(r));return o?u:"0"}function p(){var e=r();return BigInteger.ZERO.subTo(this,e),e}function d(){return this.s<0?this.negate():this}function v(e){var t=this.array,n=e.array,r=this.s-e.s;if(0!=r)return r;var i=this.t;if(r=i-e.t,0!=r)return r;for(;--i>=0;)if(0!=(r=t[i]-n[i]))return r;return 0}function m(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function g(){var e=this.array;return this.t<=0?0:Yt*(this.t-1)+m(e[this.t-1]^this.s&Zt)}function y(e,t){var n,r=this.array,i=t.array;for(n=this.t-1;n>=0;--n)i[n+e]=r[n];for(n=e-1;n>=0;--n)i[n]=0;t.t=this.t+e,t.s=this.s}function b(e,t){for(var n=this.array,r=t.array,i=e;i<this.t;++i)r[i-e]=n[i];t.t=Math.max(this.t-e,0),t.s=this.s}function w(e,t){var n,r=this.array,i=t.array,s=e%Yt,o=Yt-s,u=(1<<o)-1,a=Math.floor(e/Yt),f=this.s<<s&Zt;for(n=this.t-1;n>=0;--n)i[n+a+1]=r[n]>>o|f,f=(r[n]&u)<<s;for(n=a-1;n>=0;--n)i[n]=0;i[a]=f,t.t=this.t+a+1,t.s=this.s,t.clamp()}function E(e,t){var n=this.array,r=t.array;t.s=this.s;var i=Math.floor(e/Yt);if(i>=this.t)return void (t.t=0);var s=e%Yt,o=Yt-s,u=(1<<s)-1;r[0]=n[i]>>s;for(var a=i+1;a<this.t;++a)r[a-i-1]|=(n[a]&u)<<o,r[a-i]=n[a]>>s;s>0&&(r[this.t-i-1]|=(this.s&u)<<o),t.t=this.t-i,t.clamp()}function S(e,t){for(var n=this.array,r=t.array,i=e.array,s=0,o=0,u=Math.min(e.t,this.t);u>s;)o+=n[s]-i[s],r[s++]=o&Zt,o>>=Yt;if(e.t<this.t){for(o-=e.s;s<this.t;)o+=n[s],r[s++]=o&Zt,o>>=Yt;o+=this.s}else{for(o+=this.s;s<e.t;)o-=i[s],r[s++]=o&Zt,o>>=Yt;o-=e.s}t.s=0>o?-1:0,-1>o?r[s++]=en+o:o>0&&(r[s++]=o),t.t=s,t.clamp()}function x(e,t){var n=(this.array,t.array),r=this.abs(),i=e.abs(),s=i.array,o=r.t;for(t.t=o+i.t;--o>=0;)n[o]=0;for(o=0;o<i.t;++o)n[o+r.t]=r.am(0,s[o],t,o,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&BigInteger.ZERO.subTo(t,t)}function T(e){for(var t=this.abs(),n=t.array,r=e.array,i=e.t=2*t.t;--i>=0;)r[i]=0;for(i=0;i<t.t-1;++i){var s=t.am(i,n[i],e,2*i,0,1);(r[i+t.t]+=t.am(i+1,2*n[i],e,2*i+1,s,t.t-i-1))>=en&&(r[i+t.t]-=en,r[i+t.t+1]=1)}e.t>0&&(r[e.t-1]+=t.am(i,n[i],e,2*i,0,1)),e.s=0,e.clamp()}function N(e,t,n){var i=e.abs();if(!(i.t<=0)){var s=this.abs();if(s.t<i.t)return null!=t&&t.fromInt(0),void (null!=n&&this.copyTo(n));null==n&&(n=r());var o=r(),u=this.s,a=e.s,f=i.array,l=Yt-m(f[i.t-1]);l>0?(i.lShiftTo(l,o),s.lShiftTo(l,n)):(i.copyTo(o),s.copyTo(n));var c=o.t,h=o.array,p=h[c-1];if(0!=p){var d=p*(1<<rn)+(c>1?h[c-2]>>sn:0),v=nn/d,g=(1<<rn)/d,y=1<<sn,b=n.t,w=b-c,E=null==t?r():t;o.dlShiftTo(w,E);var S=n.array;for(n.compareTo(E)>=0&&(S[n.t++]=1,n.subTo(E,n)),BigInteger.ONE.dlShiftTo(c,E),E.subTo(o,o);o.t<c;)h[o.t++]=0;for(;--w>=0;){var x=S[--b]==p?Zt:Math.floor(S[b]*v+(S[b-1]+y)*g);if((S[b]+=o.am(0,x,n,w,0,c))<x)for(o.dlShiftTo(w,E),n.subTo(E,n);S[b]<--x;)n.subTo(E,n)}null!=t&&(n.drShiftTo(c,t),u!=a&&BigInteger.ZERO.subTo(t,t)),n.t=c,n.clamp(),l>0&&n.rShiftTo(l,n),0>u&&BigInteger.ZERO.subTo(n,n)}}}function C(e){var t=r();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(BigInteger.ZERO)>0&&e.subTo(t,t),t}function k(e){this.m=e}function L(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function A(e){return e}function O(e){e.divRemTo(this.m,null,e)}function M(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function _(e,t){e.squareTo(t),this.reduce(t)}function D(){var e=this.array;if(this.t<1)return 0;var t=e[0];if(0==(1&t))return 0;var n=3&t;return n=n*(2-(15&t)*n)&15,n=n*(2-(255&t)*n)&255,n=n*(2-((65535&t)*n&65535))&65535,n=n*(2-t*n%en)%en,n>0?en-n:-n}function P(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<Yt-15)-1,this.mt2=2*e.t}function H(e){var t=r();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(BigInteger.ZERO)>0&&this.m.subTo(t,t),t}function B(e){var t=r();return e.copyTo(t),this.reduce(t),t}function j(e){for(var t=e.array;e.t<=this.mt2;)t[e.t++]=0;for(var n=0;n<this.m.t;++n){var r=32767&t[n],i=r*this.mpl+((r*this.mph+(t[n]>>15)*this.mpl&this.um)<<15)&Zt;for(r=n+this.m.t,t[r]+=this.m.am(0,i,e,n,0,this.m.t);t[r]>=en;)t[r]-=en,t[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function F(e,t){e.squareTo(t),this.reduce(t)}function I(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function q(){var e=this.array;return 0==(this.t>0?1&e[0]:this.s)}function R(e,t){if(e>4294967295||1>e)return BigInteger.ONE;var n=r(),i=r(),s=t.convert(this),o=m(e)-1;for(s.copyTo(n);--o>=0;)if(t.sqrTo(n,i),(e&1<<o)>0)t.mulTo(i,s,n);else{var u=n;n=i,i=u}return t.revert(n)}function U(e,t){var n;return n=256>e||t.isEven()?new k(t):new P(t),this.exp(e,n)}function z(){var e=r();return this.copyTo(e),e}function W(){var e=this.array;if(this.s<0){if(1==this.t)return e[0]-en;if(0==this.t)return-1}else{if(1==this.t)return e[0];if(0==this.t)return 0}return(e[1]&(1<<32-Yt)-1)<<Yt|e[0]}function X(){var e=this.array;return 0==this.t?this.s:e[0]<<24>>24}function V(){var e=this.array;return 0==this.t?this.s:e[0]<<16>>16}function $(e){return Math.floor(Math.LN2*Yt/Math.log(e))}function J(){var e=this.array;return this.s<0?-1:this.t<=0||1==this.t&&e[0]<=0?0:1}function K(e){if(null==e&&(e=10),0==this.signum()||2>e||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),i=f(n),s=r(),o=r(),u="";for(this.divRemTo(i,s,o);s.signum()>0;)u=(n+o.intValue()).toString(e).substr(1)+u,s.divRemTo(i,s,o);return o.intValue().toString(e)+u}function Q(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),r=Math.pow(t,n),i=!1,s=0,u=0,a=0;a<e.length;++a){var f=o(e,a);0>f?"-"==e.charAt(a)&&0==this.signum()&&(i=!0):(u=t*u+f,++s>=n&&(this.dMultiply(r),this.dAddOffset(u,0),s=0,u=0))}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(u,0)),i&&BigInteger.ZERO.subTo(this,this)}function G(e,t,n){if("number"==typeof t)if(2>e)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(BigInteger.ONE.shiftLeft(e-1),st,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(BigInteger.ONE.shiftLeft(e-1),this);else{var r=new Array,i=7&e;r.length=(e>>3)+1,t.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}}function Y(){var e=this.array,t=this.t,n=new Array;n[0]=this.s;var r,i=Yt-t*Yt%8,s=0;if(t-->0)for(Yt>i&&(r=e[t]>>i)!=(this.s&Zt)>>i&&(n[s++]=r|this.s<<Yt-i);t>=0;)8>i?(r=(e[t]&(1<<i)-1)<<8-i,r|=e[--t]>>(i+=Yt-8)):(r=e[t]>>(i-=8)&255,0>=i&&(i+=Yt,--t)),0!=(128&r)&&(r|=-256),0==s&&(128&this.s)!=(128&r)&&++s,(s>0||r!=this.s)&&(n[s++]=r);return n}function Z(e){return 0==this.compareTo(e)}function et(e){return this.compareTo(e)<0?this:e}function tt(e){return this.compareTo(e)>0?this:e}function nt(e,t,n){var r,i,s=this.array,o=e.array,u=n.array,a=Math.min(e.t,this.t);for(r=0;a>r;++r)u[r]=t(s[r],o[r]);if(e.t<this.t){for(i=e.s&Zt,r=a;r<this.t;++r)u[r]=t(s[r],i);n.t=this.t}else{for(i=this.s&Zt,r=a;r<e.t;++r)u[r]=t(i,o[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()}function rt(e,t){return e&t}function it(e){var t=r();return this.bitwiseTo(e,rt,t),t}function st(e,t){return e|t}function ot(e){var t=r();return this.bitwiseTo(e,st,t),t}function ut(e,t){return e^t}function at(e){var t=r();return this.bitwiseTo(e,ut,t),t}function ft(e,t){return e&~t}function lt(e){var t=r();return this.bitwiseTo(e,ft,t),t}function ct(){for(var e=this.array,t=r(),n=t.array,i=0;i<this.t;++i)n[i]=Zt&~e[i];return t.t=this.t,t.s=~this.s,t}function ht(e){var t=r();return 0>e?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function pt(e){var t=r();return 0>e?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function dt(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function vt(){for(var e=this.array,t=0;t<this.t;++t)if(0!=e[t])return t*Yt+dt(e[t]);return this.s<0?this.t*Yt:-1}function mt(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function gt(){for(var e=this.array,t=0,n=this.s&Zt,r=0;r<this.t;++r)t+=mt(e[r]^n);return t}function yt(e){var t=this.array,n=Math.floor(e/Yt);return n>=this.t?0!=this.s:0!=(t[n]&1<<e%Yt)}function bt(e,t){var n=BigInteger.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n}function wt(e){return this.changeBit(e,st)}function Et(e){return this.changeBit(e,ft)}function St(e){return this.changeBit(e,ut)}function xt(e,t){for(var n=this.array,r=e.array,i=t.array,s=0,o=0,u=Math.min(e.t,this.t);u>s;)o+=n[s]+r[s],i[s++]=o&Zt,o>>=Yt;if(e.t<this.t){for(o+=e.s;s<this.t;)o+=n[s],i[s++]=o&Zt,o>>=Yt;o+=this.s}else{for(o+=this.s;s<e.t;)o+=r[s],i[s++]=o&Zt,o>>=Yt;o+=e.s}t.s=0>o?-1:0,o>0?i[s++]=o:-1>o&&(i[s++]=en+o),t.t=s,t.clamp()}function Tt(e){var t=r();return this.addTo(e,t),t}function Nt(e){var t=r();return this.subTo(e,t),t}function Ct(e){var t=r();return this.multiplyTo(e,t),t}function kt(e){var t=r();return this.divRemTo(e,t,null),t}function Lt(e){var t=r();return this.divRemTo(e,null,t),t}function At(e){var t=r(),n=r();return this.divRemTo(e,t,n),new Array(t,n)}function Ot(e){var t=this.array;t[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Mt(e,t){for(var n=this.array;this.t<=t;)n[this.t++]=0;for(n[t]+=e;n[t]>=en;)n[t]-=en,++t>=this.t&&(n[this.t++]=0),++n[t]}function _t(){}function Dt(e){return e}function Pt(e,t,n){e.multiplyTo(t,n)}function Ht(e,t){e.squareTo(t)}function Bt(e){return this.exp(e,new _t)}function jt(e,t,n){var r=n.array,i=e.array,s=Math.min(this.t+e.t,t);for(n.s=0,n.t=s;s>0;)r[--s]=0;var o;for(o=n.t-this.t;o>s;++s)r[s+this.t]=this.am(0,i[s],n,s,0,this.t);for(o=Math.min(e.t,t);o>s;++s)this.am(0,i[s],n,s,0,t-s);n.clamp()}function Ft(e,t,n){var r=n.array,i=e.array;--t;var s=n.t=this.t+e.t-t;for(n.s=0;--s>=0;)r[s]=0;for(s=Math.max(t-this.t,0);s<e.t;++s)r[this.t+s-t]=this.am(t-s,i[s],n,0,0,this.t+s-t);n.clamp(),n.drShiftTo(1,n)}function It(e){this.r2=r(),this.q3=r(),BigInteger.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function qt(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=r();return e.copyTo(t),this.reduce(t),t}function Rt(e){return e}function Ut(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function zt(e,t){e.squareTo(t),this.reduce(t)}function Wt(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function Xt(e,t){var n,i,s=e.array,o=e.bitLength(),u=f(1);if(0>=o)return u;n=18>o?1:48>o?3:144>o?4:768>o?5:6,i=8>o?new k(t):t.isEven()?new It(t):new P(t);var a=new Array,l=3,c=n-1,h=(1<<n)-1;if(a[1]=i.convert(this),n>1){var p=r();for(i.sqrTo(a[1],p);h>=l;)a[l]=r(),i.mulTo(p,a[l-2],a[l]),l+=2}var d,v,g=e.t-1,y=!0,b=r();for(o=m(s[g])-1;g>=0;){for(o>=c?d=s[g]>>o-c&h:(d=(s[g]&(1<<o+1)-1)<<c-o,g>0&&(d|=s[g-1]>>Yt+o-c)),l=n;0==(1&d);)d>>=1,--l;if((o-=l)<0&&(o+=Yt,--g),y)a[d].copyTo(u),y=!1;else{for(;l>1;)i.sqrTo(u,b),i.sqrTo(b,u),l-=2;l>0?i.sqrTo(u,b):(v=u,u=b,b=v),i.mulTo(b,a[d],u)}for(;g>=0&&0==(s[g]&1<<o);)i.sqrTo(u,b),v=u,u=b,b=v,--o<0&&(o=Yt-1,--g)}return i.revert(u)}function Vt(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),s=n.getLowestSetBit();if(0>s)return t;for(s>i&&(s=i),s>0&&(t.rShiftTo(s,t),n.rShiftTo(s,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return s>0&&n.lShiftTo(s,n),n}function $t(e){var t=this.array;if(0>=e)return 0;var n=en%e,r=this.s<0?e-1:0;if(this.t>0)if(0==n)r=t[0]%e;else for(var i=this.t-1;i>=0;--i)r=(n*r+t[i])%e;return r}function Jt(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return BigInteger.ZERO;for(var n=e.clone(),r=this.clone(),i=f(1),s=f(0),o=f(0),u=f(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(i.isEven()&&s.isEven()||(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;r.isEven();)r.rShiftTo(1,r),t?(o.isEven()&&u.isEven()||(o.addTo(this,o),u.subTo(e,u)),o.rShiftTo(1,o)):u.isEven()||u.subTo(e,u),u.rShiftTo(1,u);n.compareTo(r)>=0?(n.subTo(r,n),t&&i.subTo(o,i),s.subTo(u,s)):(r.subTo(n,r),t&&o.subTo(i,o),u.subTo(s,u))}return 0!=r.compareTo(BigInteger.ONE)?BigInteger.ZERO:u.compareTo(e)>=0?u.subtract(e):u.signum()<0?(u.addTo(e,u),u.signum()<0?u.add(e):u):u}function Kt(e){var t,n=this.abs(),r=n.array;if(1==n.t&&r[0]<=ln[ln.length-1]){for(t=0;t<ln.length;++t)if(r[0]==ln[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<ln.length;){for(var i=ln[t],s=t+1;s<ln.length&&cn>i;)i*=ln[s++];for(i=n.modInt(i);s>t;)if(i%ln[t++]==0)return!1}return n.millerRabin(e)}function Qt(e){var t=this.subtract(BigInteger.ONE),n=t.getLowestSetBit();if(0>=n)return!1;var i=t.shiftRight(n);e=e+1>>1,e>ln.length&&(e=ln.length);for(var s=r(),o=0;e>o;++o){s.fromInt(ln[o]);var u=s.modPow(i,this);if(0!=u.compareTo(BigInteger.ONE)&&0!=u.compareTo(t)){for(var a=1;a++<n&&0!=u.compareTo(t);)if(u=u.modPowInt(2,this),0==u.compareTo(BigInteger.ONE))return!1;if(0!=u.compareTo(t))return!1}}return!0}var Gt=26,Yt=Gt,Zt=(1<<Gt)-1,en=1<<Gt,tn=52,nn=Math.pow(2,tn),rn=tn-Gt,sn=2*Gt-tn;BigInteger=t.exports.BigInteger=function(e,t,n){this.array=new Array,null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))};var on="0123456789abcdefghijklmnopqrstuvwxyz",un=new Array,an,fn;for(an="0".charCodeAt(0),fn=0;9>=fn;++fn)un[an++]=fn;for(an="a".charCodeAt(0),fn=10;36>fn;++fn)un[an++]=fn;for(an="A".charCodeAt(0),fn=10;36>fn;++fn)un[an++]=fn;k.prototype.convert=L,k.prototype.revert=A,k.prototype.reduce=O,k.prototype.mulTo=M,k.prototype.sqrTo=_,P.prototype.convert=H,P.prototype.revert=B,P.prototype.reduce=j,P.prototype.mulTo=I,P.prototype.sqrTo=F,BigInteger.prototype.copyTo=u,BigInteger.prototype.fromInt=a,BigInteger.prototype.fromString=l,BigInteger.prototype.clamp=c,BigInteger.prototype.dlShiftTo=y,BigInteger.prototype.drShiftTo=b,BigInteger.prototype.lShiftTo=w,BigInteger.prototype.rShiftTo=E,BigInteger.prototype.subTo=S,BigInteger.prototype.multiplyTo=x,BigInteger.prototype.squareTo=T,BigInteger.prototype.divRemTo=N,BigInteger.prototype.invDigit=D,BigInteger.prototype.isEven=q,BigInteger.prototype.exp=R,BigInteger.prototype.toString=h,BigInteger.prototype.negate=p,BigInteger.prototype.abs=d,BigInteger.prototype.compareTo=v,BigInteger.prototype.bitLength=g,BigInteger.prototype.mod=C,BigInteger.prototype.modPowInt=U,BigInteger.ZERO=f(0),BigInteger.ONE=f(1),_t.prototype.convert=Dt,_t.prototype.revert=Dt,_t.prototype.mulTo=Pt,_t.prototype.sqrTo=Ht,It.prototype.convert=qt,It.prototype.revert=Rt,It.prototype.reduce=Ut,It.prototype.mulTo=Wt,It.prototype.sqrTo=zt;var ln=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],cn=(1<<26)/ln[ln.length-1];BigInteger.prototype.chunkSize=$,BigInteger.prototype.toRadix=K,BigInteger.prototype.fromRadix=Q,BigInteger.prototype.fromNumber=G,BigInteger.prototype.bitwiseTo=nt,BigInteger.prototype.changeBit=bt,BigInteger.prototype.addTo=xt,BigInteger.prototype.dMultiply=Ot,BigInteger.prototype.dAddOffset=Mt,BigInteger.prototype.multiplyLowerTo=jt,BigInteger.prototype.multiplyUpperTo=Ft,BigInteger.prototype.modInt=$t,BigInteger.prototype.millerRabin=Qt,BigInteger.prototype.clone=z,BigInteger.prototype.intValue=W,BigInteger.prototype.byteValue=X,BigInteger.prototype.shortValue=V,BigInteger.prototype.signum=J,BigInteger.prototype.toByteArray=Y,BigInteger.prototype.equals=Z,BigInteger.prototype.min=et,BigInteger.prototype.max=tt,BigInteger.prototype.and=it,BigInteger.prototype.or=ot,BigInteger.prototype.xor=at,BigInteger.prototype.andNot=lt,BigInteger.prototype.not=ct,BigInteger.prototype.shiftLeft=ht,BigInteger.prototype.shiftRight=pt,BigInteger.prototype.getLowestSetBit=vt,BigInteger.prototype.bitCount=gt,BigInteger.prototype.testBit=yt,BigInteger.prototype.setBit=wt,BigInteger.prototype.clearBit=Et,BigInteger.prototype.flipBit=St,BigInteger.prototype.add=Tt,BigInteger.prototype.subtract=Nt,BigInteger.prototype.multiply=Ct,BigInteger.prototype.divide=kt,BigInteger.prototype.remainder=Lt,BigInteger.prototype.divideAndRemainder=At,BigInteger.prototype.modPow=Xt,BigInteger.prototype.modInverse=Jt,BigInteger.prototype.pow=Bt,BigInteger.prototype.gcd=Vt,BigInteger.prototype.isProbablePrime=Kt,BigInteger.prototype.am=i},{}],161:[function(e,t,n){var r=e("util"),i=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var n=[];t>0;n[--t]=e);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.object_stringify=function(e,t,r,i){var s="";if(null!=e)switch(typeof e){case"function":return"[Function"+(e.name?": "+e.name:"")+"]";case"object":if(e instanceof Error)return"["+e.toString()+"]";if(t>=r)return"[Object]";if(i&&(i=i.slice(0),i.push(e)),null!=e.length){s+="[";var o=[];for(var u in e)o.push(i&&i.indexOf(e[u])>=0?"[Circular]":n.object_stringify(e[u],t+1,r,i));s+=o.join(", ")+"]"}else{if("getMonth"in e)return"Date("+e+")";s+="{";var o=[];for(var a in e)e.hasOwnProperty(a)&&o.push(i&&i.indexOf(e[a])>=0?a+": [Circular]":a+": "+n.object_stringify(e[a],t+1,r,i));s+=o.join(", ")+"}"}return s;case"string":return'"'+e+'"'}return""+e},n.format=function(r,s){var o,u,a,f,l,c,h,p=1,d=r.length,v="",m=[];for(u=0;d>u;u++)if(v=e(r[u]),"string"===v)m.push(r[u]);else if("array"===v){if(f=r[u],f[2])for(o=s[p],a=0;a<f[2].length;a++){if(!o.hasOwnProperty(f[2][a]))throw new Error(i('[sprintf] property "%s" does not exist',f[2][a]));o=o[f[2][a]]}else o=f[1]?s[f[1]]:s[p++];if(/[^sO]/.test(f[8])&&"number"!=e(o))throw new Error(i('[sprintf] expecting number but found %s "'+o+'"',e(o)));switch(f[8]){case"b":o=o.toString(2);break;case"c":o=String.fromCharCode(o);break;case"d":o=parseInt(o,10);break;case"e":o=f[7]?o.toExponential(f[7]):o.toExponential();break;case"f":o=f[7]?parseFloat(o).toFixed(f[7]):parseFloat(o);break;case"O":o=n.object_stringify(o,0,parseInt(f[7])||5);break;case"o":o=o.toString(8);break;case"s":o=(o=String(o))&&f[7]?o.substring(0,f[7]):o;break;case"u":o=Math.abs(o);break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}o=/[def]/.test(f[8])&&f[3]&&o>=0?"+"+o:o,c=f[4]?"0"==f[4]?"0":f[4].charAt(1):" ",h=f[6]-String(o).length,l=f[6]?t(c,h):"",m.push(f[5]?o+l:l+o)}return m.join("")},n.cache={},n.parse=function(e){for(var t=e,n=[],r=[],i=0;t;){if(null!==(n=/^[^\x25]+/.exec(t)))r.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(t)))r.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosOuxX])/.exec(t)))throw new Error("[sprintf] "+t);if(n[2]){i|=1;var s=[],o=n[2],u=[];if(null===(u=/^([a-z_][a-z_\d]*)/i.exec(o)))throw new Error("[sprintf] "+o);for(s.push(u[1]);""!==(o=o.substring(u[0].length));)if(null!==(u=/^\.([a-z_][a-z_\d]*)/i.exec(o)))s.push(u[1]);else{if(null===(u=/^\[(\d+)\]/.exec(o)))throw new Error("[sprintf] "+o);s.push(u[1])}n[2]=s}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push(n)}t=t.substring(n[0].length)}return r},n}(),s=function(e,t){var n=t.slice();return n.unshift(e),i.apply(null,n)};t.exports=i,i.sprintf=i,i.vsprintf=s},{util:119}],162:[function(e,t,n){"use strict";n.htons=function(e,t,n){e[t]=255&n>>8,e[t+1]=255&n},n.ntohs=function(e,t){return(255&e[t])<<8|255&e[t+1]},n.ntohsStr=function(e,t){return(255&e.charCodeAt(t))<<8|255&e.charCodeAt(t+1)},n.htonl=function(e,t,n){e[t]=255&n>>24,e[t+1]=255&n>>16,e[t+2]=255&n>>8,e[t+3]=255&n},n.ntohl=function(e,t){return(255&e[t])<<24|(255&e[t+1])<<16|(255&e[t+2])<<8|255&e[t+3]},n.ntohlStr=function(e,t){return(255&e.charCodeAt(t))<<24|(255&e.charCodeAt(t+1))<<16|(255&e.charCodeAt(t+2))<<8|255&e.charCodeAt(t+3)}},{}],163:[function(e,t,n){t.exports=function(){var e=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};var t=new Error;Error.captureStackTrace(t,arguments.callee);var n=t.stack;return Error.prepareStackTrace=e,n}},{}],164:[function(e,t,n){(function(n,r){var i=e("path"),s=e("callsite"),o=t.paths,u=t.filename;t.exports=function(e){return e.inherit=function(e){arguments.length>1&&e.inherit(Array.prototype.slice.call(arguments,1)),this.super_=e,this.prototype.__proto__=e.prototype,this.__proto__=e},e.super=function(e,t,n){return this.super_?"string"==typeof t?this.super_.prototype[t].apply(e,n):this.super_.apply(e,t):void 0},e.default=function(){return this._default||(this._default=new this),this._default},e.parent&&e.inherit(e.parent),e};var a=function(n,a){if("./"==n.slice(0,2)||"../"==n.slice(0,3)){var f=s()[1].getFileName();n=i.resolve(i.dirname(f),n)}t.paths=t.parent.paths,t.filename=t.parent.filename,n=e.resolve(n),t.paths=o,t.filename=u;var l=e.cache[n];l&&delete e.cache[n],r._imports=a;var c=e(n);return delete e.cache[n],l&&(e.cache[n]=l),c},f=function(t,n){r._imports=n;var i;try{i=e("!"+t)}catch(s){throw console.log("SOOP:"+s.message+"\nNote that SOOP requires a custom browserify configuration. please check soop's readme"),s}return i};t.exports.load=n.versions?a:f,t.exports.imports=function(){var e=r._imports||{};return r._imports={},e}}).call(this,e("/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":103,callsite:163,path:104}],165:[function(e,t,n){(function(e){function n(){function t(){if(0!==o.length){var e=o.shift();r=n=0,i=[];try{s=!0;var f=e.apply(t,arguments)}catch(l){t(l)}void 0!==f&&t(void 0,f),s=!1}else if(arguments[0])throw arguments[0]}var n,r,i,s,o=Array.prototype.slice.call(arguments);t.parallel=function(){function o(){0===n&&t.apply(null,i)}var a=1+r++;return n++,e.nextTick(o),function(){n--,arguments[0]&&(i[0]=arguments[0]),i[a]=arguments[1],s||o()}},t.group=function(){function n(){0===o&&r(f,a)}var r=t.parallel(),i=0,o=0,a=[],f=void 0;return e.nextTick(n),function(){var e=i++;return o++,function(){o--,arguments[0]&&(f=arguments[0]),a[e]=arguments[1],s||n()}}},t()}n.fn=function(){var e=Array.prototype.slice.call(arguments);return function(){var t=Array.prototype.slice.call(arguments),r=[function(){this.apply(null,t)}].concat(e);"function"==typeof t[t.length-1]&&r.push(t.pop()),n.apply(null,r)}},"undefined"!=typeof t&&"exports"in t&&(t.exports=n)}).call(this,e("/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":103}],166:[function(e,t,n){(function(){var e=this,r=e._,i={},s=Array.prototype,o=Object.prototype,u=Function.prototype,a=s.push,f=s.slice,l=s.concat,c=o.toString,h=o.hasOwnProperty,p=s.forEach,d=s.map,v=s.reduce,m=s.reduceRight,g=s.filter,y=s.every,b=s.some,w=s.indexOf,E=s.lastIndexOf,S=Array.isArray,x=Object.keys,T=u.bind,N=function(e){return e instanceof N?e:this instanceof N?void (this._wrapped=e):new N(e)};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=N),n._=N):e._=N,N.VERSION="1.6.0";var C=N.each=N.forEach=function(e,t,n){if(null==e)return e;if(p&&e.forEach===p)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,s=e.length;s>r;r++)if(t.call(n,e[r],r,e)===i)return}else for(var o=N.keys(e),r=0,s=o.length;s>r;r++)if(t.call(n,e[o[r]],o[r],e)===i)return;return e};N.map=N.collect=function(e,t,n){var r=[];return null==e?r:d&&e.map===d?e.map(t,n):(C(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r)};var k="Reduce of empty array with no initial value";N.reduce=N.foldl=N.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),v&&e.reduce===v)return r&&(t=N.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(C(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)}),!i)throw new TypeError(k);return n},N.reduceRight=N.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),m&&e.reduceRight===m)return r&&(t=N.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=N.keys(e);s=o.length}if(C(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)}),!i)throw new TypeError(k);return n},N.find=N.detect=function(e,t,n){var r;return L(e,function(e,i,s){return t.call(n,e,i,s)?(r=e,!0):void 0}),r},N.filter=N.select=function(e,t,n){var r=[];return null==e?r:g&&e.filter===g?e.filter(t,n):(C(e,function(e,i,s){t.call(n,e,i,s)&&r.push(e)}),r)},N.reject=function(e,t,n){return N.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},N.every=N.all=function(e,t,n){t||(t=N.identity);var r=!0;return null==e?r:y&&e.every===y?e.every(t,n):(C(e,function(e,s,o){return(r=r&&t.call(n,e,s,o))?void 0:i}),!!r)};var L=N.some=N.any=function(e,t,n){t||(t=N.identity);var r=!1;return null==e?r:b&&e.some===b?e.some(t,n):(C(e,function(e,s,o){return r||(r=t.call(n,e,s,o))?i:void 0}),!!r)};N.contains=N.include=function(e,t){return null==e?!1:w&&e.indexOf===w?-1!=e.indexOf(t):L(e,function(e){return e===t})},N.invoke=function(e,t){var n=f.call(arguments,2),r=N.isFunction(t);return N.map(e,function(e){return(r?t:e[t]).apply(e,n)})},N.pluck=function(e,t){return N.map(e,N.property(t))},N.where=function(e,t){return N.filter(e,N.matches(t))},N.findWhere=function(e,t){return N.find(e,N.matches(t))},N.max=function(e,t,n){if(!t&&N.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var r=-1/0,i=-1/0;return C(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u>i&&(r=e,i=u)}),r},N.min=function(e,t,n){if(!t&&N.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var r=1/0,i=1/0;return C(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;i>u&&(r=e,i=u)}),r},N.shuffle=function(e){var t,n=0,r=[];return C(e,function(e){t=N.random(n++),r[n-1]=r[t],r[t]=e}),r},N.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=N.values(e)),e[N.random(e.length-1)]):N.shuffle(e).slice(0,Math.max(0,t))};var A=function(e){return null==e?N.identity:N.isFunction(e)?e:N.property(e)};N.sortBy=function(e,t,n){return t=A(t),N.pluck(N.map(e,function(e,r,i){return{value:e,index:r,criteria:t.call(n,e,r,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var O=function(e){return function(t,n,r){var i={};return n=A(n),C(t,function(s,o){var u=n.call(r,s,o,t);e(i,u,s)}),i}};N.groupBy=O(function(e,t,n){N.has(e,t)?e[t].push(n):e[t]=[n]}),N.indexBy=O(function(e,t,n){e[t]=n}),N.countBy=O(function(e,t){N.has(e,t)?e[t]++:e[t]=1}),N.sortedIndex=function(e,t,n,r){n=A(n);for(var i=n.call(r,t),s=0,o=e.length;o>s;){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},N.toArray=function(e){return e?N.isArray(e)?f.call(e):e.length===+e.length?N.map(e,N.identity):N.values(e):[]},N.size=function(e){return null==e?0:e.length===+e.length?e.length:N.keys(e).length},N.first=N.head=N.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:0>t?[]:f.call(e,0,t)},N.initial=function(e,t,n){return f.call(e,0,e.length-(null==t||n?1:t))},N.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:f.call(e,Math.max(e.length-t,0))},N.rest=N.tail=N.drop=function(e,t,n){return f.call(e,null==t||n?1:t)},N.compact=function(e){return N.filter(e,N.identity)};var M=function(e,t,n){return t&&N.every(e,N.isArray)?l.apply(n,e):(C(e,function(e){N.isArray(e)||N.isArguments(e)?t?a.apply(n,e):M(e,t,n):n.push(e)}),n)};N.flatten=function(e,t){return M(e,t,[])},N.without=function(e){return N.difference(e,f.call(arguments,1))},N.partition=function(e,t){var n=[],r=[];return C(e,function(e){(t(e)?n:r).push(e)}),[n,r]},N.uniq=N.unique=function(e,t,n,r){N.isFunction(t)&&(r=n,n=t,t=!1);var i=n?N.map(e,n,r):e,s=[],o=[];return C(i,function(n,r){(t?r&&o[o.length-1]===n:N.contains(o,n))||(o.push(n),s.push(e[r]))}),s},N.union=function(){return N.uniq(N.flatten(arguments,!0))},N.intersection=function(e){var t=f.call(arguments,1);return N.filter(N.uniq(e),function(e){return N.every(t,function(t){return N.contains(t,e)})})},N.difference=function(e){var t=l.apply(s,f.call(arguments,1));return N.filter(e,function(e){return!N.contains(t,e)})},N.zip=function(){for(var e=N.max(N.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=N.pluck(arguments,""+n);return t},N.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},N.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=N.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}if(w&&e.indexOf===w)return e.indexOf(t,n);for(;i>r;r++)if(e[r]===t)return r;return-1},N.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(E&&e.lastIndexOf===E)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},N.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);r>i;)s[i++]=e,e+=n;return s};var _=function(){};N.bind=function(e,t){var n,r;if(T&&e.bind===T)return T.apply(e,f.call(arguments,1));if(!N.isFunction(e))throw new TypeError;return n=f.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(f.call(arguments)));_.prototype=e.prototype;var i=new _;_.prototype=null;var s=e.apply(i,n.concat(f.call(arguments)));return Object(s)===s?s:i}},N.partial=function(e){var t=f.call(arguments,1);return function(){for(var n=0,r=t.slice(),i=0,s=r.length;s>i;i++)r[i]===N&&(r[i]=arguments[n++]);for(;n<arguments.length;)r.push(arguments[n++]);return e.apply(this,r)}},N.bindAll=function(e){var t=f.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return C(t,function(t){e[t]=N.bind(e[t],e)}),e},N.memoize=function(e,t){var n={};return t||(t=N.identity),function(){var r=t.apply(this,arguments);return N.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},N.delay=function(e,t){var n=f.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},N.defer=function(e){return N.delay.apply(N,[e,1].concat(f.call(arguments,1)))},N.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:N.now(),o=null,s=e.apply(r,i),r=i=null};return function(){var f=N.now();u||n.leading!==!1||(u=f);var l=t-(f-u);return r=this,i=arguments,0>=l?(clearTimeout(o),o=null,u=f,s=e.apply(r,i),r=i=null):o||n.trailing===!1||(o=setTimeout(a,l)),s}},N.debounce=function(e,t,n){var r,i,s,o,u,a=function(){var f=N.now()-o;t>f?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i),s=i=null))};return function(){s=this,i=arguments,o=N.now();var f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i),s=i=null),u}},N.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},N.wrap=function(e,t){return N.partial(t,e)},N.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},N.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},N.keys=function(e){if(!N.isObject(e))return[];if(x)return x(e);var t=[];for(var n in e)N.has(e,n)&&t.push(n);return t},N.values=function(e){for(var t=N.keys(e),n=t.length,r=new Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},N.pairs=function(e){for(var t=N.keys(e),n=t.length,r=new Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},N.invert=function(e){for(var t={},n=N.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},N.functions=N.methods=function(e){var t=[];for(var n in e)N.isFunction(e[n])&&t.push(n);return t.sort()},N.extend=function(e){return C(f.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},N.pick=function(e){var t={},n=l.apply(s,f.call(arguments,1));return C(n,function(n){n in e&&(t[n]=e[n])}),t},N.omit=function(e){var t={},n=l.apply(s,f.call(arguments,1));for(var r in e)N.contains(n,r)||(t[r]=e[r]);return t},N.defaults=function(e){return C(f.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},N.clone=function(e){return N.isObject(e)?N.isArray(e)?e.slice():N.extend({},e):e},N.tap=function(e,t){return t(e),e};var D=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof N&&(e=e._wrapped),t instanceof N&&(t=t._wrapped);var i=c.call(e);if(i!=c.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=n.length;s--;)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(N.isFunction(o)&&o instanceof o&&N.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),r.push(t);var a=0,f=!0;if("[object Array]"==i){if(a=e.length,f=a==t.length)for(;a--&&(f=D(e[a],t[a],n,r)););}else{for(var l in e)if(N.has(e,l)&&(a++,!(f=N.has(t,l)&&D(e[l],t[l],n,r))))break;if(f){for(l in t)if(N.has(t,l)&&!(a--))break;f=!a}}return n.pop(),r.pop(),f};N.isEqual=function(e,t){return D(e,t,[],[])},N.isEmpty=function(e){if(null==e)return!0;if(N.isArray(e)||N.isString(e))return 0===e.length;for(var t in e)if(N.has(e,t))return!1;return!0},N.isElement=function(e){return!(!e||1!==e.nodeType)},N.isArray=S||function(e){return"[object Array]"==c.call(e)},N.isObject=function(e){return e===Object(e)},C(["Arguments","Function","String","Number","Date","RegExp"],function(e){N["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),N.isArguments(arguments)||(N.isArguments=function(e){return!(!e||!N.has(e,"callee"))}),"function"!=typeof /./&&(N.isFunction=function(e){return"function"==typeof e}),N.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},N.isNaN=function(e){return N.isNumber(e)&&e!=+e},N.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},N.isNull=function(e){return null===e},N.isUndefined=function(e){return void 0===e},N.has=function(e,t){return h.call(e,t)},N.noConflict=function(){return e._=r,this},N.identity=function(e){return e},N.constant=function(e){return function(){return e}},N.property=function(e){return function(t){return t[e]}},N.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},N.times=function(e,t,n){for(var r=Array(Math.max(0,e)),i=0;e>i;i++)r[i]=t.call(n,i);return r},N.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},N.now=Date.now||function(){return(new Date).getTime()};var P={escape:{"&":"&","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};P.unescape=N.invert(P.escape);var H={escape:new RegExp("["+N.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+N.keys(P.unescape).join("|")+")","g")};N.each(["escape","unescape"],function(e){N[e]=function(t){return null==t?"":(""+t).replace(H[e],function(t){return P[e][t]})}}),N.result=function(e,t){if(null==e)return void 0;var n=e[t];return N.isFunction(n)?n.call(e):n},N.mixin=function(e){C(N.functions(e),function(t){var n=N[t]=e[t];N.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),q.call(this,n.apply(N,e))}})};var B=0;N.uniqueId=function(e){var t=++B+"";return e?e+t:t},N.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\t|\u2028|\u2029/g;N.template=function(e,t,n){var r;n=N.defaults({},n,N.templateSettings);var i=new RegExp([(n.escape||j).source,(n.interpolate||j).source,(n.evaluate||j).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(I,function(e){return"\\"+F[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,N);var a=function(e){return r.call(this,e,N)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},N.chain=function(e){return N(e).chain()};var q=function(e){return this._chain?N(e).chain():e};N.mixin(N),C(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];N.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],q.call(this,n)}}),C(["concat","join","slice"],function(e){var t=s[e];N.prototype[e]=function(){return q.call(this,t.apply(this._wrapped,arguments))}}),N.extend(N.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return N})}).call(this)},{}],"./patches/Buffers.monkey":[function(e,t,n){t.exports=e("kytKTK")},{}],kytKTK:[function(e,t,n){(function(e){n.patch=function(t){t.prototype.skip=function(t){if(0!=t){if(t==this.length)return this.buffers=[],void (this.length=0);var n=this.pos(t);this.buffers=this.buffers.slice(n.buf),this.buffers[0]=new e(this.buffers[0].slice(n.offset)),this.length-=t}}}}).call(this,e("buffer").Buffer)},{buffer:87}],"./patches/Number.monkey":[function(e,t,n){t.exports=e("AwmEwz")},{}],AwmEwz:[function(e,t,n){n.patch=function(e){e.prototype.round=function(e){if(!e)return Math.round(this);var t=Math.pow(10,e);return Math.round(this*t)/t}}},{}],b3ZSD7:[function(e,t,n){(function(n){function r(e){this.subject=e,this.pos=0}function i(e){for(var t=0,n=0;n<e.length;n++)t+=Math.pow(256,n)*e[n];return t}function s(e){for(var t=0,n=0;n<e.length;n++)t+=Math.pow(256,e.length-n-1)*e[n];return t}function o(e){var t=s(e);return 128==(128&e[0])&&(t-=Math.pow(256,e.length)),t}function u(e){var t=i(e);return 128==(128&e[e.length-1])&&(t-=Math.pow(256,e.length)),t}function a(e,t){return function(){var n=this.buffer(e);return t(n)}}e("soop").imports();r.prototype.buffer=function(e){var t=this.subject.slice(this.pos,this.pos+e);return this.pos+=e,t},r.prototype.search=function(e){var t;if("string"==typeof e||n.isBuffer(e))return t=this.subject.slice(this.pos).indexOf(e),-1!==t&&(this.pos+=t+e.length),t;if("number"==typeof e){e=255&e;for(var r=this.pos,i=this.subject.length;i>r;r++)if(this.subject[r]==e)return t=r-this.pos,this.pos=r+1,t;return-1}},r.prototype.scan=function(e){var t=this.pos,n=this.search(e);if(-1!==n)return this.subject.slice(t,t+n);throw new Error("No match")},r.prototype.eof=function(){return this.pos>=this.subject.length},[1,2,4,8].forEach(function(e){var t=8*e;r.prototype["word"+t+"le"]=r.prototype["word"+t+"lu"]=a(e,i),r.prototype["word"+t+"ls"]=a(e,u),r.prototype["word"+t+"be"]=r.prototype["word"+t+"bu"]=a(e,s),r.prototype["word"+t+"bs"]=a(e,o),r.prototype.word8=r.prototype.word8u=r.prototype.word8be,r.prototype.word8s=r.prototype.word8bs}),r.prototype.varInt=function(){var e=this.word8();switch(e){case 253:return this.word16le();case 254:return this.word32le();case 255:return this.word64le();default:return e}},r.prototype.varStr=function(){var e=this.varInt();return this.buffer(e)},t.exports=e("soop")(r)}).call(this,e("buffer").Buffer)},{buffer:87,soop:164}],"./util/BinaryParser":[function(e,t,n){t.exports=e("b3ZSD7")},{}],173:[function(e,t,n){var r=e("fs"),i=e("crypto");n.readFileSync=function(e,t,n){var s=r.readFileSync(n,"binary");if(s.length<32)throw new Error("Crypted file "+n+" truncated");var o=s.slice(0,-32),u=s.slice(-32),a=i.createHmac("sha256",t);a.update(o);var f=a.digest("binary");if(f.toString()!=u.toString())throw new Error("Crypted file "+n+" failed HMAC checksum verification");var l=i.createDecipher(e,t),c=l.update(o,"binary","binary");return c+=l.final("binary")},n.readJFileSync=function(e,t,n){var r=this.readFileSync(e,t,n);return JSON.parse(r)},n.writeFileSync=function(e,t,n,s){var o=i.createCipher(e,t),u=o.update(s,"binary","binary");u+=o.final("binary");var a=i.createHmac("sha256",t);a.update(u);var f=a.digest("binary");return r.writeFileSync(n,u+f,"binary"),!0},n.writeJFileSync=function(e,t,n,r){var i=JSON.stringify(r);return this.writeFileSync(e,t,n,i)}},{crypto:91,fs:83}],"./util/EncodedData":[function(e,t,n){t.exports=e("eLfUFE")},{}],eLfUFE:[function(e,t,n){(function(n){function r(e,t){this.data=e,this.__proto__=t||"string"!=typeof e?this.encodings[t||"binary"]:this.encodings.base58}var i=e("soop").imports(),s=i.base58||e("../lib/Base58").base58Check;r.prototype.encoding=function(e){return e&&e!=this._encoding&&(this.data=this.as(e),this.__proto__=this.encodings[e]),this._encoding},r.prototype.withEncoding=function(e){return new r(this.as(e),e)},r.prototype.as=function(e){if(!o[e])throw new Error("invalid encoding");return this.converters[e].call(this)},r.prototype._validate=function(){this.withEncoding("binary")},r.prototype.isValid=function(){try{return this.validate(),!0}catch(e){return!1}},r.prototype.validate=function(){this._validate()},r.prototype.isValid=function(){try{return this.validate(),!0}catch(e){return!1}},r.prototype.toString=function(){return this.as("base58")},r.prototype.doAsBinary=function(e){var t=this.encoding();this.encoding("binary"),e.apply(this),this.encoding(t)};var o={binary:{converters:{binary:function(){var e=new n(this.data.length);return this.data.copy(e),e},base58:function(){return s.encode(this.data)},hex:function(){return this.data.toString("hex")}},_validate:function(){}},base58:{converters:{binary:function(){return s.decode(this.data)},hex:function(){return this.withEncoding("binary").as("hex")}}},hex:{converters:{binary:function(){return new n(this.data,"hex")},base58:function(){return this.withEncoding("binary").as("base58")}}}},u=function(){return this.data};for(var a in o)o.hasOwnProperty(a)&&(o[a].converters[a]||(o[a].converters[a]=u),o[a]._encoding=a);r.applyEncodingsTo=function(e){var t={};for(var n in o){var r=o[n],i={};for(var s in r)i[s]=r[s];i.__proto__=e.prototype,t[n]=i}e.prototype.encodings=t},r.applyEncodingsTo(r),t.exports=e("soop")(r)}).call(this,e("buffer").Buffer)},{"../lib/Base58":"6VqyzY",buffer:87,soop:164}],"./util/VersionedData":[function(e,t,n){t.exports=e("QLzNQg")},{}],QLzNQg:[function(e,t,n){(function(n){function r(e,t){return"number"!=typeof e?void r.super(this,arguments):(this.data=new n(t.length+1),this.__proto__=this.encodings.binary,this.version(e),void this.payload(t))}var i=e("soop").imports(),s=(i.base58||e("../lib/Base58").base58Check,i.parent||e("./EncodedData"));r.parent=s,s.applyEncodingsTo(r),r.prototype.version=function(e){return e||0===e?(this.doAsBinary(function(){this.data.writeUInt8(e,0)}),e):this.as("binary").readUInt8(0)},r.prototype.payload=function(e){return e?(this.doAsBinary(function(){e.copy(this.data,1)}),e):this.as("binary").slice(1)},t.exports=e("soop")(r)}).call(this,e("buffer").Buffer)},{"../lib/Base58":"6VqyzY","./EncodedData":"eLfUFE",buffer:87,soop:164}],178:[function(e,t,n){function r(e,t){Error.call(this),this.message=e,this.missingTxHash=t,this.name="MissingSourceError"}function i(e,t){Error.call(this),this.message=e,this.missingTxHash=t,this.name="VerificationError"}r.prototype.__proto__=Error.prototype,n.MissingSourceError=r,i.prototype.__proto__=Error.prototype,n.VerificationError=i},{}],179:[function(e,t,n){t.exports=e("./util")},{"./util":"ACyo5H"}],"./util/log":[function(e,t,n){t.exports=e("AdF7pF")},{}],AdF7pF:[function(e,t,n){"use strict";var r=function(){},i=function(){console.log(arguments)},s={none:{info:r,warn:r,err:r,debug:r},normal:{info:i,warn:i,err:i,debug:r},debug:{info:i,warn:i,err:i,debug:i}},o=e("../config");t.exports=o.log?o.log:s[o.logger||"normal"]},{"../config":"4itQ50"}],182:[function(e,t,n){n.curtime=function(){return Math.round(Date.now()/1e3)}},{}],ACyo5H:[function(e,t,n){(function(t,r){function i(e){for(e=e.substr(0,8);e.length<8;)e+="0";return e}function s(e){return l(e[1]).mul("100000000").add(i(e[2]))}function o(e){return l(i(e[1]))}function u(e){return l(e[1]).mul("100000000")}var a,f=e("crypto"),l=e("../lib/Bignum"),c=e("binary"),h=e("bufferput"),p=e("buffertools"),d=e("jssha"),v=!t.versions;v&&(a=e("../browser/vendor-bundle.js"));{var m=n.sha256=function(e){return new r(f.createHash("sha256").update(e).digest("binary"),"binary")},g=(n.sha512hmac=function(e,t){if(v){var n=new d(e.toString("hex"),"HEX"),i=n.getHMAC(t.toString("hex"),"HEX","SHA-512","HEX");return i=new r(i,"hex")}var s=f.createHmac("sha512",t),i=s.update(e).digest();return i},n.ripe160=function(e){if(!r.isBuffer(e))throw new Error("arg should be a buffer");if(v){for(var t=new a.crypto31.lib.WordArray.init(Crypto.util.bytesToWords(e),e.length),n=a.crypto31.RIPEMD160(t),i=n.words,s=[],o=0;o<32*i.length;o+=8)s.push(i[o>>>5]>>>24-o%32&255);return new r(s,"hex")}return new r(f.createHash("rmd160").update(e).digest("binary"),"binary")}),y=(n.sha1=function(e){return new r(f.createHash("sha1").update(e).digest("binary"),"binary")},n.twoSha256=function(e){return m(m(e))},n.sha256ripe160=function(e){return g(m(e))},n.formatHash=function(e){var t=new r(10);return e.copy(t,0,22,32),p.reverse(t).toString("hex")},n.formatHashFull=function(e){var t=new r(e.length);e.copy(t);var n=p.toHex(p.reverse(t));return n}),b=(n.formatHashAlt=function(e){var t=y(e);return t=t.replace(/^0*/,""),t.substr(0,10)},n.formatBuffer=function(e,t){null===t&&(t=10),(t>e.length||0===t)&&(t=e.length);var n=new r(t);e.copy(n,0,0,t);var i=p.toHex(n);return n.length<e.length&&(i+="..."),i},n.valueToBigInt=function(e){return r.isBuffer(e)?l.fromBuffer(e,{endian:"little",size:8}):e});n.bigIntToValue=function(e){return r.isBuffer(e)?e:e.toBuffer({endian:"little",size:8})}}n.bytesNeededToStore=bytesNeededToStore=function(e){return 0===e?0:Math.ceil((e.toString(2).replace("-","").length+1)/8)},n.negativeBuffer=negativeBuffer=function(e){for(var t=new r(e.length),n=0;n<e.length;n++)t[n]=~e[n],t[n]<0&&(t[n]+=256);for(var n=e.length-1;n>=0&&(t[n]+=1,t[n]>=256&&(t[n]-=256),0===t[n]);n--);return t},n.intToBuffer2C=function(e){var t=bytesNeededToStore(e),n=new h,r=e.toString(16),i="-"===r[0];r=r.replace("-","");for(var s=0;t>s;s++){var o=r.substring(r.length-2*(s+1),r.length-2*s);1===o.lenght&&(o="0"+o);var u=parseInt(o,16);n.word8(u)}var a=n.buffer();return i&&(a=p.reverse(a),a=negativeBuffer(a),a=p.reverse(a)),a};var w=function(e){var t;return 128&e[0]?(t=new r(e.length+1),e.copy(t,1),t[0]=0):t=e,t};n.intToBufferSM=function(e){"number"==typeof e&&(e=l(e));var t,n,i=e.cmp(0);return i>0?(t=e.toBuffer(),n=w(t),n=p.reverse(n)):0==i?n=new r([]):(t=e.neg().toBuffer(),n=w(t),n[0]|=128,n=p.reverse(n)),n},n.bufferSMToInt=function(e){if(!e.length)return l(0);if(e.length>4)throw new Error("Bigint cast overflow (> 4 bytes)");var t=new r(e.length);e.copy(t),t=p.reverse(t);var n=128&t[0];return n?(t[0]&=127,l.fromBuffer(t).neg()):l.fromBuffer(t)};var E=(n.formatValue=function(e){for(var t=b(e).toString(),n=t.length>8?t.substr(0,t.length-8):"0",r=t.length>8?t.substr(t.length-8):t;r.length<8;)r="0"+r;for(r=r.replace(/0*$/,"");r.length<2;)r+="0";return n+"."+r},/^\s*(\d+)\.(\d+)/),S=/^\s*\.(\d+)/,x=/^\s*(\d+)/;n.parseValue=function(e){"string"!=typeof e&&(e=e.toString());var t=e.match(E);return t?s(t):(t=e.match(S))?o(t):(t=e.match(x),t?u(t):void 0)};{var T=(n.createSynchrotron=function(e){var t={};return function(n){var r=Array.prototype.slice.call(arguments),i=function(){r[0]=function(){t[n]&&(t[n].length?t[n].shift()():delete t[n])},e.apply(null,r)};t[n]?t[n].push(i):(t[n]=[],i())}},n.decodeDiffBits=function(e,t){e=+e;for(var n=l(16777215&e),i=8*((e>>>24)-3);i-->0;)n=n.mul(2);if(t)return n;var s=n.toBuffer(),o=new r(32);return p.fill(o,0),s.copy(o,32-s.length),o}),N=(n.encodeDiffBits=function(e){if(r.isBuffer(e))e=l.fromBuffer(e);else if("function"!=typeof e.toBuffer)throw new Error("Incorrect variable type for difficulty");var t=e.toBuffer("mpint"),n=t.length-4,i=n<<24;return n>=1&&(i|=t[4]<<16),n>=2&&(i|=t[5]<<8),n>=3&&(i|=t[6]),i},n.calcDifficulty=function(e){r.isBuffer(e)||(e=T(e));var t=l.fromBuffer(e,{order:"forward"}),n=l.fromBuffer(k,{order:"forward"});return n.div(t).toNumber()},n.reverseBytes32=function(e){if(e.length%4)throw new Error("Util.reverseBytes32(): Data length must be multiple of 4");for(var t=new h,n=c.parse(e);!n.eof();){var r=n.word32le("word").vars.word;t.word32be(r)}return t.buffer()},n.getVarIntSize=function(e){return 253>e?1:65536>e?3:4294967296>e?5:9},n.varIntBuf=function(e){var t=void 0;return 253>e?(t=new r(1),t.writeUInt8(e,0)):65536>e?(t=new r(3),t.writeUInt8(253,0),t.writeUInt16LE(e,1)):4294967296>e?(t=new r(5),t.writeUInt8(254,0),t.writeUInt32LE(e,1)):(t=new r(9),t.writeUInt8(255,0),t.writeInt32LE(-1&e,1),t.writeUInt32LE(Math.floor(e/4294967296),5)),t});n.varStrBuf=function(e){return r.concat([N(e.length),e])}}n.NULL_HASH=p.fill(new r(32),0),n.EMPTY_BUFFER=new r(0),n.ZERO_VALUE=p.fill(new r(8),0);var C=new r("ffffffffffffffff","hex");n.INT64_MAX=C,n.COIN=1e8;var k=n.MAX_TARGET=new r("00000000FFFF0000000000000000000000000000000000000000000000000000","hex")}).call(this,e("/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),e("buffer").Buffer)},{"../browser/vendor-bundle.js":3,"../lib/Bignum":"9Sbj2J","/Users/ryanxcharles/dev/bitcore/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":103,binary:76,buffer:87,bufferput:"aXRuS6",buffertools:"fugeBw",crypto:91,jssha:156}],"./util/util":[function(e,t,n){t.exports=e("ACyo5H")},{}]},{},[])

var bitcore	= require('bitcore');


/*** Local storage ***/

function initJStorage () {
	var JSON;JSON||(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var r,o,n,a,i,u=gap,s=t[e];switch(s&&"object"==typeof s&&"function"==typeof s.toJSON&&(s=s.toJSON(e)),"function"==typeof rep&&(s=rep.call(t,e,s)),typeof s){case"string":return quote(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";if(gap+=indent,i=[],"[object Array]"===Object.prototype.toString.apply(s)){for(a=s.length,r=0;a>r;r+=1)i[r]=str(r,s)||"null";return n=0===i.length?"[]":gap?"[\n"+gap+i.join(",\n"+gap)+"\n"+u+"]":"["+i.join(",")+"]",gap=u,n}if(rep&&"object"==typeof rep)for(a=rep.length,r=0;a>r;r+=1)"string"==typeof rep[r]&&(o=rep[r],n=str(o,s),n&&i.push(quote(o)+(gap?": ":":")+n));else for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n=str(o,s),n&&i.push(quote(o)+(gap?": ":":")+n));return n=0===i.length?"{}":gap?"{\n"+gap+i.join(",\n"+gap)+"\n"+u+"}":"{"+i.join(",")+"}",gap=u,n}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,r){var o;if(gap="",indent="","number"==typeof r)for(o=0;r>o;o+=1)indent+=" ";else"string"==typeof r&&(indent=r);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var r,o,n=e[t];if(n&&"object"==typeof n)for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o=walk(n,r),void 0!==o?n[r]=o:delete n[r]);return reviver.call(e,t,n)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(){"use strict";function e(){var e=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),e=!0,window.localStorage.removeItem("_tmptest")}catch(t){}if(e)try{window.localStorage&&(b=window.localStorage,O="localStorage",N=b.jStorage_update)}catch(n){}else if("globalStorage"in window)try{window.globalStorage&&(b="localhost"==window.location.hostname?window.globalStorage["localhost.localdomain"]:window.globalStorage[window.location.hostname],O="globalStorage",N=b.jStorage_update)}catch(a){}else{if(m=document.createElement("link"),!m.addBehavior)return void(m=null);m.style.behavior="url(#default#userData)",document.getElementsByTagName("head")[0].appendChild(m);try{m.load("jStorage")}catch(i){m.setAttribute("jStorage","{}"),m.save("jStorage"),m.load("jStorage")}var s="{}";try{s=m.getAttribute("jStorage")}catch(f){}try{N=m.getAttribute("jStorage_update")}catch(l){}b.jStorage=s,O="userDataBehavior"}u(),c(),r(),g(),"addEventListener"in window&&window.addEventListener("pageshow",function(e){e.persisted&&o()},!1)}function t(){var e="{}";if("userDataBehavior"==O){m.load("jStorage");try{e=m.getAttribute("jStorage")}catch(t){}try{N=m.getAttribute("jStorage_update")}catch(r){}b.jStorage=e}u(),c(),g()}function r(){"localStorage"==O||"globalStorage"==O?"addEventListener"in window?window.addEventListener("storage",o,!1):document.attachEvent("onstorage",o):"userDataBehavior"==O&&setInterval(o,1e3)}function o(){var e;clearTimeout(C),C=setTimeout(function(){if("localStorage"==O||"globalStorage"==O)e=b.jStorage_update;else if("userDataBehavior"==O){m.load("jStorage");try{e=m.getAttribute("jStorage_update")}catch(t){}}e&&e!=N&&(N=e,n())},25)}function n(){var e,r=j.parse(j.stringify(y.__jstorage_meta.CRC32));t(),e=j.parse(j.stringify(y.__jstorage_meta.CRC32));var o,n=[],i=[];for(o in r)if(r.hasOwnProperty(o)){if(!e[o]){i.push(o);continue}r[o]!=e[o]&&"2."==String(r[o]).substr(0,2)&&n.push(o)}for(o in e)e.hasOwnProperty(o)&&(r[o]||n.push(o));a(n,"updated"),a(i,"deleted")}function a(e,t){e=[].concat(e||[]);var r,o,n,a;if("flushed"==t){e=[];for(var i in T)T.hasOwnProperty(i)&&e.push(i);t="deleted"}for(r=0,n=e.length;n>r;r++){if(T[e[r]])for(o=0,a=T[e[r]].length;a>o;o++)T[e[r]][o](e[r],t);if(T["*"])for(o=0,a=T["*"].length;a>o;o++)T["*"][o](e[r],t)}}function i(){var e=(+new Date).toString();if("localStorage"==O||"globalStorage"==O)try{b.jStorage_update=e}catch(t){O=!1}else"userDataBehavior"==O&&(m.setAttribute("jStorage_update",e),m.save("jStorage"));o()}function u(){if(b.jStorage)try{y=j.parse(String(b.jStorage))}catch(e){b.jStorage="{}"}else b.jStorage="{}";v=b.jStorage?String(b.jStorage).length:0,y.__jstorage_meta||(y.__jstorage_meta={}),y.__jstorage_meta.CRC32||(y.__jstorage_meta.CRC32={})}function s(){d();try{b.jStorage=j.stringify(y),m&&(m.setAttribute("jStorage",b.jStorage),m.save("jStorage")),v=b.jStorage?String(b.jStorage).length:0}catch(e){}}function f(e){if("string"!=typeof e&&"number"!=typeof e)throw new TypeError("Key name must be string or numeric");if("__jstorage_meta"==e)throw new TypeError("Reserved key name");return!0}function c(){var e,t,r,o,n=1/0,u=!1,f=[];if(clearTimeout(w),y.__jstorage_meta&&"object"==typeof y.__jstorage_meta.TTL){e=+new Date,r=y.__jstorage_meta.TTL,o=y.__jstorage_meta.CRC32;for(t in r)r.hasOwnProperty(t)&&(r[t]<=e?(delete r[t],delete o[t],delete y[t],u=!0,f.push(t)):r[t]<n&&(n=r[t]));1/0!=n&&(w=setTimeout(c,Math.min(n-e,2147483647))),u&&(s(),i(),a(f,"deleted"))}}function g(){var e,t;if(y.__jstorage_meta.PubSub){var r,o=L,n=[];for(e=t=y.__jstorage_meta.PubSub.length-1;e>=0;e--)r=y.__jstorage_meta.PubSub[e],r[0]>L&&(o=r[0],n.unshift(r));for(e=n.length-1;e>=0;e--)l(n[e][1],n[e][2]);L=o}}function l(e,t){if(J[e])for(var r=0,o=J[e].length;o>r;r++)try{J[e][r](e,j.parse(j.stringify(t)))}catch(n){}}function d(){if(y.__jstorage_meta.PubSub){for(var e=+new Date-2e3,t=0,r=y.__jstorage_meta.PubSub.length;r>t;t++)if(y.__jstorage_meta.PubSub[t][0]<=e){y.__jstorage_meta.PubSub.splice(t,y.__jstorage_meta.PubSub.length-t);break}y.__jstorage_meta.PubSub.length||delete y.__jstorage_meta.PubSub}}function p(e,t){y.__jstorage_meta||(y.__jstorage_meta={}),y.__jstorage_meta.PubSub||(y.__jstorage_meta.PubSub=[]),y.__jstorage_meta.PubSub.unshift([+new Date,e,t]),s(),i()}function _(e,t){for(var r,o=e.length,n=t^o,a=0;o>=4;)r=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24,r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16),r^=r>>>24,r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)^r,o-=4,++a;switch(o){case 3:n^=(255&e.charCodeAt(a+2))<<16;case 2:n^=(255&e.charCodeAt(a+1))<<8;case 1:n^=255&e.charCodeAt(a),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)}return n^=n>>>13,n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16),n^=n>>>15,n>>>0}var S="0.4.12",h=window.jQuery||window.$||(window.$={}),j={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(e){return String(e).evalJSON()}||h.parseJSON||h.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||h.toJSON};if("function"!=typeof j.parse||"function"!=typeof j.stringify)throw new Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page");var w,y={__jstorage_meta:{CRC32:{}}},b={jStorage:"{}"},m=null,v=0,O=!1,T={},C=!1,N=0,J={},L=+new Date,x={isXML:function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?"HTML"!==t.nodeName:!1},encode:function(e){if(!this.isXML(e))return!1;try{return(new XMLSerializer).serializeToString(e)}catch(t){try{return e.xml}catch(r){}}return!1},decode:function(e){var t,r="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(e){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t};return r?(t=r.call("DOMParser"in window&&new DOMParser||window,e,"text/xml"),this.isXML(t)?t:!1):!1}};h.jStorage={version:S,set:function(e,t,r){if(f(e),r=r||{},"undefined"==typeof t)return this.deleteKey(e),t;if(x.isXML(t))t={_is_xml:!0,xml:x.encode(t)};else{if("function"==typeof t)return void 0;t&&"object"==typeof t&&(t=j.parse(j.stringify(t)))}return y[e]=t,y.__jstorage_meta.CRC32[e]="2."+_(j.stringify(t),2538058380),this.setTTL(e,r.TTL||0),a(e,"updated"),t},get:function(e,t){return f(e),e in y?y[e]&&"object"==typeof y[e]&&y[e]._is_xml?x.decode(y[e].xml):y[e]:"undefined"==typeof t?null:t},deleteKey:function(e){return f(e),e in y?(delete y[e],"object"==typeof y.__jstorage_meta.TTL&&e in y.__jstorage_meta.TTL&&delete y.__jstorage_meta.TTL[e],delete y.__jstorage_meta.CRC32[e],s(),i(),a(e,"deleted"),!0):!1},setTTL:function(e,t){var r=+new Date;return f(e),t=Number(t)||0,e in y?(y.__jstorage_meta.TTL||(y.__jstorage_meta.TTL={}),t>0?y.__jstorage_meta.TTL[e]=r+t:delete y.__jstorage_meta.TTL[e],s(),c(),i(),!0):!1},getTTL:function(e){var t,r=+new Date;return f(e),e in y&&y.__jstorage_meta.TTL&&y.__jstorage_meta.TTL[e]?(t=y.__jstorage_meta.TTL[e]-r,t||0):0},flush:function(){return y={__jstorage_meta:{CRC32:{}}},s(),i(),a(null,"flushed"),!0},storageObj:function(){function e(){}return e.prototype=y,new e},index:function(){var e,t=[];for(e in y)y.hasOwnProperty(e)&&"__jstorage_meta"!=e&&t.push(e);return t},storageSize:function(){return v},currentBackend:function(){return O},storageAvailable:function(){return!!O},listenKeyChange:function(e,t){f(e),T[e]||(T[e]=[]),T[e].push(t)},stopListening:function(e,t){if(f(e),T[e]){if(!t)return void delete T[e];for(var r=T[e].length-1;r>=0;r--)T[e][r]==t&&T[e].splice(r,1)}},subscribe:function(e,t){if(e=(e||"").toString(),!e)throw new TypeError("Channel not defined");J[e]||(J[e]=[]),J[e].push(t)},publish:function(e,t){if(e=(e||"").toString(),!e)throw new TypeError("Channel not defined");p(e,t)},reInit:function(){t()},noConflict:function(e){return delete window.$.jStorage,e&&(window.jStorage=this),this}},e()}();
}

var storage;

try {
	storage	= require('node-persist');
}
catch (e) {}

if (storage) {
	storage.initSync();
}
else {
	initJStorage();
	storage	= {};

	var mappings	= {
		setItem: 'set',
		getItem: 'get',
		removeItem: 'deleteKey'
	};

	for (var k in mappings) {
		(function () {
			var f		= window.$.jStorage[mappings[k]];
			storage[k]	= function () { return f.apply(window.$.jStorage, arguments) };
		}());
	}
}


/*** Exchange rates ***/

var exchangeRates;

function setExchangeRates (request) {
	try {
		exchangeRates	= JSON.parse(request.responseText.replace(/\s/g, '').replace(/,\}$/, '}'));

		for (var k in exchangeRates) {
			exchangeRates[k]	= exchangeRates[k].last;
		}

		exchangeRates.BTC	= 1;
	}
	catch (e) {}
}

function getGetExchangeRates (isAsync) {
	var sendRequest;

	if (isAsync) {
		sendRequest	= function (request) {
			request.onreadystatechange	= function () {
				if (request.readyState == 4 && request.status == 200) {
					setExchangeRates(request);
				}
			};

			request.send();
		};
	}
	else {
		sendRequest	= function (request) {
			request.send();
			setExchangeRates(request);
		};
	}

	return function () {
		var request	= new XMLHttpRequest();
		request.open('GET', 'https://blockchain.info/ticker?cors=true', isAsync);
		sendRequest(request);
	};
}

getGetExchangeRates(false)();
setInterval(getGetExchangeRates(true), 3600000);


/*** Wallet ***/

Wallet	= function (options) {
	options	= options || {};

	if (typeof options == 'Wallet') {
		for (var k in {localCurrency: null, key: null, isReadOnly: null, address: null}) {
			this[k]	= options[k];
		}
	}
	else {
		this.localCurrency	= options.localCurrency || 'BTC';

		if (options.wif) {
			this.key		= Bitcoin.ECKey.fromWIF(options.wif);
		}
		else if (!options.address) {
			this.key		= Bitcoin.ECKey.makeRandom();
		}

		this.isReadOnly		= !this.key;
		this.address		= this.isReadOnly ? options.address : this.key.pub.getAddress().toString();
	}
};

Wallet.prototype.getBalance	= function (callback) {
	if (!callback) {
		return;
	}

	var self	= this;

	var request	= new XMLHttpRequest();

	request.onreadystatechange	= function () {
		if (request.readyState == 4 && request.status == 200) {
			var balance	= parseInt(request.responseText || '0', 10) / 100000000;

			callback({btc: balance, local: balance * exchangeRates[self.localCurrency]});
		}
	};

	request.open('GET', 'https://blockchain.info/q/addressbalance/' + self.address + '?cors=true', true);
	request.send();
};

Wallet.prototype.getTransactionHistory	= function (callback) {
	if (!callback) {
		return;
	}

	var self	= this;

	var request	= new XMLHttpRequest();

	request.onreadystatechange	= function () {
		if (request.readyState == 4 && request.status == 200) {
			var exchangeRate	= exchangeRates[self.localCurrency];
			
			var transactions;
			try {
				transactions	= JSON.parse(request.responseText).txs || [];
			}
			catch (e) {
				transactions	= [];
			}

			for (var i = 0 ; i < transactions.length ; ++i) {
				var transaction	= transactions[i];

				var senderAddresses		= {};
				var recipientAddresses	= {};

				transaction.valueInLocal	= transaction.valueIn * exchangeRate;
				transaction.valueOutLocal	= transaction.valueOut * exchangeRate;

				for (var j = 0 ; j < transaction.vin.length ; ++j) {
					var vin	= transaction.vin[j];

					transaction.wasSentByMe	= transaction.wasSentByMe || vin.addr == self.address;
					vin.valueLocal			= vin.value * exchangeRate;

					senderAddresses[vin.addr]	= true;
				}

				for (var j = 0 ; j < transaction.vout.length ; ++j) {
					var vout	= transaction.vout[j];

					vout.valueLocal	= parseFloat(vout.value, 10) * exchangeRate;

					for (var k = 0 ; k < vout.scriptPubKey.addresses.length ; ++k) {
						var recipientAddress	= vout.scriptPubKey.addresses[k];

						if (!senderAddresses[recipientAddress]) {
							recipientAddresses[vout.scriptPubKey.addresses[k]]	= true;
						}
					}
				}

				/* Friendly properties */
				transaction.amount		= transaction.valueOutLocal;
				transaction.isConfirmed	= (transaction.confirmations || 0) >= 6;
				transaction.senders		= Object.keys(senderAddresses);
				transaction.recipients	= Object.keys(recipientAddresses);
				transaction.time		= transaction.time ? new Date(transaction.time * 1000) : new Date();
				transaction.wasSentByMe	= false;
			}

			callback(transactions);
		}
	};

	request.open('GET', 'http://insight.bitpay.com/api/txs/?address=' + self.address, true);
	request.send();
};

Wallet.prototype.onReceive	= function (callback) {
	if (!callback) {
		return;
	}

	var self	= this;

	var previousTransactionsKey	= 'simplebtcPreviousTransactions' + self.address;
	var previousTransactions	= storage.getItem(previousTransactionsKey) || {};

	function persistPreviousTransactions () {
		storage.setItem(previousTransactionsKey, previousTransactions);
	}

	var processReceiptLock	= false;

	function processReceipt () {
		if (processReceiptLock) {
			return;
		}

		processReceiptLock	= true;

		self.getTransactionHistory(function (transactions) {
			try {
				for (var i = 0 ; i < transactions.length ; ++i) {
					var transaction	= transactions[i];

					if (transaction.isConfirmed) {
						var txid		= transaction.txid;

						if (!previousTransactions[txid]) {
							if (!transaction.wasSentByMe) {
								callback(transaction);
							}

							previousTransactions[txid]	= true;
						}
					}
				}
			}
			finally {
				processReceiptLock	= false;
				persistPreviousTransactions();
			}
		});
	}

	function setProcessReceiptInterval () {
		setInterval(processReceipt, 300000);
	}

	if (Object.keys(previousTransactions).length > 0) {
		processReceipt();
		setProcessReceiptInterval();
	}
	else {
		self.getTransactionHistory(function (initialTransactionHistory) {
			for (var i = 0 ; i < initialTransactionHistory.length ; ++i) {
				var transaction	= initialTransactionHistory[i];

				if (transaction.isConfirmed) {
					previousTransactions[transaction.txid]	= true;
				}
			}

			persistPreviousTransactions();

			setProcessReceiptInterval();
		});
	}
};

Wallet.prototype.send	= function (recipientAddress, amount, callback) {
	var self	= this;

	if (self.isReadOnly) {
		callback && callback(false, 'Read-only wallet');
		return;
	}

	var toleranceAmount	= 0.00025;

	self.getBalance(function (balance) {
		amount	= amount / exchangeRates[self.localCurrency];

		if ((amount - toleranceAmount) > balance.btc) {
			callback && callback(false, 'Insufficient funds');
			return;
		}

		var unspentRequest	= new XMLHttpRequest();

		unspentRequest.onreadystatechange	= function () {
			if (unspentRequest.readyState == 4 && unspentRequest.status == 200) {
				var _Bitcoin	= Bitcoin;
				var bitcoreTransaction;

				var originatingTransactionsKey	= 'simplebtcOriginatingTransactions' + self.address;
				var originatingTransactions		= storage.getItem(originatingTransactionsKey) || {};
				var newOriginatingTransactions	= {};

				function persistOriginatingTransactions () {
					storage.setItem(originatingTransactionsKey, originatingTransactions);
				}

				var exactBalance	= 0;
				var utxo			= JSON.parse(unspentRequest.responseText) || [];

				for (var i = 0 ; i < utxo.length ; ++i) {
					var txout	= utxo[i];

					if (originatingTransactions[txout.txid]) {
						if (!txout.confirmations) {
							newOriginatingTransactions[txout.txid]	= true;
							txout.confirmations	= 1;
							// txout.ts			= (i + 1 < utxo.length) ? utxo[i + 1].ts + 100 : txout.ts - 3600;
						}
					}

					if (txout.confirmations) {
						exactBalance	+= txout.amount;
					}
				}

				if (toleranceAmount > Math.abs(exactBalance - amount)) {
					amount	= exactBalance;
				}

				originatingTransactions	= newOriginatingTransactions;
				persistOriginatingTransactions();

				function createBitcoreTransaction () {
					bitcoreTransaction	= new bitcore.TransactionBuilder()
						.setUnspent(utxo)
						.setOutputs([{
							address:
								recipientAddress.address ?
									recipientAddress.address :
									recipientAddress.pub ?
										recipientAddress.pub.getAddress().toString() :
										recipientAddress
							,
							amount: amount
						}])
						.build()
					;
				}

				try {
					var count	= 0;

					while (true) {
						try {
							createBitcoreTransaction();
							break;
						}
						catch (e) {
							if (e.message.indexOf('totalNeededAmount') > -1) {
								amount	-= 0.00005;

								if (++count > 100) {
									callback && callback(false, e.message);
									return;
								}
							}
							else {
								throw e;
							}
						}
					}
				}
				finally {
					Bitcoin	= _Bitcoin;
				}

				var transaction		= Bitcoin.Transaction.fromHex(bitcoreTransaction.serialize().toString('hex'));
				transaction.sign(0, self.key);

				var txid	= '';
				var hash	= transaction.getHash();
				for (var i = hash.length - 1 ; i >= 0 ; --i) {
					var str	= hash[i].toString(16);
					txid	+=
						str.length == 0 ?
							'00' :
							str.length == 1 ?
								'0' + str : 
								str.length == 2 ?
									str :
									str.substring(str.length-2, str.length)
					;
				}
				originatingTransactions[txid]	= true;
				persistOriginatingTransactions();

				var pushtxRequest	= new XMLHttpRequest();

				if (callback) {
					pushtxRequest.onreadystatechange	= function () {
						if (pushtxRequest.readyState == 4) {
							callback(pushtxRequest.status == 200, pushtxRequest.responseText);
						}
					};
				}

				pushtxRequest.open('POST', 'https://blockchain.info/pushtx?cors=true', true);
				var formData	= new FormData();
				formData.append('tx', transaction.toHex());
				pushtxRequest.send(formData);
			}
		};

		unspentRequest.open('GET', 'http://insight.bitpay.com/api/addr/' + self.address + '/utxo', true);
		unspentRequest.send();
	});
};


if (typeof module != 'undefined' && module.exports) {
	module.exports.Wallet	= Wallet;
}


}());
